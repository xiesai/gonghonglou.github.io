<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[100 Days, 100 Blogs]]></title>
    <url>%2F2017%2F08%2F09%2F100days-100blogs%2F</url>
    <content type="text"><![CDATA[ä¸€ç›´ä»¥æ¥éƒ½æ´»è·ƒåœ¨å¾®åšã€ç®€ä¹¦ç­‰å„å¤§ç½‘ç«™æœç½—æŠ€æœ¯åšå®¢ï¼Œæ¯å½“çœ‹åˆ°å¤§ç‰›å‘å¸ƒæˆ–è€…è½¬å‘æŠ€æœ¯åšå®¢éƒ½ä¼šç‚¹è¿›åŽ»æ‚ä¸€çœ¼ï¼Œå†…å®¹æ¯”è¾ƒå¥½æˆ–è€…æ¯”è¾ƒæ„Ÿå…´è¶£çš„è¯å°±ä¼šè½¬å‘æ”¶è—ã€‚ä½†è¿™äº›éƒ½æ˜¯é›¶é›¶ç¢Žç¢Žçš„ï¼Œå¤§å¤šæ—¶å€™éƒ½æ˜¯è·¯ä¸Šã€ç¡è§‰å‰æˆ–è€…ä»€ä¹ˆé—´éš™çœ‹åˆ°ä¸€ç¯‡å¥½æ–‡ç« ï¼Œç®€å•çœ‹ä¸€ä¸‹å°±æ”¶è—äº†ï¼Œå½“æ—¶æ¥ä¸åŠ æƒ³ç€ä»¥åŽç»†è¯»ï¼Œä½†å¾€å¾€æ˜¯åœ¨è¿™ä¹‹åŽåŸºæœ¬ä¸Šä¸ä¼šå†æ¬¡ç¿»é˜…äº†ã€‚æ‰€ä»¥è®¡åˆ’ä»Žä»Šå¤©èµ·æ¯å¤©ä»”ç»†é˜…è¯»ä¸€ç¯‡æŠ€æœ¯åšå®¢ï¼Œåœ¨è¿™é‡Œåšä¸€åšç¬”è®°ã€‚ å¾®åšæ¯æ—¥æ‰“å¡ï¼š#100days,100blogs# # æŒç»­æ›´æ–°ä¸­â€¦â€¦# Day 27 : å¤„ç†æ‰‹åŠ¿å†²çªå’Œé”™ä¹±çš„ä¸€ç‚¹ç»éªŒç”± çŽ‰ä»¤å¤©ä¸‹çš„åšå®¢ å‘å¸ƒ å¯¹äºŽå¤æ‚é¡µé¢æŽºåˆå¤šç§æ‰‹åŠ¿çš„åœºæ™¯ï¼Œé‡‡ç”¨â€œçŠ¶æ€æœºâ€çš„æ–¹æ¡ˆæ¥åŒºåˆ†æ‰‹åŠ¿è¿›è¡Œé¡µé¢æ“ä½œ â€“ å¯¹æ‰‹åŠ¿ç»Ÿä¸€å¤„ç†å’Œåˆ†å‘ï¼šæŠŠå„ç§æ‰‹åŠ¿å…¨éƒ½æ·»åŠ åˆ°åº•å±‚çš„å…¨å±è§†å›¾ä¸Šï¼Œç„¶åŽç»Ÿä¸€å¤„ç†å’Œåˆ†å‘ç»“æžœã€‚å› ä¸ºæ¯ç§æ‰‹åŠ¿åªæœ‰ä¸€ä¸ªä¸”éƒ½åŠ åœ¨äº†åº•å±‚è§†å›¾ï¼Œæ‰€ä»¥ä¸ä¼šå‘ç”Ÿä¸åŒè§†å›¾é—´çš„æ‰‹åŠ¿é”™ä¹±ã€‚è€Œä¸åŒç§æ‰‹åŠ¿ä¹‹é—´çš„å†²çªå°±éœ€è¦åœ¨ UIGestureRecognizerDelegate ä¸­æ ¹æ®ä¸šåŠ¡é€»è¾‘æ¥è§£å†³äº†ã€‚â€“ è®¡ç®—å“åº”æ‰‹åŠ¿çš„è§†å›¾ï¼šå¯ä»¥é€šè¿‡ locationInView: èŽ·å–æ‰‹åŠ¿çš„åæ ‡ï¼Œä½†è¿™é‡Œå†³ä¸èƒ½ç®€å•åœ°è®¡ç®—æ‰‹åŠ¿åæ ‡åˆ°è§†å›¾ center çš„è·ç¦»å¹¶é€‰å–æœ€è¿‘çš„è§†å›¾ï¼Œè¿™é‡Œéœ€è¦æ£€æµ‹æ‰‹åŠ¿åæ ‡å¤„äºŽå“ªä¸ªè§†å›¾çš„èŒƒå›´å†…ã€‚â€“ å¤„ç† Pinch æ‰‹åŠ¿ï¼š1ã€åˆ†è¾¨çŽ‡ï¼šå½“å¯¹å«æœ‰çŸ¢é‡å†…å®¹çš„è§†å›¾è¿›è¡Œç¼©æ”¾æ—¶ä¼šæœ‰æ¨¡ç³Šå’Œé”¯é½¿å‡ºçŽ°ï¼Œè¿™æ—¶é€’å½’éœ€è¦æ”¹å˜ UIView çš„ contentScaleFactor å’Œ CALayer çš„ contentsScale å±žæ€§ã€‚2ã€åæ ‡ï¼šè§†å›¾çš„ transform å±žæ€§æ˜¯ä¸ä¼šä¿®æ”¹è§†å›¾çš„ bounds çš„ï¼Œä½† frame ä½œä¸ºè®¡ç®—å±žæ€§è¿˜æ˜¯ä¼šå˜åŒ–çš„ã€‚ä¹Ÿå°±æ˜¯è¯´æ— è®ºè§†å›¾æ”¾å¤§äº†å¤šå°‘å€ï¼Œè§†å›¾å†…éƒ¨çš„å­è§†å›¾çš„ frame ä¸ä¼šå˜ã€‚â€“ å¤„ç† Rotation æ‰‹åŠ¿ï¼šä¸€ç›´ç”¨ã€Žè§†å›¾åŒºåŸŸã€è€Œä¸ç›´æŽ¥ç”¨ frame æ¥æè¿°æ‰‹åŠ¿åˆ¤æ–­ä¾æ®ï¼Œæ˜¯å› ä¸ºå½“è§†å›¾æ—‹è½¬ï¼ˆ90Â°å€æ•°é™¤å¤–ï¼‰ä¹‹åŽ frame å¹¶ä¸ç­‰äºŽã€Žè§†å›¾åŒºåŸŸã€ï¼ˆæ–‡ä¸­æœ‰æä¾›æ–¹æ³•ç”¨äºŽåˆ¤æ–­æŸä¸ªç‚¹æ˜¯å¦åœ¨ã€Žè§†å›¾åŒºåŸŸã€å†…ï¼‰â€“ å¦‚æžœæ‰€æœ‰æ‰‹åŠ¿éƒ½äº¤ç»™ä¸€ä¸ªåº•å±‚è§†å›¾ç»Ÿä¸€å¤„ç†çš„è¯ï¼Œä¸Šå±‚é‚£ä¸€å¨è§†å›¾æ˜¯ä¸éœ€è¦å“åº”è§¦æ‘¸äº‹ä»¶çš„ï¼Œæœ‰äº›ç”šè‡³å¯ä»¥ç”¨ Layer æ¥åšã€‚ å…¶ä¸­ä¸¤æ¡å‚è€ƒé“¾æŽ¥å€¼å¾—å‚è€ƒï¼šTaking Charge of UIView Transforms in iOS ProgrammingScaling UITextView using contentScaleFactor property # Day 26 : è¯¦è§£CALayer å’Œ UIViewçš„åŒºåˆ«å’Œè”ç³»ç”± kissGod å‘å¸ƒ â€“ æ¯ä¸ª UIView å†…éƒ¨éƒ½æœ‰ä¸€ä¸ª CALayer åœ¨èƒŒåŽæä¾›å†…å®¹çš„ç»˜åˆ¶å’Œæ˜¾ç¤ºï¼Œå¹¶ä¸” UIView çš„å°ºå¯¸æ ·å¼éƒ½ç”±å†…éƒ¨çš„ Layer æ‰€æä¾›ã€‚ä¸¤è€…éƒ½æœ‰æ ‘çŠ¶å±‚çº§ç»“æž„ï¼Œlayer å†…éƒ¨æœ‰ SubLayersï¼ŒView å†…éƒ¨æœ‰ SubViews.ä½†æ˜¯ Layer æ¯” View å¤šäº†ä¸ªAnchorPointâ€“ åœ¨ Viewæ˜¾ç¤ºçš„æ—¶å€™ï¼ŒUIView åšä¸º Layer çš„ CALayerDelegate,View çš„æ˜¾ç¤ºå†…å®¹ç”±å†…éƒ¨çš„ CALayer çš„ displayâ€“ CALayer æ˜¯é»˜è®¤ä¿®æ”¹å±žæ€§æ”¯æŒéšå¼åŠ¨ç”»çš„ï¼Œåœ¨ç»™ UIView çš„ Layer åšåŠ¨ç”»çš„æ—¶å€™ï¼ŒView ä½œä¸º Layer çš„ä»£ç†ï¼ŒLayer é€šè¿‡ actionForLayer:forKey:å‘ Viewè¯·æ±‚ç›¸åº”çš„ action(åŠ¨ç”»è¡Œä¸º)â€“ layer å†…éƒ¨ç»´æŠ¤ç€ä¸‰åˆ† layer tree,åˆ†åˆ«æ˜¯ presentLayer Tree(åŠ¨ç”»æ ‘),modeLayer Tree(æ¨¡åž‹æ ‘), Render Tree (æ¸²æŸ“æ ‘),åœ¨åš iOSåŠ¨ç”»çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¿®æ”¹åŠ¨ç”»çš„å±žæ€§ï¼Œåœ¨åŠ¨ç”»çš„å…¶å®žæ˜¯ Layer çš„ presentLayerçš„å±žæ€§å€¼,è€Œæœ€ç»ˆå±•ç¤ºåœ¨ç•Œé¢ä¸Šçš„å…¶å®žæ˜¯æä¾› Viewçš„modelLayerâ€“ ä¸¤è€…æœ€æ˜Žæ˜¾çš„åŒºåˆ«æ˜¯ Viewå¯ä»¥æŽ¥å—å¹¶å¤„ç†äº‹ä»¶ï¼Œè€Œ Layer ä¸å¯ä»¥ # Day 25 : iOS å¸¸è§çŸ¥è¯†ç‚¹ï¼ˆä¸‰ï¼‰ï¼šLockç”± AidenRao å‘å¸ƒ iOS ä¸­çš„å…«å¤§é”â€“ NSLockï¼šéµå¾ª NSLocking åè®®lock æ–¹æ³•æ˜¯åŠ é”ï¼Œunlock æ˜¯è§£é”ï¼ŒtryLock æ˜¯å°è¯•åŠ é”ï¼Œå¦‚æžœå¤±è´¥çš„è¯è¿”å›ž NOï¼ŒlockBeforeDate: æ˜¯åœ¨æŒ‡å®šDateä¹‹å‰å°è¯•åŠ é”ï¼Œå¦‚æžœåœ¨æŒ‡å®šæ—¶é—´ä¹‹å‰éƒ½ä¸èƒ½åŠ é”ï¼Œåˆ™è¿”å›žNOäº’æ–¥é”ä¼šä½¿å¾—çº¿ç¨‹é˜»å¡žï¼Œé˜»å¡žçš„è¿‡ç¨‹åˆåˆ†ä¸¤ä¸ªé˜¶æ®µï¼Œç¬¬ä¸€é˜¶æ®µæ˜¯ä¼šå…ˆç©ºè½¬ï¼Œå¯ä»¥ç†è§£æˆè·‘ä¸€ä¸ª while å¾ªçŽ¯ï¼Œä¸æ–­åœ°åŽ»ç”³è¯·åŠ é”ï¼Œåœ¨ç©ºè½¬ä¸€å®šæ—¶é—´ä¹‹åŽï¼Œçº¿ç¨‹ä¼šè¿›å…¥ waiting çŠ¶æ€ï¼Œæ­¤æ—¶çº¿ç¨‹å°±ä¸å ç”¨CPUèµ„æºäº†ï¼Œç­‰é”å¯ç”¨çš„æ—¶å€™ï¼Œè¿™ä¸ªçº¿ç¨‹ä¼šç«‹å³è¢«å”¤é†’ã€‚â€“ NSConditionLockï¼šéµå¾ª NSLocking åè®®ï¼Œæ–¹æ³•éƒ½ç±»ä¼¼ï¼Œåªæ˜¯å¤šäº†ä¸€ä¸ª condition å±žæ€§ï¼Œä»¥åŠæ¯ä¸ªæ“ä½œéƒ½å¤šäº†ä¸€ä¸ªå…³äºŽ condition å±žæ€§çš„æ–¹æ³•ã€‚NSConditionLock è¿˜å¯ä»¥å®žçŽ°ä»»åŠ¡ä¹‹é—´çš„ä¾èµ–â€“ NSRecursiveLockï¼šé€’å½’é”ï¼Œä»–å’Œ NSLock çš„åŒºåˆ«åœ¨äºŽï¼ŒNSRecursiveLock å¯ä»¥åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­é‡å¤åŠ é”ï¼ˆåæ­£å•çº¿ç¨‹å†…ä»»åŠ¡æ˜¯æŒ‰é¡ºåºæ‰§è¡Œçš„ï¼Œä¸ä¼šå‡ºçŽ°èµ„æºç«žäº‰é—®é¢˜ï¼‰ï¼ŒNSRecursiveLock ä¼šè®°å½•ä¸Šé”å’Œè§£é”çš„æ¬¡æ•°ï¼Œå½“äºŒè€…å¹³è¡¡çš„æ—¶å€™ï¼Œæ‰ä¼šé‡Šæ”¾é”ï¼Œå…¶å®ƒçº¿ç¨‹æ‰å¯ä»¥ä¸Šé”æˆåŠŸâ€“ NSConditionï¼šNSCondition å¹¶ä¸ä¼šåƒä¸Šæ–‡çš„é‚£äº›é”ä¸€æ ·ï¼Œå…ˆè½®è¯¢ï¼Œè€Œæ˜¯ç›´æŽ¥è¿›å…¥ waiting çŠ¶æ€ï¼Œå½“å…¶å®ƒçº¿ç¨‹ä¸­çš„è¯¥é”æ‰§è¡Œ signal æˆ–è€… broadcast æ–¹æ³•æ—¶ï¼Œçº¿ç¨‹è¢«å”¤é†’ï¼Œç»§ç»­è¿è¡Œä¹‹åŽçš„æ–¹æ³•â€“ @synchronizedï¼šâ€“ dispatch_semaphoreï¼šGCD ç”¨æ¥åŒæ­¥çš„ä¸€ç§æ–¹å¼â€“ OSSpinLockï¼šOSSpinLock ä¼šä¸€ç›´è½®è¯¢ï¼Œç­‰å¾…æ—¶ä¼šæ¶ˆè€—å¤§é‡ CPU èµ„æºï¼Œä¸é€‚ç”¨äºŽè¾ƒé•¿æ—¶é—´çš„ä»»åŠ¡â€“ pthread_mutexï¼šC è¯­è¨€ä¸‹å¤šçº¿ç¨‹åŠ äº’æ–¥é”çš„æ–¹å¼ è¿™é‡Œä»‹ç»äº†iOSä¸­çš„å‡ ç§é”ï¼Œç®€å•ä»‹ç»äº†å…¶ä¸­çš„ç”¨æ³•ï¼Œä½†ä»…å‡­é˜…è¯»ä¸€ç¯‡åšå®¢å¹¶ä¸èƒ½ç†ŸçŸ¥iOSä¸­é”çš„åº”ç”¨ï¼Œå…·ä½“çš„åŽŸç†åŠä½¿ç”¨è¿˜æ˜¯è¦ä»£ç ä¸­å®žè·µæ‰æ˜¯ã€‚ # Day 24 : iOSä¹¦å†™é«˜è´¨é‡ä»£ç ä¹‹è€¦åˆçš„å¤„ç†ç”± MrPeakæ‚è´§é“º å‘å¸ƒ å†™é«˜è´¨é‡ä»£ç ä¹‹è€¦åˆçš„å¤„ç†çš„å‡ ç§æ–¹å¼ï¼šâ€“ .må¼•ç”¨ï¼šç›´æŽ¥åœ¨ .m æ–‡ä»¶åˆ›å»ºå¯¹è±¡è°ƒç”¨æ–¹æ³•â€“ .h Propertyï¼š.h æ–‡ä»¶ä¸­å£°æ˜Žå¼•ç”¨ï¼Œä¾èµ–å…³ç³»æ¸…æ™°â€“ .h ReadOnly Propertyï¼šé‡å†™ setter æ–¹æ³•ï¼Œå¯¹ä»£ç æœ‰æ›´å¤§çš„æŽŒæŽ§èƒ½åŠ›ï¼Œä¸”é¿å…è½»æ˜“ä¿®æ”¹å¼•ç”¨å±žæ€§â€“ init æ³¨å…¥ï¼šå¯¹å¤–å°±åªæä¾›ä¸€æ¬¡æœºä¼šï¼ˆåˆå§‹åŒ–initï¼‰æ¥è®¾ç½®â€“ parameter æ³¨å…¥ï¼šå°†ä¾èµ–ç±»ä½œä¸ºå‚æ•°ä¼ å…¥å‡½æ•°ï¼Œè€¦åˆåªå‘ç”Ÿåœ¨å‡½æ•°å†…éƒ¨ï¼Œä¸€æ—¦å‡½æ•°è°ƒç”¨ç»“æŸï¼Œå°±ç»“æŸäº†ä¾èµ–å…³ç³»â€“ å•ä¾‹å¼•ç”¨ï¼šå‡½æ•°è°ƒç”¨ä¸­ä½¿ç”¨å•ä¾‹ï¼Œç¼ºç‚¹ä¹Ÿååˆ†æ˜Žæ˜¾ï¼Œåº”å½“æ…Žç”¨å•ä¾‹â€“ ç»§æ‰¿ï¼šé€šè¿‡ç»§æ‰¿è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ï¼Œä½†ç¡®è®¤çˆ¶å­å…³ç³»ä¹Ÿæ˜¯éº»çƒ¦çš„å­˜åœ¨â€“ runtimeä¾èµ–ï¼šè€¦åˆåº¦éžå¸¸ä¹‹ä½Žï¼Œç”šè‡³å¯ä»¥è¯´æ„Ÿè§‰ä¸åˆ°ï¼Œä½†æ˜¯å½“ä¾èµ–ç±»çš„æ–¹æ³•åå‘ç”Ÿæ”¹å˜æ—¶ç¼–è¯‘å¹¶ä¸ä¼šæé†’â€“ protocolä¾èµ–ï¼šå¥½å¤„åœ¨äºŽä»–åªè§„å®šäº†æ–¹æ³•çš„å£°æ˜Žï¼Œå¹¶ä¸é™å®šå…·ä½“æ˜¯é‚£ä¸ªç±»æ¥å®žçŽ°å®ƒï¼Œç»™åŽæœŸçš„ç»´æŠ¤ç•™ä¸‹æ›´å¤§çš„ç©ºé—´å’Œå¯èƒ½æ€§ ä»¥ä¸Šæ–¹æ³•çš„ä¼˜ç‚¹å’Œç¼ºç‚¹éƒ½å¾ˆæ˜Žæ˜¾ï¼Œæ€Žä¹ˆä½¿ç”¨è¿˜è¦é ä¸šåŠ¡å’Œcoderè‡ªå·±å†³å®šã€‚ # Day 23 : iOSå…³äºŽæ—¶é—´çš„å¤„ç†ç”± MrPeakæ‚è´§é“º å‘å¸ƒ â€“ GMTï¼šä»¥æ ¼æž—å°¼æ²»çš„æ—¶é—´ä½œä¸ºå…¬å…±æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„GMTæ—¶é—´ï¼ˆGreenwich Mean Timeï¼‰ã€‚â€“ UTCï¼šåŽŸå­é’Ÿæ‰€åæ˜ çš„æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çŽ°åœ¨æ‰€ä½¿ç”¨çš„UTCï¼ˆCoordinated Universal Time ï¼‰æ ‡å‡†æ—¶é—´ã€‚â€“ NSDateï¼šæè¿°çš„æ˜¯æ—¶é—´çº¿ä¸Šçš„ä¸€ä¸ªç»å¯¹çš„å€¼ï¼Œå’Œæ—¶åŒºå’Œæ–‡åŒ–æ— å…³ï¼Œå®ƒå‚è€ƒçš„å€¼æ˜¯ï¼šä»¥UTCä¸ºæ ‡å‡†çš„ï¼Œ2001å¹´ä¸€æœˆä¸€æ—¥00ï¼š00ï¼š00è¿™ä¸€åˆ»çš„æ—¶é—´ç»å¯¹å€¼ã€‚å—æ‰‹æœºç³»ç»Ÿæ—¶é—´æŽ§åˆ¶çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ä½ ä¿®æ”¹äº†æ‰‹æœºä¸Šçš„æ—¶é—´æ˜¾ç¤ºï¼ŒNSDateèŽ·å–å½“å‰æ—¶é—´çš„è¾“å‡ºä¹Ÿä¼šéšä¹‹æ”¹å˜ã€‚1234NSDate* date = [NSDate date];NSLog(@"current date: %@", date); // ç»å¯¹çš„UTCæ—¶é—´NSLog(@"current date interval: %f", [date timeIntervalSinceReferenceDate]); // è¿”å›žçš„æ˜¯è·ç¦»å‚è€ƒæ—¶é—´çš„åç§»é‡NSLog(@"timeIntervalSince1970: %f", [date timeIntervalSince1970]); // è¿”å›žUnix time â€“ CFAbsoluteTimeGetCurrent()ï¼šå‚è€ƒç‚¹æ˜¯ï¼šä»¥GMTä¸ºæ ‡å‡†çš„ï¼Œ2001å¹´ä¸€æœˆä¸€æ—¥00ï¼š00ï¼š00è¿™ä¸€åˆ»çš„æ—¶é—´ç»å¯¹å€¼ã€‚ä¼šè·Ÿç€å½“å‰è®¾å¤‡çš„ç³»ç»Ÿæ—¶é—´ä¸€èµ·å˜åŒ–ï¼Œä¹Ÿå¯èƒ½ä¼šè¢«ç”¨æˆ·ä¿®æ”¹ã€‚â€“ gettimeofdayï¼šèŽ·å¾—çš„å€¼æ˜¯Unix timeã€‚Unix timeæ˜¯ä»¥UTC 1970å¹´1æœˆ1å· 00ï¼š00ï¼š00ä¸ºåŸºå‡†æ—¶é—´ï¼Œå½“å‰æ—¶é—´è·ç¦»åŸºå‡†ç‚¹åç§»çš„ç§’æ•°ã€‚å—å½“å‰è®¾å¤‡çš„ç³»ç»Ÿæ—¶é—´å½±å“ã€‚åªä¸è¿‡æ˜¯å‚è€ƒçš„æ—¶é—´åŸºå‡†ç‚¹ä¸ä¸€æ ·è€Œå·²ã€‚æˆ‘ä»¬å’ŒæœåŠ¡å™¨é€šè®¯çš„æ—¶å€™ä¸€èˆ¬ä½¿ç”¨Unix timeã€‚1234struct timeval now;struct timezone tz;gettimeofday(&amp;now, &amp;tz);NSLog(@"gettimeofday: %ld", now.tv_sec); // Unix time åœ¨Macçš„ç»ˆç«¯å¯ä»¥é€šè¿‡ date -r 1481266031 å‘½ä»¤è½¬æ¢æˆå¯é˜…è¯»çš„æ—¶é—´ã€‚â€“ mach_absolute_time()ï¼šè¿”å›žçš„æ˜¯CPUå·²ç»è¿è¡Œçš„tickï¼ˆCPUçš„æ—¶é’Ÿå‘¨æœŸæ•°ï¼‰çš„æ•°é‡ã€‚å°†è¿™ä¸ªtickæ•°ç»è¿‡ä¸€å®šçš„è½¬æ¢å°±å¯ä»¥å˜æˆç§’æ•°ï¼Œæˆ–è€…çº³ç§’æ•°ï¼Œè¿™æ ·å°±å’Œæ—¶é—´ç›´æŽ¥å…³è”äº†ã€‚ä¸ä¼šå—ç³»ç»Ÿæ—¶é—´å½±å“ï¼Œåªå—è®¾å¤‡é‡å¯å’Œä¼‘çœ è¡Œä¸ºå½±å“ã€‚â€“ CACurrentMediaTime()ï¼šå°±æ˜¯å°†ä¸Šé¢mach_absolute_time()çš„CPU tickæ•°è½¬åŒ–æˆç§’æ•°çš„ç»“æžœã€‚ä¸ä¼šå—ç³»ç»Ÿæ—¶é—´å½±å“ï¼Œåªå—è®¾å¤‡é‡å¯å’Œä¼‘çœ è¡Œä¸ºå½±å“ã€‚12345double mediaTime = CACurrentMediaTime();NSLog(@"CACurrentMediaTime: %f", mediaTime); // å¼€æœºåŽè®¾å¤‡ä¸€å…±è¿è¡Œäº†(è®¾å¤‡ä¼‘çœ ä¸ç»Ÿè®¡åœ¨å†…)å¤šå°‘ç§’NSTimeInterval systemUptime = [[NSProcessInfo processInfo] systemUptime];NSLog(@"systemUptime: %f", systemUptime); // ç›¸åŒæ•ˆæžœï¼šå¼€æœºåŽè®¾å¤‡ä¸€å…±è¿è¡Œäº†(è®¾å¤‡ä¼‘çœ ä¸ç»Ÿè®¡åœ¨å†…)å¤šå°‘ç§’ â€“ sysctlï¼šè¿”å›žçš„å€¼æ˜¯ä¸Šæ¬¡è®¾å¤‡é‡å¯çš„Unix timeã€‚ä¼šå—ç³»ç»Ÿæ—¶é—´å½±å“ï¼Œç”¨æˆ·å¦‚æžœä¿®æ”¹æ—¶é—´ï¼Œå€¼ä¹Ÿä¼šéšç€å˜åŒ–ã€‚1234567891011121314151617#include &lt;sys/sysctl.h&gt;- (long)bootTime&#123;#define MIB_SIZE 2 int mib[MIB_SIZE]; size_t size; struct timeval boottime; mib[0] = CTL_KERN; mib[1] = KERN_BOOTTIME; size = sizeof(boottime); if (sysctl(mib, MIB_SIZE, &amp;boottime, &amp;size, NULL, 0) != -1) &#123; return boottime.tv_sec; &#125; return 0;&#125; â€“ åœºæ™¯ä¸€ï¼Œæ—¶é—´æµ‹é‡ï¼šCACurrentMediaTimeä¸ŽNSDateä»£ç æœ¬èº«çš„æŸè€—å·®å¼‚åœ¨å‡ å¾®ç§’ï¼Œè€Œæˆ‘ä»¬åšUIæ€§èƒ½ä¼˜åŒ–çš„ç»´åº¦åœ¨æ¯«ç§’çº§åˆ«ï¼Œå‡ ä¸ªå¾®ç§’çš„å·®å¼‚å®Œå…¨ä¸ä¼šå½±å“æˆ‘ä»¬æœ€åŽçš„åˆ¤æ–­ç»“æžœã€‚æ‰€ä»¥ä½¿ç”¨NSDateåšbenchmarkå®Œå…¨æ˜¯å¯è¡Œçš„ï¼Œä»¥ä¸‹æ˜¯æˆ‘å¸¸ç”¨çš„ä¸¤ä¸ªå®ï¼š12#define TICK NSDate *startTime = [NSDate date]#define TOCK NSLog(@"Time Cost: %f", -[startTime timeIntervalSinceNow]) â€“ åœºæ™¯äºŒï¼šå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„æ—¶é—´åŒæ­¥ï¼šï¼ˆç»™å‡ºäº†ä¸€ç‚¹æŠ€å·§ï¼Œå‚è€ƒåŽŸæ–‡ï¼‰ # Day 22 : æ­£ç¡®ä½¿ç”¨@synchronized()ç”± MrPeakæ‚è´§é“º å‘å¸ƒ 123@synchronized(obj) &#123; //code&#125; @synchronizedåŽŸç† â€“ synchronizedæ˜¯ä½¿ç”¨çš„é€’å½’mutexæ¥åšåŒæ­¥ã€‚ â€“ @synchronized(nil)ä¸èµ·ä»»ä½•ä½œç”¨ â€“ synchronizedä¸­ä¼ å…¥çš„objectçš„å†…å­˜åœ°å€ï¼Œè¢«ç”¨ä½œkeyï¼Œé€šè¿‡hash mapå¯¹åº”çš„ä¸€ä¸ªç³»ç»Ÿç»´æŠ¤çš„é€’å½’é”ã€‚ @synchronizedä½¿ç”¨ â€“ æ…Žç”¨@synchronized(self)ï¼Œæ­£ç¡®çš„åšæ³•æ˜¯ä¼ å…¥ä¸€ä¸ªç±»å†…éƒ¨ç»´æŠ¤çš„NSObjectå¯¹è±¡ï¼Œè€Œä¸”è¿™ä¸ªå¯¹è±¡æ˜¯å¯¹å¤–ä¸å¯è§çš„ã€‚ â€“ ç²¾å‡†çš„ç²’åº¦æŽ§åˆ¶ï¼Œä¸åŒçš„ @synchronized (token) ä½¿ç”¨ä¸åŒçš„ token â€“ æ³¨æ„å†…éƒ¨çš„å‡½æ•°è°ƒç”¨ï¼Œé¿å… {} å†…éƒ¨æœ‰å…¶ä»–éšè”½çš„å‡½æ•°è°ƒç”¨æ‹–æ…¢é”çš„æ€§èƒ½ # Day 21 : iOSå¤šçº¿ç¨‹åˆ°åº•ä¸å®‰å…¨åœ¨å“ªé‡Œï¼Ÿç”± MrPeakæ‚è´§é“º å‘å¸ƒ â€“ self.userName = @&quot;peak&quot;; æ˜¯åœ¨å¯¹æŒ‡é’ˆæœ¬èº«è¿›è¡Œèµ‹å€¼ï¼Œè€Œ [self.userName rangeOfString:@&quot;peak&quot;]; æ˜¯åœ¨è®¿é—®æŒ‡é’ˆæŒ‡å‘çš„å­—ç¬¦ä¸²æ‰€åœ¨çš„å†…å­˜åŒºåŸŸï¼Œè¿™äºŒè€…å¹¶ä¸ä¸€æ ·ã€‚â€“ ç”±äºŽBOOLå¤§å°åªæœ‰1ä¸ªå­—èŠ‚ï¼Œ64ä½ç³»ç»Ÿçš„åœ°å€æ€»çº¿å¯¹äºŽè¯»å†™æŒ‡ä»¤å¯ä»¥æ”¯æŒ8ä¸ªå­—èŠ‚çš„é•¿åº¦ï¼Œæ‰€ä»¥å¯¹äºŽBOOLçš„è¯»å’Œå†™æ“ä½œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºæ˜¯åŽŸå­çš„ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬å£°æ˜ŽBOOLç±»åž‹çš„propertyçš„æ—¶å€™ï¼Œä»ŽåŽŸå­æ€§çš„è§’åº¦çœ‹ï¼Œä½¿ç”¨atomicå’Œnonatomicå¹¶æ²¡æœ‰å®žé™…ä¸Šçš„åŒºåˆ«ï¼ˆå½“ç„¶å¦‚æžœé‡è½½äº†getteræ–¹æ³•å°±å¦å½“åˆ«è®ºäº†ï¼‰ã€‚â€“ atomicçš„ä½œç”¨åªæ˜¯ç»™getterå’ŒsetteråŠ äº†ä¸ªé”ï¼Œatomicåªèƒ½ä¿è¯ä»£ç è¿›å…¥getteræˆ–è€…setterå‡½æ•°å†…éƒ¨æ—¶æ˜¯å®‰å…¨çš„ï¼Œä¸€æ—¦å‡ºäº†getterå’Œsetterï¼Œå¤šçº¿ç¨‹å®‰å…¨åªèƒ½é ç¨‹åºå‘˜è‡ªå·±ä¿éšœäº†ã€‚â€“ iOSç»™ä»£ç åŠ é”çš„æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œå¸¸ç”¨çš„æœ‰ï¼š@synchronized(token)ï¼ŒNSLockï¼Œdispatch_semaphore_tï¼ŒOSSpinLockï¼Œè¿™å‡ ç§é”éƒ½å¯ä»¥å¸¦æ¥åŽŸå­æ€§ï¼Œæ€§èƒ½çš„æŸè€—ä¾æ¬¡æ›´å°ã€‚â€“ _intA ++;ï¼ˆéžåŽŸå­æ€§ï¼‰ï¼ŒOSAtomicIncrement32(&amp;(_intA));ï¼ˆåŽŸå­æ€§ï¼‰ï¼ŒAtomic Operationåªèƒ½åº”ç”¨äºŽ32ä½æˆ–è€…64ä½çš„æ•°æ®ç±»åž‹ï¼Œåœ¨å¤šçº¿ç¨‹ä½¿ç”¨NSStringæˆ–è€…NSArrayè¿™ç±»å¯¹è±¡çš„åœºæ™¯ï¼Œè¿˜æ˜¯å¾—ä½¿ç”¨é”ã€‚ # Day 20 : ä¸Žè°ƒè¯•å™¨å…±èˆž - LLDB çš„åŽå°”å…¹ç”± ObjC ä¸­å›½ å‘å¸ƒ è¿™æ˜¯ä¸€ç¯‡æœ‰æ–™æœ‰è¶£çš„æ–‡ç« ï¼Œä»‹ç»äº†å¾ˆå¤š LLDB çš„å‘½ä»¤å’Œç”¨æ³•1234567891011121314151617181920help // åˆ—ä¸¾å‡ºæ‰€æœ‰çš„å‘½ä»¤print // prinï¼Œpriï¼Œpï¼Œä½†ä¸èƒ½ä½¿ç”¨ prï¼Œå› ä¸º LLDB ä¸èƒ½æ¶ˆé™¤å’Œ process çš„æ­§ä¹‰expression // æ”¹å˜ä¸€ä¸ªå€¼po // e -0 --ï¼Œæ‰“å°å¯¹è±¡p/x // æ‰“å°åå…­è¿›åˆ¶å˜é‡p/t // æ‰“å°äºŒè¿›åˆ¶å˜é‡ï¼ˆtwoï¼‰p/c // æ‰“å°å­—ç¬¦p/s // æ‰“å°ä»¥ç©ºç»ˆæ­¢çš„å­—ç¬¦ä¸² (è¯‘è€…æ³¨ï¼šä»¥ '\0' ç»“å°¾çš„å­—ç¬¦ä¸²)c // continuen // nextï¼Œthread step-over å¦‚æžœè¿™è¡Œä»£ç æ˜¯ä¸€ä¸ªå‡½æ•°è°ƒç”¨ï¼Œé‚£ä¹ˆå°±ä¸ä¼šè·³è¿›è¿™ä¸ªå‡½æ•°ï¼Œè€Œæ˜¯ä¼šæ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œç„¶åŽç»§ç»­ã€‚s // stepï¼Œthread step inè·³è¿›ä¸€ä¸ªå‡½æ•°è°ƒç”¨æ¥è°ƒè¯•æˆ–è€…æ£€æŸ¥ç¨‹åºçš„æ‰§è¡Œæƒ…å†µã€‚æ³¨æ„ï¼Œå½“å‰è¡Œä¸æ˜¯å‡½æ•°è°ƒç”¨æ—¶ï¼Œnext å’Œ step æ•ˆæžœæ˜¯ä¸€æ ·çš„ã€‚breakpoint list // br liï¼Œçœ‹åˆ°æ‰€æœ‰çš„æ–­ç‚¹breakpoint set -f main.m -l 16 // b main.m:16ï¼Œåˆ›å»ºæ–­ç‚¹b isEven // br s -F isEvenï¼Œåœ¨ä¸€ä¸ªç¬¦å· (C è¯­è¨€å‡½æ•°) ä¸Šåˆ›å»ºæ–­ç‚¹ï¼Œè€Œå®Œå…¨ä¸ç”¨æŒ‡å®šå“ªä¸€è¡Œ// åˆ›å»ºæ–­ç‚¹breakpoint set -F "-[NSArray objectAtIndex:]"b -[NSArray objectAtIndex:]breakpoint set -F "+[NSSet setWithObject:]"b +[NSSet setWithObject:]po [[[UIApplication sharedApplication] keyWindow] recursiveDescription] // å¯ä»¥çœ‹åˆ°æ•´ä¸ªå±‚æ¬¡ åœ¨ Xcode çš„UIä¸Šåˆ›å»ºç¬¦å·æ–­ç‚¹ï¼šä½ å¯ä»¥ç‚¹å‡»æ–­ç‚¹æ å·¦ä¾§çš„ + æŒ‰é’®ï¼Œé€‰æ‹© â€œAdd Symbolic Breakpointâ€ï¼Œè¿™æ—¶ä¼šå‡ºçŽ°ä¸€ä¸ªå¼¹å‡ºæ¡†ï¼Œä½ å¯ä»¥åœ¨é‡Œé¢æ·»åŠ ä¾‹å¦‚ -[NSArray objectAtIndex:] è¿™æ ·çš„ç¬¦å·æ–­ç‚¹ã€‚è¿™æ ·æ¯æ¬¡è°ƒç”¨è¿™ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œç¨‹åºéƒ½ä¼šåœæ­¢ï¼Œä¸ç®¡æ˜¯ä½ è°ƒç”¨è¿˜æ˜¯è‹¹æžœè°ƒç”¨ã€‚ æ–­ç‚¹è¡Œä¸º (Action)ï¼šå³å‡»ä»»æ„æ–­ç‚¹é€‰æ‹©â€œEdit Breakpointâ€â€“ æ·»åŠ  actionï¼Œå¯ä»¥æ·»åŠ  Debugger Commandï¼ŒShell Commandï¼ŒLog Messageï¼ŒSound ç­‰è¡Œä¸ºâ€“ é€‰é¡¹ï¼š â€œAutomatically continue after evaluation actions.â€ é€‰ä¸­å®ƒï¼Œè°ƒè¯•å™¨ä¼šè¿è¡Œä½ æ‰€æœ‰çš„å‘½ä»¤ï¼Œç„¶åŽç»§ç»­è¿è¡Œ è°ƒè¯•å™¨å¯ç”¨å‘½ä»¤æ€»è§ˆå‚è€ƒï¼šGDB to LLDB # Day 19 : IPï¼ŒTCP å’Œ HTTPç”± ObjC ä¸­å›½ å‘å¸ƒ åˆæ¸©ä¹ ä¸€éç½‘ç»œè¿žæŽ¥çš„çŸ¥è¯†ã€‚ã€‚ã€‚ # Day 18 : åŸºç¡€é›†åˆç±»ç”± ObjC ä¸­å›½ å‘å¸ƒ è¿™ç¯‡æ–‡ç« å¯çœŸçš„æ˜¯åŸºç¡€äº†ï¼Œå¯èƒ½æ˜¯ä»Šå¤©æ—¶é—´å¤ªç´§å¼ æ²¡æ‰¾åˆ°ä¸€ç¯‡æ¯”è¾ƒæœ‰æ·±åº¦çš„æ–‡ç« ï¼Œä¸è¿‡è¿™ç¯‡æ–‡ç« ä»ŽåŸºç¡€é›†åˆç±»ï¼ˆNSArray, NSSet, NSOrderedSet å’Œ NSDictionaryï¼‰è®²èµ·ï¼Œåˆ†åˆ«ä»‹ç»äº†å®ƒä»¬çš„æ–¹æ³•ï¼Œåˆ†æžäº†æ€§èƒ½ï¼Œå½“æ˜¯åŸºç¡€çŸ¥è¯†çš„ä¸€æ¬¡å¤ä¹ å§ã€‚æ–‡ä¸­æ€»ç»“åˆ—å‡ºäº†æžšä¸¾ NSArray å’Œ NSDictionary çš„å‡ ç§æ–¹æ³•ï¼Œå¹¶åˆ†æžäº†å„è‡ªçš„æ€§èƒ½ï¼Œå€¼å¾—ä¸€çœ‹ã€‚å› ä¸ºéƒ½æ˜¯ä¸€äº›åŸºç¡€é›†åˆç±»ï¼Œå°±ä¸åšä»€ä¹ˆç¬”è®°äº†ï¼Œå„ä¸ªç±»çš„æ–¹æ³•åˆ° Xcode é‡Œéƒ½èƒ½è½»æ˜“æ‰¾ç€ã€‚ # Day 17 : Build è¿‡ç¨‹ç”± ObjC ä¸­å›½ å‘å¸ƒ è§£å¯† Build æ—¥å¿— Buildè¿‡ç¨‹çš„æŽ§åˆ¶ â€“ Build Phasesï¼šä»£è¡¨å°†ä»£ç è½¬å˜ä¸ºå¯æ‰§è¡Œæ–‡ä»¶çš„æœ€é«˜çº§åˆ«è§„åˆ™ã€‚ â€“ å®šåˆ¶Build Phasesï¼šå¯ä»¥åœ¨ build phases ä¸­æ·»åŠ è¿è¡Œè‡ªå®šä¹‰è„šæœ¬ï¼Œå°±åƒCocoaPodsä½¿ç”¨çš„ä¸€æ ·ï¼Œæ¥åšé¢å¤–çš„å·¥ä½œã€‚ â€“ Build Rulesï¼šæŒ‡å®šäº†ä¸åŒçš„æ–‡ä»¶ç±»åž‹è¯¥å¦‚ä½•ç¼–è¯‘ã€‚ â€“ Build Settingsï¼šå¯ä»¥é…ç½®æ¯ä¸ªä»»åŠ¡ï¼ˆä¹‹å‰åœ¨ build log è¾“å‡ºä¸­çœ‹åˆ°çš„ä»»åŠ¡ï¼‰çš„è¯¦ç»†å†…å®¹ã€‚ä¾‹å¦‚å¯ä»¥æ·»åŠ ä¸€ä¸ª â€œRun Scriptâ€ï¼šå¦‚æžœä¸€ä¸ªæºæ–‡ä»¶è¶…è¿‡æŒ‡å®šè¡Œæ•°ï¼Œå°±å‘å‡ºè­¦å‘Šã€‚å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼Œè®¾ç½®çš„è¡Œæ•°ä¸º 200ï¼š 1find "$&#123;SRCROOT&#125;" \( -name "*.h" -or -name "*.m" \) -print0 | xargs -0 wc -l | awk '$1 &gt; 200 &amp;&amp; $2 != "total" &#123; print $2 ":1: warning: file more than 200 lines" &#125;' å·¥ç¨‹æ–‡ä»¶ï¼ˆ.pbxprojï¼‰ # Day 16 : è‡ªå®šä¹‰æŽ§ä»¶ç”± ObjC ä¸­å›½ å‘å¸ƒ è¯¥ç¯‡æ–‡ç« æ¯”è¾ƒåŸºç¡€ï¼Œä»‹ç»äº†è‡ªå®šä¹‰æŽ§ä»¶ç”¨åˆ°çš„ UIView åŸºç±»ã€æ¸²æŸ“ã€äº¤äº’ã€æœ¬åœ°åŒ–åŠæµ‹è¯•ï¼š è§†å›¾å±‚æ¬¡æ¦‚è§ˆ â€“ reponders (å“åº”è€…)ï¼šUIView çš„çˆ¶ç±»ï¼Œèƒ½å¤Ÿå¤„ç†è§¦æ‘¸ã€æ‰‹åŠ¿ã€è¿œç¨‹æŽ§åˆ¶ç­‰äº‹ä»¶ã€‚ â€“ views (è§†å›¾)ï¼šè§†å›¾çš„åŒºåŸŸæ˜¯ç”±å®ƒçš„ frame å®šä¹‰çš„ã€‚å®žé™…ä¸Š frame æ˜¯ä¸€ä¸ªæ´¾ç”Ÿå±žæ€§ï¼Œæ˜¯ç”± center å’Œ bounds åˆæˆè€Œæ¥ã€‚ â€“ controls (æŽ§ä»¶)ï¼šå»ºç«‹åœ¨è§†å›¾ä¸Šï¼Œå¢žåŠ äº†æ›´å¤šçš„äº¤äº’æ”¯æŒã€‚æœ€é‡è¦çš„æ˜¯ï¼Œå®ƒå¢žåŠ äº† target / action æ¨¡å¼ã€‚ æ¸²æŸ“ â€“ å°½é‡é¿å… drawRect:ï¼Œä½¿ç”¨çŽ°æœ‰çš„è§†å›¾æž„å»ºè‡ªå®šä¹‰è§†å›¾ã€‚å¦‚æžœé‡å†™ drawRect:ï¼Œç¡®ä¿æ£€æŸ¥å†…å®¹æ¨¡å¼ã€‚é»˜è®¤çš„æ¨¡å¼æ˜¯å°†å†…å®¹ç¼©æ”¾ä»¥å¡«å……è§†å›¾çš„èŒƒå›´ï¼Œè¿™åœ¨å½“è§†å›¾çš„ frame æ”¹å˜æ—¶å¹¶ä¸ä¼šé‡æ–°ç»˜åˆ¶ã€‚ â€“ å¤„ç†å›¾ç‰‡æ—¶ï¼Œä½ ä¹Ÿå¯ä»¥è®© GPU ä¸ºä½ å·¥ä½œæ¥ä»£æ›¿ä½¿ç”¨ Core Graphicsã€‚ä½¿ç”¨ Core Imageï¼Œä½ ä¸å¿…ç”¨ CPU åšä»»ä½•çš„å·¥ä½œå°±å¯ä»¥åœ¨å›¾ç‰‡ä¸Šå»ºç«‹å¤æ‚çš„æ•ˆæžœã€‚ è‡ªå®šä¹‰äº¤äº’ â€“ ä½¿ç”¨ Target-Action â€“ ä½¿ç”¨ä»£ç† â€“ ä½¿ç”¨ Block â€“ ä½¿ç”¨ KVO â€“ ä½¿ç”¨é€šçŸ¥ è¾…åŠ©åŠŸèƒ½ (Accessibility) â€“ æœ¬åœ°åŒ–ï¼šä½¿ç”¨ NSLocalizedString æœ¬åœ°åŒ–å­—ç¬¦ä¸²ã€‚ â€“ æµ‹è¯•ï¼šå¯ä»¥ä½¿ç”¨ UIAutomation æˆ–è€…å…¶å®ƒåŸºäºŽå®ƒçš„å·¥å…·ã€‚ # Day 15 : åº•å±‚å¹¶å‘ APIç”± ObjC ä¸­å›½ å‘å¸ƒ è¯¥ç¯‡æ–‡ç« å¹¶éžæ˜¯ä¸“é—¨ä»‹ç» GCD(Grand Central Dispatch) ä½¿ç”¨çš„ï¼Œä½†ä»Žåˆ†æžåŠè§£å†³å¹¶å‘é—®é¢˜çš„è§’åº¦å‡ºå‘ä»‹ç»äº†å¾ˆå¤š GCD çš„ç”¨æ³• ä»Žå‰â€¦ï¼šdispatch_once å»¶åŽæ‰§è¡Œï¼šdispatch_after â€“ é˜Ÿåˆ— â€“ ç›®æ ‡é˜Ÿåˆ—ï¼šä¸ºä¸€ä¸ªç±»åˆ›å»ºå®ƒè‡ªå·±çš„é˜Ÿåˆ—è€Œä¸æ˜¯ä½¿ç”¨å…¨å±€çš„é˜Ÿåˆ—ï¼Œè¿™ç§æ–¹å¼å¯ä»¥è®¾ç½®é˜Ÿåˆ—çš„åå­—ï¼Œåœ¨ Xcode çš„ Debug Navigator ä¸­å¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„é˜Ÿåˆ—åå­—ï¼Œ(lldb) thread list å‘½ä»¤ä¼šåœ¨æŽ§åˆ¶å°æ‰“å°å‡ºæ‰€æœ‰é˜Ÿåˆ—çš„åå­—ã€‚ â€“ ä¼˜å…ˆçº§ éš”ç¦» â€“ èµ„æºä¿æŠ¤ â€“ å•ä¸€èµ„æºçš„å¤šè¯»å•å†™ï¼šdispatch_barrier_async â€“ é”ç«žäº‰ â€“ å…¨éƒ½ä½¿ç”¨å¼‚æ­¥åˆ†å‘ï¼šdispatch_async() â€“ å¦‚ä½•å†™å‡ºå¥½çš„å¼‚æ­¥ API è¿­ä»£æ‰§è¡Œï¼šdispatch_apply â€“ ç»„ï¼šdispatch_group_t â€“ å¯¹çŽ°æœ‰APIä½¿ç”¨ dispatch_group_t äº‹ä»¶æºï¼šdispatch_source_t â€“ ç›‘è§†è¿›ç¨‹ â€“ ç›‘è§†æ–‡ä»¶ â€“ å®šæ—¶å™¨ â€“ å–æ¶ˆ è¾“å…¥è¾“å‡º â€“ GCD å’Œç¼“å†²åŒºï¼šdispatch_data_t â€“ è¯»å’Œå†™ï¼šdispatch_io_create_with_pathã€dispatch_io_readã€dispatch_io_write å’Œ dispatch_io_close åŸºå‡†æµ‹è¯•ï¼šuint64_t dispatch_benchmark(size_t count, void (^block)(void));èƒ½å¤Ÿæµ‹é‡ç»™å®šçš„ä»£ç æ‰§è¡Œçš„å¹³å‡çš„çº³ç§’æ•° åŽŸå­æ“ä½œ â€“ è®¡æ•°å™¨ â€“ æ¯”è¾ƒå’Œäº¤æ¢ â€“ åŽŸå­é˜Ÿåˆ— â€“ è‡ªæ—‹é” # Day 14 : å¸¸è§çš„åŽå°å®žè·µç”± ObjC ä¸­å›½ å‘å¸ƒ ä½œè€…ä»Žä»¥ä¸‹æ–¹é¢ä»‹ç»äº†å°†è€—æ—¶æ“ä½œæ”¾è¿›åŽå°æ‰§è¡Œçš„ç­–ç•¥ï¼šâ€“ åŽå°çš„ Core Dataâ€“ æ›´æ–° Main Contextâ€“ åŽå° UI ä»£ç â€“ åŽå°ç»˜åˆ¶ï¼šå¦‚æžœç¡®å®š drawRect: æ˜¯åº”ç”¨çš„æ€§èƒ½ç“¶é¢ˆï¼ŒæŠŠ drawRect:ä¸­çš„ä»£ç æ”¾åˆ°åŽå°æ“ä½œä¸­åŽ»ã€‚ç„¶åŽå°†åŽŸæœ¬æ‰“ç®—ç»˜åˆ¶çš„è§†å›¾ç”¨ä¸€ä¸ª image view æ¥æ›¿æ¢ï¼Œç­‰åˆ°æ“ä½œæ‰§è¡Œå®ŒåŽå†åŽ»æ›´æ–°ã€‚åœ¨ç»˜åˆ¶çš„æ–¹æ³•ä¸­ï¼Œä½¿ç”¨ UIGraphicsBeginImageContextWithOptions æ¥å–ä»£ UIGraphicsGetCurrentContext ï¼š12345UIGraphicsBeginImageContextWithOptions(size, NO, 0);// drawing code hereUIImage *i = UIGraphicsGetImageFromCurrentImageContext();UIGraphicsEndImageContext();return i; é€šè¿‡åœ¨ç¬¬ä¸‰ä¸ªå‚æ•°ä¸­ä¼ å…¥ 0 ï¼Œè®¾å¤‡çš„ä¸»å±å¹•çš„ scale å°†è¢«è‡ªåŠ¨ä¼ å…¥ï¼Œè¿™å°†ä½¿å›¾ç‰‡åœ¨æ™®é€šè®¾å¤‡å’Œ retina å±å¹•ä¸Šéƒ½æœ‰è‰¯å¥½çš„è¡¨çŽ°ã€‚ â€“ å¼‚æ­¥ç½‘ç»œè¯·æ±‚å¤„ç†ï¼šåƒ AFNetworking è¿™æ ·çš„æ¡†æž¶ï¼šå»ºç«‹ä¸€ä¸ªç‹¬ç«‹çš„çº¿ç¨‹ï¼Œä¸ºå»ºç«‹çš„çº¿ç¨‹è®¾ç½®è‡ªå·±çš„ run loopï¼Œç„¶åŽåœ¨å…¶ä¸­è°ƒåº¦ URL è¿žæŽ¥ã€‚â€“ è¿›é˜¶ï¼šåŽå°æ–‡ä»¶ I/Oï¼šå¯¹äºŽä¸æ–¹ä¾¿ä¸€æ¬¡æ€§è¯»å…¥å†…å­˜çš„å¤§æ–‡ä»¶å¯ä»¥ä½¿ç”¨å¼‚æ­¥å¤„ç†æ–‡ä»¶çš„ NSInputStreamã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ # Day 13 : å¹¶å‘ç¼–ç¨‹ï¼šAPI åŠæŒ‘æˆ˜ç”± ObjC ä¸­å›½ å‘å¸ƒ ##1ã€OS X å’Œ iOS ä¸­çš„å¹¶å‘ç¼–ç¨‹â€“ çº¿ç¨‹å¯ä»¥ä½¿ç”¨ Instruments ä¸­çš„ CPU strategy view æ¥å¾—çŸ¥ä»£ç æ˜¯å¦‚ä½•åœ¨å¤šæ ¸ CPU ä¸­è°ƒåº¦æ‰§è¡Œçš„ã€‚â€“ Grand Central DispatchGCD å…¬å¼€æœ‰ 5 ä¸ªä¸åŒçš„é˜Ÿåˆ—ï¼šè¿è¡Œåœ¨ä¸»çº¿ç¨‹ä¸­çš„ main queueï¼Œ3 ä¸ªä¸åŒä¼˜å…ˆçº§çš„åŽå°é˜Ÿåˆ—ï¼Œä»¥åŠä¸€ä¸ªä¼˜å…ˆçº§æ›´ä½Žçš„åŽå°é˜Ÿåˆ—ï¼ˆç”¨äºŽ I/Oï¼‰ã€‚ å¦å¤–ï¼Œå¼€å‘è€…å¯ä»¥åˆ›å»ºè‡ªå®šä¹‰é˜Ÿåˆ—ï¼šä¸²è¡Œæˆ–è€…å¹¶è¡Œé˜Ÿåˆ—ã€‚è‡ªå®šä¹‰é˜Ÿåˆ—éžå¸¸å¼ºå¤§ï¼Œåœ¨è‡ªå®šä¹‰é˜Ÿåˆ—ä¸­è¢«è°ƒåº¦çš„æ‰€æœ‰ block æœ€ç»ˆéƒ½å°†è¢«æ”¾å…¥åˆ°ç³»ç»Ÿçš„å…¨å±€é˜Ÿåˆ—ä¸­å’Œçº¿ç¨‹æ± ä¸­ã€‚å¼ºçƒˆå»ºè®®åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨é»˜è®¤çš„ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œé¿å…åœ¨ä¸åŒä¼˜å…ˆçº§çš„é˜Ÿåˆ—ä¸­è°ƒåº¦è®¿é—®å…±äº«èµ„æºçš„ä»»åŠ¡è€Œäº§ç”Ÿä¸å¯é¢„æœŸçš„è¡Œä¸ºï¼Œæ¯”å¦‚ä½Žä¼˜å…ˆçº§çš„ä»»åŠ¡é˜»å¡žäº†é«˜ä¼˜å…ˆçº§ä»»åŠ¡è€Œé€ æˆç¨‹åºçš„å®Œå…¨æŒ‚èµ·ã€‚â€“ Operation QueuesNSOperationQueue æœ‰ä¸¤ç§ä¸åŒç±»åž‹çš„é˜Ÿåˆ—ï¼šä¸»é˜Ÿåˆ—å’Œè‡ªå®šä¹‰é˜Ÿåˆ—ã€‚ä¸»é˜Ÿåˆ—è¿è¡Œåœ¨ä¸»çº¿ç¨‹ä¹‹ä¸Šï¼Œè€Œè‡ªå®šä¹‰é˜Ÿåˆ—åœ¨åŽå°æ‰§è¡Œã€‚ä½ å¯ä»¥é€šè¿‡é‡å†™ main æˆ–è€… start æ–¹æ³•æ¥å®šä¹‰è‡ªå·±çš„ operationsã€‚ä½ å¯ä»¥é€šè¿‡ maxConcurrentOperationCount å±žæ€§æ¥æŽ§åˆ¶ä¸€ä¸ªç‰¹å®šé˜Ÿåˆ—ä¸­å¯ä»¥æœ‰å¤šå°‘ä¸ªæ“ä½œå‚ä¸Žå¹¶å‘æ‰§è¡Œï¼Œè¿˜å¯ä»¥åœ¨ operation ä¹‹é—´æŒ‡å®šä¾èµ–å…³ç³»ã€‚â€“ Run Loopsä¸»çº¿ç¨‹ä¸€èˆ¬æ¥è¯´éƒ½å·²ç»é…ç½®å¥½äº† main run loopã€‚ç„¶è€Œå…¶ä»–çº¿ç¨‹é»˜è®¤æƒ…å†µä¸‹éƒ½æ²¡æœ‰è®¾ç½® run loopã€‚ä½ ä¹Ÿå¯ä»¥è‡ªè¡Œä¸ºå…¶ä»–çº¿ç¨‹è®¾ç½® run loop ï¼Œä½†æ˜¯ä¸€èˆ¬æ¥è¯´æˆ‘ä»¬å¾ˆå°‘éœ€è¦è¿™ä¹ˆåšã€‚å¤§å¤šæ•°æ—¶é—´ä½¿ç”¨ main run loop ä¼šå®¹æ˜“å¾—å¤šã€‚ ##2ã€å¹¶å‘ç¼–ç¨‹ä¸­é¢ä¸´çš„æŒ‘æˆ˜â€“ èµ„æºå…±äº«â€“ äº’æ–¥é”â€“ æ­»é”â€“ èµ„æºé¥¥é¥¿ï¼ˆStarvationï¼‰â€“ ä¼˜å…ˆçº§åè½¬ ##3ã€æ€»ç»“æˆ‘ä»¬å»ºè®®é‡‡çº³çš„å®‰å…¨æ¨¡å¼æ˜¯è¿™æ ·çš„ï¼šä»Žä¸»çº¿ç¨‹ä¸­æå–å‡ºè¦ä½¿ç”¨åˆ°çš„æ•°æ®ï¼Œå¹¶åˆ©ç”¨ä¸€ä¸ªæ“ä½œé˜Ÿåˆ—åœ¨åŽå°å¤„ç†ç›¸å…³çš„æ•°æ®ï¼Œæœ€åŽå›žåˆ°ä¸»é˜Ÿåˆ—ä¸­æ¥å‘é€ä½ åœ¨åŽå°é˜Ÿåˆ—ä¸­å¾—åˆ°çš„ç»“æžœã€‚ä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œä½ ä¸éœ€è¦è‡ªå·±åšä»»ä½•é”æ“ä½œï¼Œè¿™ä¹Ÿå°±å¤§å¤§å‡å°‘äº†çŠ¯é”™è¯¯çš„å‡ çŽ‡ã€‚ # Day 12 : ç†è§£ Scroll Viewsç”± ObjC ä¸­å›½ å‘å¸ƒ è¯¥ç¯‡æ–‡ç« æ¯”è¾ƒç®€æ´ï¼Œä»Ž UIView çš„å…‰æ …åŒ–å’Œç»„åˆè¯´èµ·ï¼Œç®€å•æ˜Žäº†çš„ä»‹ç»äº† Scroll View çš„å®žçŽ°æ€è·¯ã€‚å¹¶ä»‹ç»äº† Scroll View çš„ï¼šâ€“ Content Offsetï¼šç›¸å½“äºŽæ›´æ”¹ Superview.bounds.originâ€“ Content Sizeï¼šå¯æ»šåŠ¨åŒºåŸŸâ€“ Content Insetsï¼šå¯ä»¥æ”¹å˜ content offset çš„æœ€å¤§å’Œæœ€å°å€¼ï¼Œè¿™æ ·ä¾¿å¯ä»¥æ»šåŠ¨å‡ºå¯æ»šåŠ¨åŒºåŸŸ æˆ–è®¸å¯ä»¥åº”ç”¨åœ¨æœ‰é”®ç›˜å¼¹å‡ºçš„é¡µé¢ï¼Œæ¯”å¦‚ç™»å½•é¡µé¢ï¼Œå¼¹å‡ºé”®ç›˜è¾“å…¥ç”¨æˆ·åå¯†ç æ—¶ä¼šé®æŒ¡å±å¹•ä¸‹åŠéƒ¨çš„è§†å›¾ï¼Œå¯ä»¥é‡‡ç”¨ Scroll View çš„æ»šåŠ¨ç‰¹æ€§æ¥è§£å†³è¿™ä¸€å°´å°¬ï¼Œæ°å·§ä»Šå¤©ç¢°è§ Medium çš„ç™»å½•é¡µé¢è²Œä¼¼å°±æ˜¯è¿™ä¹ˆè®¾è®¡çš„ã€‚ # Day 11 : ç»˜åˆ¶åƒç´ åˆ°å±å¹•ä¸Šç”± ObjC ä¸­å›½ å‘å¸ƒ æ–‡ç« çŸ¥è¯†æ¯”è¾ƒç¢Žå´åˆæ˜¯å…¨é›†ä¸­åœ¨å±å¹•ç»˜åˆ¶è¿™ä¸€å—ï¼Œè®¸å¤šçŸ¥è¯†ç‚¹éƒ½åŸºäºŽåŽŸç†ç‰¹åˆ«å—ç”¨ã€‚ä»¥ä¸‹æ˜¯æ–‡ç« ä¸­æåŠçš„çŸ¥è¯†ç‚¹ï¼ˆç›®å½•ï¼‰ï¼šâ€“ å›¾å½¢å †æ ˆâ€“ è½¯ä»¶ç»„æˆï¼šDisplay &lt;-&gt; GPU &lt;-&gt; GPU Driver &lt;-&gt; OpenGL(Open Graphics Library) &lt;-&gt; Core Animation/Core Graphics/Core Image &lt;-&gt; appâ€“ ç¡¬ä»¶å‚ä¸Žè€…â€“ åˆæˆï¼šå¯¹äºŽå±å¹•ä¸Šçš„æ¯ä¸€ä¸ªåƒç´ ï¼ŒGPU éœ€è¦ç®—å‡ºæ€Žä¹ˆæ··åˆè¿™äº›çº¹ç†æ¥å¾—åˆ°åƒç´  RGB çš„å€¼ï¼Œå¹¶æœ€ç»ˆæ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚æ‰€ä»¥å‡å°‘è§†å›¾å±‚çº§å¯ä»¥æœ‰æ•ˆæé«˜æ€§èƒ½ï¼Œå› ä¸º GPU éœ€è¦å°†é‡å çš„è§†å›¾è®¡ç®—åˆæˆåœ¨ä¸€èµ·ï¼ˆå°†çº¹ç†ä¸­çš„ä¸€ä¸ªåƒç´ åˆæˆåˆ°å¦ä¸€ä¸ªçº¹ç†çš„åƒç´ ä¸Šï¼‰ã€‚â€“ ä¸é€æ˜Ž VS é€æ˜Žï¼šå½“æºçº¹ç†æ˜¯å®Œå…¨ä¸é€æ˜Žçš„æ—¶å€™ï¼Œç›®æ ‡åƒç´ å°±ç­‰äºŽæºçº¹ç†ã€‚è¿™å¯ä»¥çœä¸‹ GPU å¾ˆå¤§çš„å·¥ä½œé‡ï¼Œè¿™æ ·åªéœ€ç®€å•çš„æ‹·è´æºçº¹ç†è€Œä¸éœ€è¦åˆæˆæ‰€æœ‰çš„åƒç´ å€¼ã€‚CALayer æœ‰ä¸€ä¸ªå«åš opaque çš„å±žæ€§ï¼Œå¦‚æžœè¿™ä¸ªå±žæ€§ä¸º YESï¼ŒGPU å°†ä¸ä¼šåšä»»ä½•åˆæˆï¼Œè€Œæ˜¯ç®€å•ä»Žè¿™ä¸ªå±‚æ‹·è´ï¼Œä¸éœ€è¦è€ƒè™‘å®ƒä¸‹æ–¹çš„ä»»ä½•ä¸œè¥¿(å› ä¸ºéƒ½è¢«å®ƒé®æŒ¡ä½äº†)ï¼Œè¿™èŠ‚çœäº† GPU ç›¸å½“å¤§çš„å·¥ä½œé‡ã€‚Instruments ä¸­ color blended layers é€‰é¡¹ä¸­æ‰€æ¶‰åŠçš„ï¼Œå…è®¸ä½ çœ‹åˆ°å“ªä¸€ä¸ª layers(çº¹ç†) è¢«æ ‡æ³¨ä¸ºé€æ˜Žçš„ã€‚â€“ åƒç´ å¯¹é½ VS ä¸é‡åˆåœ¨ä¸€èµ·ï¼šã€Œç¼©æ”¾ã€å’Œã€Œçº¹ç†çš„èµ·ç‚¹ä¸åœ¨ä¸€ä¸ªåƒç´ çš„è¾¹ç•Œä¸Šã€ä¼šå¯¼è‡´ä¸€ä¸ª layer ä¸Šæ‰€æœ‰çš„åƒç´ å’Œå±å¹•ä¸Šçš„åƒç´ ä¸å¯¹é½ï¼ŒGPU éœ€è¦å†åšé¢å¤–çš„è®¡ç®—ã€‚å®ƒéœ€è¦å°†æºçº¹ç†ä¸Šå¤šä¸ªåƒç´ æ··åˆèµ·æ¥ï¼Œç”Ÿæˆä¸€ä¸ªç”¨æ¥åˆæˆçš„å€¼ã€‚â€“ Masks(è’™æ¿)ï¼šmask æ˜¯ä¸€ä¸ªæ‹¥æœ‰ alpha å€¼çš„ä½å›¾ï¼Œå½“åƒç´ è¦å’Œå®ƒä¸‹é¢åŒ…å«çš„åƒç´ åˆå¹¶ä¹‹å‰éƒ½ä¼šæŠŠ mask åº”ç”¨åˆ°å›¾å±‚çš„åƒç´ ä¸ŠåŽ»ã€‚å½“ä½ è¦è®¾ç½®ä¸€ä¸ªå›¾å±‚çš„åœ†è§’åŠå¾„æ—¶ï¼Œä½ å¯ä»¥æœ‰æ•ˆçš„åœ¨å›¾å±‚ä¸Šé¢è®¾ç½®ä¸€ä¸ª maskã€‚â€“ ç¦»å±æ¸²æŸ“(Offscreen Rendering)ï¼šä¸º layer ä½¿ç”¨è’™æ¿ã€è®¾ç½®åœ†è§’åŠå¾„ã€äº§ç”Ÿé˜´å½±ä¼šé€ æˆå±å¹•å¤–æ¸²æŸ“ã€‚Instrument çš„ Core Animation å·¥å…·æœ‰ä¸€ä¸ªå«åš Color Offscreen-Rendered Yellow çš„é€‰é¡¹ï¼Œå®ƒä¼šå°†å·²ç»è¢«æ¸²æŸ“åˆ°å±å¹•å¤–ç¼“å†²åŒºçš„åŒºåŸŸæ ‡æ³¨ä¸ºé»„è‰²ã€‚åŒæ—¶è®°å¾—æ£€æŸ¥ Color Hits Green and Misses Red é€‰é¡¹ã€‚ç»¿è‰²ä»£è¡¨æ— è®ºä½•æ—¶ä¸€ä¸ªå±å¹•å¤–ç¼“å†²åŒºè¢«å¤ç”¨ï¼Œè€Œçº¢è‰²ä»£è¡¨å½“ç¼“å†²åŒºè¢«é‡æ–°åˆ›å»ºã€‚â€“ æ›´å¤šçš„å…³äºŽåˆæˆâ€“ OS Xâ€“ Core Animation OpenGL ESâ€“ CPU é™åˆ¶ VS GPU é™åˆ¶ï¼šä½ å¯ä»¥ä½¿ç”¨ OpenGL ES Driver instrumentï¼Œç‚¹å‡»ä¸Šé¢é‚£ä¸ªå°çš„ i æŒ‰é’®ï¼Œé…ç½®ä¸€ä¸‹ï¼ŒåŒæ—¶æ³¨æ„å‹¾é€‰ Device Utilization %ã€‚çŽ°åœ¨ï¼Œå½“ä½ è¿è¡Œä½ çš„ app æ—¶ï¼Œä½ å¯ä»¥çœ‹åˆ°ä½  GPU çš„è´Ÿè·ã€‚â€“ Core Graphics / Quartz 2Dâ€“ CGLayerâ€“ åƒç´ â€“ é»˜è®¤çš„åƒç´ å¸ƒå±€â€“ æ·±å¥¥çš„å¸ƒå±€â€“ äºŒç»´æ•°æ®â€“ YCbCrâ€“ å›¾ç‰‡æ ¼å¼â€“ JPEGâ€“ PNGâ€“ æŒ‘é€‰ä¸€ä¸ªæ ¼å¼â€“ UIKit å’Œ Pixelsâ€“ With â€“drawRect:â€“ ä¸ä½¿ç”¨ -drawRect:â€“ å®žçŽ°-drawRect: è¿˜æ˜¯ä¸å®žçŽ° -drawRect:â€“ å•ä¸€é¢œè‰²â€“ å¯å˜å°ºå¯¸çš„å›¾åƒâ€“ å¹¶å‘ç»˜å›¾â€“ CALayerâ€“ è‡ªå®šä¹‰ç»˜åˆ¶çš„å›¾å±‚â€“ å½¢çŠ¶å’Œæ–‡æœ¬å›¾å±‚â€“ å¼‚æ­¥ç»˜å›¾ # Day 10 : è°ˆè°ˆ iOS ä¸­å›¾ç‰‡çš„è§£åŽ‹ç¼©ç”± é›·çº¯é”‹çš„æŠ€æœ¯åšå®¢ å‘å¸ƒ ##1ã€å›¾ç‰‡åŠ è½½å›¾ç‰‡åŠ è½½çš„å·¥ä½œæµå‚è€ƒ FastImageCache åœ¨ GitHub ä¸Šçš„ README.mdã€‚å›¾ç‰‡åœ¨æ¸²æŸ“åˆ° UIImageView çš„å›¾å±‚ä¹‹å‰éœ€è¦å°†å…¶è§£åŽ‹ç¼©ï¼Œè€Œå¯¹å›¾ç‰‡è§£åŽ‹ç¼©é»˜è®¤æ˜¯åœ¨ä¸»çº¿ç¨‹å®Œæˆçš„ï¼Œå¹¶ä¸”æ˜¯ä¸€ä¸ªéžå¸¸è€—æ—¶çš„æ“ä½œï¼Œåœ¨å¯¹æ€§èƒ½è¦æ±‚æ¯”è¾ƒé«˜æ—¶å¯ä»¥åœ¨å›¾ç‰‡æ¸²æŸ“åˆ°å±å¹•ä¹‹å‰åœ¨å­çº¿ç¨‹æå‰å¯¹å›¾ç‰‡è¿›è¡Œå¼ºåˆ¶è§£åŽ‹ç¼©ï¼Œå¼ºåˆ¶è§£åŽ‹ç¼©çš„åŽŸç†å°±æ˜¯å¯¹å›¾ç‰‡è¿›è¡Œé‡æ–°ç»˜åˆ¶ï¼Œå¾—åˆ°ä¸€å¼ æ–°çš„è§£åŽ‹ç¼©åŽçš„ä½å›¾ã€‚å…¶ä¸­ï¼Œç”¨åˆ°çš„æœ€æ ¸å¿ƒçš„å‡½æ•°æ˜¯ CGBitmapContextCreate ï¼š1234CG_EXTERN CGContextRef __nullable CGBitmapContextCreate(void * __nullable data, size_t width, size_t height, size_t bitsPerComponent, size_t bytesPerRow, CGColorSpaceRef cg_nullable space, uint32_t bitmapInfo) CG_AVAILABLE_STARTING(__MAC_10_0, __IPHONE_2_0); å…¶ä¸­ï¼šâ€“ dataï¼šå¦‚æžœä¸ä¸º NULL ï¼Œé‚£ä¹ˆå®ƒåº”è¯¥æŒ‡å‘ä¸€å—å¤§å°è‡³å°‘ä¸º bytesPerRow height å­—èŠ‚çš„å†…å­˜ï¼›å¦‚æžœ ä¸º NULL ï¼Œé‚£ä¹ˆç³»ç»Ÿå°±ä¼šä¸ºæˆ‘ä»¬è‡ªåŠ¨åˆ†é…å’Œé‡Šæ”¾æ‰€éœ€çš„å†…å­˜ï¼Œæ‰€ä»¥ä¸€èˆ¬æŒ‡å®š NULL å³å¯ï¼›â€“ width å’Œ heightï¼šä½å›¾çš„å®½åº¦å’Œé«˜åº¦ï¼Œåˆ†åˆ«èµ‹å€¼ä¸ºå›¾ç‰‡çš„åƒç´ å®½åº¦å’Œåƒç´ é«˜åº¦å³å¯ï¼›â€“ bitsPerComponentï¼šåƒç´ çš„æ¯ä¸ªé¢œè‰²åˆ†é‡ä½¿ç”¨çš„ bit æ•°ï¼Œåœ¨ RGB é¢œè‰²ç©ºé—´ä¸‹æŒ‡å®š 8 å³å¯ï¼›â€“ bytesPerRowï¼šä½å›¾çš„æ¯ä¸€è¡Œä½¿ç”¨çš„å­—èŠ‚æ•°ï¼Œå¤§å°è‡³å°‘ä¸º width bytes per pixel å­—èŠ‚ã€‚æœ‰æ„æ€çš„æ˜¯ï¼Œå½“æˆ‘ä»¬æŒ‡å®š 0 æ—¶ï¼Œç³»ç»Ÿä¸ä»…ä¼šä¸ºæˆ‘ä»¬è‡ªåŠ¨è®¡ç®—ï¼Œè€Œä¸”è¿˜ä¼šè¿›è¡Œ cache line alignment çš„ä¼˜åŒ–ï¼›â€“ spaceï¼šå°±æ˜¯æˆ‘ä»¬å‰é¢æåˆ°çš„é¢œè‰²ç©ºé—´ï¼Œä¸€èˆ¬ä½¿ç”¨ RGB å³å¯ï¼›â€“ bitmapInfoï¼šå°±æ˜¯æˆ‘ä»¬å‰é¢æåˆ°çš„ä½å›¾çš„å¸ƒå±€ä¿¡æ¯ã€‚æ¶‰åŠåˆ°çš„æ¦‚å¿µï¼šPixel Formatï¼ˆåƒç´ æ ¼å¼ï¼‰ã€Color and Color Spacesï¼ˆé¢œè‰²ç©ºé—´ï¼‰ã€Color Spaces and Bitmap Layoutï¼ˆä½å›¾å¸ƒå±€ï¼‰ ##2ã€å¼€æºåº“è´´å‡ºäº† YYKit ä¸­å­˜åœ¨äºŽ YYImageCoder ç±»ä¸­ç”¨äºŽè§£åŽ‹ç¼©å›¾ç‰‡çš„æ ¸å¿ƒä»£ç çš„å‡½æ•° YYCGImageCreateDecodedCopyã€‚è®²è§£ä»£ç æ­¥éª¤å¹¶å¯¹ YYKitï¼ŒSDWebImageï¼ŒFLAnimatedImage åšäº†æ€§èƒ½æ¯”å¯¹ã€‚ # Day 9 : Objective-C Fast Enumeration çš„å®žçŽ°åŽŸç†ç”± é›·çº¯é”‹çš„æŠ€æœ¯åšå®¢ å‘å¸ƒ ##1ã€è§£æž NSFastEnumeration åè®®1234567891011121314/** Returns by reference a C array of objects over which the sender should iterate, and as the return value the number of objects in the array. @param state Context information that is used in the enumeration to, in addition to other possibilities, ensure that the collection has not been mutated. @param buffer A C array of objects over which the sender is to iterate. @param len The maximum number of objects to return in stackbuf. @discussion The state structure is assumed to be of stack local memory, so you can recast the passed in state structure to one more suitable for your iteration. @return The number of objects returned in stackbuf. Returns 0 when the iteration is finished. */- (NSUInteger)countByEnumeratingWithState:(NSFastEnumerationState *)state objects:(id __unsafe_unretained [])stackbuf count:(NSUInteger)len ç»“æž„ä½“ NSFastEnumerationState çš„å®šä¹‰:123456typedef struct &#123; unsigned long state; id __unsafe_unretained _Nullable * _Nullable itemsPtr; unsigned long * _Nullable mutationsPtr; unsigned long extra[5];&#125; NSFastEnumerationState; ##2ã€å¿«é€Ÿæžšä¸¾çš„å†…éƒ¨å®žçŽ°é€šè¿‡ clang -rewrite-objc main.m å‘½ä»¤é‡å†™äº†ä¸€æ®µ OC çš„å¿«é€Ÿæžšä¸¾ä»£ç ï¼Œè¯¦å°½çš„æ³¨é‡Šä»‹ç»äº†å¿«é€Ÿæžšä¸¾çš„å†…éƒ¨å®žçŽ°ï¼ŒåŠåœ¨ for/in è¯­å¥ä¸­åˆ©ç”¨ goto å®žçŽ° continue å’Œ break å‘½ä»¤çš„ c++ ä»£ç ã€‚ ##3ã€å®žçŽ° NSFastEnumeration åè®®ä½œè€…ç»™å‡ºäº†ä¸€ä¸ªå®žçŽ° - (NSUInteger)countByEnumeratingWithState:(NSFastEnumerationState *)state objects:(id __unsafe_unretained [])stackbuf count:(NSUInteger)len; çš„ä¾‹å­ ##3ã€å‚è€ƒé“¾æŽ¥åœ¨æ–‡æœ«çš„å‚è€ƒé“¾æŽ¥ä¸­æœ‰æ–‡ Friday Q&amp;A 2010-04-16: Implementing Fast Enumeration åŒæ ·ä»‹ç»äº†å¿«é€Ÿæžšä¸¾çš„å®žçŽ°ã€‚ # Day 8 : iOS å¹¶å‘ç¼–ç¨‹ä¹‹ Operation Queuesç”± é›·çº¯é”‹çš„æŠ€æœ¯åšå®¢ å‘å¸ƒ è¿™ç¯‡æ–‡ç« æ¯”è¾ƒé•¿ï¼Œä¸”ç›¸å½“è¯¦ç»†ï¼Œå¾ˆå¤šä¹Ÿæ˜¯ Operation Queues çš„åŸºç¡€ç”¨æ³•ï¼Œæ‰€ä»¥è¿™é‡Œå°±åªå°†æ–‡ç« ç›®å½•è®°ä¸‹æ¥å¥½äº†ï¼Œä¸‹æ¬¡å¤ä¹ ï¼ˆçš„è¯ï¼‰å…ˆæ¥è¿‡ä¸€éç›®å½•ï¼Œè®°ä¸èµ·çš„å†åŽ»æŸ¥é˜…æ–‡ç« å§ã€‚è¯¥ç¯‡æ–‡ç« è¯¦ç»†ä»‹ç»äº† Operation Queues çš„ä¸€ç³»åˆ—ä½¿ç”¨ï¼Œå¹¶ä¸” SDWebImage ä¹Ÿç”¨åˆ°äº† Operation Queuesï¼Œå¯¹äºŽä¸ä¹…åŽåŽ»é˜…è¯» SDWebImage æºç æƒ³å¿…ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚ ##1ã€åŸºæœ¬æ¦‚å¿µâ€“ è¿›ç¨‹ï¼ˆprocessï¼‰ã€çº¿ç¨‹ï¼ˆthreadï¼‰ã€ä»»åŠ¡ï¼ˆtaskï¼‰â€“ ä¸²è¡Œ vs. å¹¶å‘â€“ åŒæ­¥ vs. å¼‚æ­¥â€“ é˜Ÿåˆ— vs. çº¿ç¨‹çš„æ¦‚å¿µã€‚ ##2ã€iOS çš„å¹¶å‘ç¼–ç¨‹æ¨¡åž‹ ##3ã€Operation Queues vs. Grand Central Dispatch (GCD) ##4ã€å…³äºŽ Operation å¯¹è±¡â€“ å¹¶å‘ vs. éžå¹¶å‘ Operationâ€“ åˆ›å»º NSInvocationOperation å¯¹è±¡â€“ åˆ›å»º NSBlockOperation å¯¹è±¡ ##5ã€è‡ªå®šä¹‰ Operation å¯¹è±¡â€“ æ‰§è¡Œä¸»ä»»åŠ¡â€“ å“åº”å–æ¶ˆäº‹ä»¶â€“ é…ç½®å¹¶å‘æ‰§è¡Œçš„ Operationâ€“ ç»´æŠ¤ KVO é€šçŸ¥ ##6ã€å®šåˆ¶ Operation å¯¹è±¡çš„æ‰§è¡Œè¡Œä¸ºâ€“ é…ç½®ä¾èµ–å…³ç³»â€“ ä¿®æ”¹ Operation åœ¨é˜Ÿåˆ—ä¸­çš„ä¼˜å…ˆçº§â€“ ä¿®æ”¹ Operation æ‰§è¡Œä»»åŠ¡çº¿ç¨‹çš„ä¼˜å…ˆçº§â€“ è®¾ç½® Completion Block ##7ã€æ‰§è¡Œ Operation å¯¹è±¡â€“ æ·»åŠ  Operation åˆ° Operation Queue ä¸­â€“ æ‰‹åŠ¨æ‰§è¡Œ Operationâ€“ å–æ¶ˆ Operationâ€“ ç­‰å¾… Operation æ‰§è¡Œå®Œæˆâ€“ æš‚åœå’Œæ¢å¤ Operation Queue ##8ã€æ€»ç»“ # Day 7 : Objective-C Method Swizzling çš„æœ€ä½³å®žè·µç”± é›·çº¯é”‹çš„æŠ€æœ¯åšå®¢ å‘å¸ƒ ##1ã€Method çš„æ•°æ®ç»“æž„ï¼š1234567891011121314struct method_t &#123; SEL name; // æ–¹æ³•çš„åç§°ï¼Œç”¨äºŽå”¯ä¸€æ ‡è¯†æŸä¸ªæ–¹æ³•ï¼Œæ¯”å¦‚ @selector(viewWillAppear:) const char *types; // æ–¹æ³•çš„è¿”å›žå€¼å’Œå‚æ•°ç±»åž‹ IMP imp; // å‡½æ•°æŒ‡é’ˆï¼ŒæŒ‡å‘æ–¹æ³•çš„å®žçŽ° struct SortBySELAddress : public std::binary_function&lt;const method_t&amp;, const method_t&amp;, bool&gt; &#123; bool operator() (const method_t&amp; lhs, const method_t&amp; rhs) &#123; return lhs.name &lt; rhs.name; &#125; &#125;; // ä¸€ä¸ªæ ¹æ® name çš„åœ°å€å¯¹æ–¹æ³•è¿›è¡ŒæŽ’åºçš„å‡½æ•°&#125;; â€“ å®žä¾‹æ–¹æ³•ä¿å­˜åœ¨ç±»å¯¹è±¡ä¸­ï¼Œç±»æ–¹æ³•ä¿å­˜åœ¨å…ƒç±»å¯¹è±¡ä¸­ã€‚ï¼ˆå‚è§Objective-C å¯¹è±¡æ¨¡åž‹ï¼‰â€“ åŽŸåˆ™ä¸Šï¼Œæ–¹æ³•çš„åç§° name å’Œæ–¹æ³•çš„å®žçŽ° imp æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œè€Œ Method Swizzling çš„åŽŸç†å°±æ˜¯åŠ¨æ€åœ°æ”¹å˜å®ƒä»¬çš„å¯¹åº”å…³ç³»ï¼Œä»¥è¾¾åˆ°æ›¿æ¢æ–¹æ³•å®žçŽ°çš„ç›®çš„ã€‚ ##2ã€Method Swizzling çš„æœ€ä½³å®žè·µ+load å’Œ +initialize æ˜¯ Objective-C runtime ä¼šè‡ªåŠ¨è°ƒç”¨çš„ä¸¤ä¸ªç±»æ–¹æ³•ã€‚â€“ +initialize æ–¹æ³•ä»¥æ‡’åŠ è½½çš„æ–¹å¼è¢«è°ƒç”¨çš„ï¼Œæœ‰å¯èƒ½ä¸ä¼šè¢«è°ƒç”¨ï¼Œè€Œ +load æ–¹æ³•æ˜¯åœ¨ç±»è¢«åŠ è½½çš„æ—¶å€™è°ƒç”¨ã€‚â€“ Objective-C runtime è‡ªåŠ¨è°ƒç”¨ +load æ–¹æ³•æ—¶ï¼Œåˆ†ç±»ä¸­çš„ +load æ–¹æ³•å¹¶ä¸ä¼šå¯¹ä¸»ç±»ä¸­çš„ +load æ–¹æ³•é€ æˆè¦†ç›–ç»¼ä¸Šï¼Œåˆ†ç±»ä¸­çš„ +load æ–¹æ³•æ˜¯å®žçŽ° Method Swizzling é€»è¾‘çš„æœ€ä½³â€œåœºæ‰€â€â€“ åº”å½“ä½¿ç”¨ dispatch_once ä¿è¯ Method Swizzling åªè¢«è°ƒç”¨ä¸€æ¬¡ æ–‡ç« ç¤ºä¾‹ä»£ç ï¼šâ€“ ä¸»ç±»æœ¬èº«æœ‰å®žçŽ°éœ€è¦æ›¿æ¢çš„æ–¹æ³•ï¼Œå³è¿”å›ž NO æ—¶ï¼Œç›´æŽ¥äº¤æ¢ä¸¤ä¸ªæ–¹æ³•çš„å®žçŽ°ï¼›â€“ ä¸»ç±»æœ¬èº«æ²¡æœ‰å®žçŽ°éœ€è¦æ›¿æ¢çš„æ–¹æ³•ï¼Œè€Œæ˜¯ç»§æ‰¿äº†çˆ¶ç±»çš„å®žçŽ°ï¼Œå³è¿”å›ž YES æ—¶ï¼Œå°†çˆ¶ç±»çš„å®žçŽ°æ›¿æ¢åˆ°æˆ‘ä»¬è‡ªå®šä¹‰çš„ mrc_viewWillAppear æ–¹æ³•ä¸­ã€‚123456789101112131415161718192021222324252627@implementation UIViewController (MRCUMAnalytics)+ (void)load &#123; static dispatch_once_t onceToken; dispatch_once(&amp;onceToken, ^&#123; Class class = [self class]; SEL originalSelector = @selector(viewWillAppear:); SEL swizzledSelector = @selector(mrc_viewWillAppear:); Method originalMethod = class_getInstanceMethod(class, originalSelector); Method swizzledMethod = class_getInstanceMethod(class, swizzledSelector); BOOL success = class_addMethod(class, originalSelector, method_getImplementation(swizzledMethod), method_getTypeEncoding(swizzledMethod)); if (success) &#123; class_replaceMethod(class, swizzledSelector, method_getImplementation(originalMethod), method_getTypeEncoding(originalMethod)); &#125; else &#123; method_exchangeImplementations(originalMethod, swizzledMethod); &#125; &#125;);&#125;#pragma mark - Method Swizzling- (void)mrc_viewWillAppear:(BOOL)animated &#123; [self mrc_viewWillAppear:animated]; [MobClick beginLogPageView:NSStringFromClass([self class])];&#125;@end # Day 6 : Objective-C Autorelease Pool çš„å®žçŽ°åŽŸç†ç”± é›·çº¯é”‹çš„æŠ€æœ¯åšå®¢ å‘å¸ƒ ##1ã€autoreleased å¯¹è±¡çš„é‡Šæ”¾æ—¶æœºå¯¹è±¡ A è¢«åˆ›å»ºæ—¶å¼•ç”¨è®¡æ•°ä¸º 1ï¼Œå½“æœ‰å˜é‡ B æŒ‡å‘è¿™ä¸ªå¯¹è±¡æ—¶ï¼Œå¼•ç”¨è®¡æ•° +1ï¼Œå˜é‡ B ç¦»å¼€ä½œç”¨åŸŸåŽä¸º nilï¼Œå¯¹è±¡ A çš„å¼•ç”¨è®¡æ•° -1ï¼Œå½“å¯¹è±¡ A æ‰€åœ¨çš„ autoreleasepool è¢« drain ï¼Œå…¶ä¸­çš„ autoreleased å¯¹è±¡è¢« release ï¼Œå¯¹è±¡ A çš„å¼•ç”¨è®¡æ•° -1ã€‚å½“å¯¹è±¡ A çš„å¼•ç”¨è®¡æ•°ä¸º 0 æ—¶éšå³è¢«é‡Šæ”¾ã€‚ å…¶ä¸­æåˆ°äº† __weak çš„ä¸¤ä¸ªç‰¹æ€§ï¼šâ€“ __weak å˜é‡ä¸ä¼šå½±å“æ‰€æŒ‡å‘å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸâ€“ __weak å˜é‡æ‰€æŒ‡å‘çš„å¯¹è±¡è¢«é‡Šæ”¾æ—¶ï¼Œ__weak å˜é‡çš„å€¼ä¼šè¢«ç½®ä¸º nil ##2ã€AutoreleasePoolPageâ€“ ä»‹ç»äº† AutoreleasePoolPage çš„å†…å­˜ç»“æž„â€“ Autorelease Pool Blocks é€šè¿‡ clang -rewrite-objc æ”¹å†™æˆ c++ ä»£ç çš„å®žçŽ°ï¼Œå’Œå…¶ä¸­çš„ push æ“ä½œã€autorelease æ“ä½œã€pop æ“ä½œ ##3ã€NSThreadã€NSRunLoop å’Œ NSAutoreleasePool Each NSThread object, including the applicationâ€™s main thread, has an NSRunLoop object automatically created for it as needed. The Application Kit creates an autorelease pool on the main thread at the beginning of every cycle of the event loop, and drains it at the end, thereby releasing any autoreleased objects generated while processing an event. Each thread (including the main thread) maintains its own stack of NSAutoreleasePool objects. # Day 5 : Objective-C Associated Objects çš„å®žçŽ°åŽŸç†ç”± é›·çº¯é”‹çš„æŠ€æœ¯åšå®¢ å‘å¸ƒ ##1ã€ç›¸å…³å‡½æ•°åœ¨ Objective-C ä¸­å¯ä»¥é€šè¿‡ Category ç»™ä¸€ä¸ªçŽ°æœ‰çš„ç±»æ·»åŠ å±žæ€§ï¼Œä½†æ˜¯å´ä¸èƒ½æ·»åŠ å®žä¾‹å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ Associated Objects æ¥å¼¥è¡¥è¿™ä¸€ä¸è¶³123void objc_setAssociatedObject(id object, const void *key, id value, objc_AssociationPolicy policy); // ç”¨äºŽç»™å¯¹è±¡æ·»åŠ å…³è”å¯¹è±¡ï¼Œä¼ å…¥ nil åˆ™å¯ä»¥ç§»é™¤å·²æœ‰çš„å…³è”å¯¹è±¡id objc_getAssociatedObject(id object, const void *key); // ç”¨äºŽèŽ·å–å…³è”å¯¹è±¡void objc_removeAssociatedObjects(id object); // ç”¨äºŽç§»é™¤ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰å…³è”å¯¹è±¡ ##2ã€key å€¼ä¸Šè¾¹å‰ä¸¤ä¸ªå‡½æ•°éœ€è¦ä¼ å…¥ä¸€ä¸ª key ä½œä¸ºå”¯ä¸€å˜é‡ï¼Œä½œè€…æŽ¨è selector ï¼Œä½¿ç”¨ getter æ–¹æ³•çš„åç§°ä½œä¸º key å€¼ã€‚è¿™æ ·å°±çœæŽ‰äº†ä¸€ä¸ªå˜é‡åï¼Œè§£å†³äº†ç»™è¿™ä¸ª key å‘½åçš„çƒ¦æ¼ã€‚ ##3ã€å…³è”ç­–ç•¥ å…³è”ç­–ç•¥ ç­‰ä»·å±žæ€§ è¯´æ˜Ž OBJC_ASSOCIATION_ASSIGN @property (assign) or @property (unsafe_unretained) å¼±å¼•ç”¨å…³è”å¯¹è±¡ OBJC_ASSOCIATION_RETAIN_NONATOMIC @property (strong, nonatomic) å¼ºå¼•ç”¨å…³è”å¯¹è±¡ï¼Œä¸”ä¸ºéžåŽŸå­æ“ä½œ OBJC_ASSOCIATION_COPY_NONATOMIC @property (copy, nonatomic) å¤åˆ¶å…³è”å¯¹è±¡ï¼Œä¸”ä¸ºéžåŽŸå­æ“ä½œ OBJC_ASSOCIATION_RETAIN @property (strong, atomic) å¼ºå¼•ç”¨å…³è”å¯¹è±¡ï¼Œä¸”ä¸ºåŽŸå­æ“ä½œ OBJC_ASSOCIATION_COPY @property (copy, atomic) å¤åˆ¶å…³è”å¯¹è±¡ï¼Œä¸”ä¸ºåŽŸå­æ“ä½œ ##4ã€å®žçŽ° getter setter æ–¹æ³•ViewController+AssociatedObjects.hï¼š123@interface ViewController (AssociatedObjects)@property (nonatomic, copy) NSString *associatedObject_copy;@end ViewController+AssociatedObjects.mï¼š12345678@implementation ViewController (AssociatedObjects)- (NSString *)associatedObject_copy &#123; return objc_getAssociatedObject(self, _cmd);&#125;- (void)setAssociatedObject_copy:(NSString *)associatedObject_copy &#123; objc_setAssociatedObject(self, @selector(associatedObject_copy), associatedObject_copy, OBJC_ASSOCIATION_COPY_NONATOMIC);&#125;@end ##5ã€æ€»ç»“â€“ å…³è”å¯¹è±¡ä¸Žè¢«å…³è”å¯¹è±¡æœ¬èº«çš„å­˜å‚¨å¹¶æ²¡æœ‰ç›´æŽ¥çš„å…³ç³»ï¼Œå®ƒæ˜¯å­˜å‚¨åœ¨å•ç‹¬çš„å“ˆå¸Œè¡¨ä¸­çš„ï¼›â€“ å…³è”å¯¹è±¡çš„äº”ç§å…³è”ç­–ç•¥ä¸Žå±žæ€§çš„é™å®šç¬¦éžå¸¸ç±»ä¼¼ï¼Œåœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½ä¼šä½¿ç”¨ OBJC_ASSOCIATION_RETAIN_NONATOMIC çš„å…³è”ç­–ç•¥ï¼Œè¿™å¯ä»¥ä¿è¯æˆ‘ä»¬æŒæœ‰å…³è”å¯¹è±¡ï¼›â€“ å…³è”å¯¹è±¡çš„é‡Šæ”¾æ—¶æœºä¸Žç§»é™¤æ—¶æœºå¹¶ä¸æ€»æ˜¯ä¸€è‡´ï¼Œæ¯”å¦‚å®žéªŒä¸­ç”¨å…³è”ç­–ç•¥ OBJC_ASSOCIATION_ASSIGN è¿›è¡Œå…³è”çš„å¯¹è±¡ï¼Œå¾ˆæ—©å°±å·²ç»è¢«é‡Šæ”¾äº†ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰è¢«ç§»é™¤ï¼Œè€Œå†ä½¿ç”¨è¿™ä¸ªå…³è”å¯¹è±¡æ—¶å°±ä¼šé€ æˆ Crash ã€‚ # Day 4 : Objective-C +load vs +initializeç”± é›·çº¯é”‹çš„æŠ€æœ¯åšå®¢ å‘å¸ƒ ##1ã€+loadâ€“ è°ƒç”¨æ‰€æœ‰ç±»çš„ +load æ–¹æ³•ï¼ˆåŒ…æ‹¬åˆ†ç±»çš„ +load æ–¹æ³•ï¼‰æ˜¯ç›´æŽ¥ä½¿ç”¨å‡½æ•°å†…å­˜åœ°å€çš„æ–¹å¼ (*load_method)(cls, SEL_load); è¿›è¡Œè°ƒç”¨çš„ï¼Œè€Œä¸æ˜¯ä½¿ç”¨å‘é€æ¶ˆæ¯ objc_msgSend çš„æ–¹å¼ã€‚ä¹Ÿå°±æ˜¯è¯´å¦‚æžœå­ç±»æ²¡æœ‰å®žçŽ° +load æ–¹æ³•ï¼Œé‚£ä¹ˆå½“å®ƒè¢«åŠ è½½æ—¶ runtime æ˜¯ä¸ä¼šåŽ»è°ƒç”¨çˆ¶ç±»çš„ +load æ–¹æ³•çš„ã€‚åŒç†ï¼Œå½“ä¸€ä¸ªç±»å’Œå®ƒçš„åˆ†ç±»éƒ½å®žçŽ°äº† +load æ–¹æ³•æ—¶ï¼Œä¸¤ä¸ªæ–¹æ³•éƒ½ä¼šè¢«è°ƒç”¨ã€‚â€“ å­ç±»çš„ +load æ–¹æ³•ä¼šåœ¨å®ƒçš„æ‰€æœ‰çˆ¶ç±»çš„ +load æ–¹æ³•ä¹‹åŽæ‰§è¡Œï¼Œè€Œåˆ†ç±»çš„ +load æ–¹æ³•ä¼šåœ¨å®ƒçš„ä¸»ç±»çš„ +load æ–¹æ³•ä¹‹åŽæ‰§è¡Œã€‚ä½†æ˜¯ä¸åŒçš„ç±»ä¹‹é—´çš„ +load æ–¹æ³•çš„è°ƒç”¨é¡ºåºæ˜¯ä¸ç¡®å®šçš„ã€‚ ##2ã€+initializeâ€“ runtime ä½¿ç”¨äº†å‘é€æ¶ˆæ¯ objc_msgSend çš„æ–¹å¼å¯¹ +initialize æ–¹æ³•è¿›è¡Œè°ƒç”¨ã€‚å¦‚æžœå­ç±»æ²¡æœ‰å®žçŽ° +initialize æ–¹æ³•ï¼Œé‚£ä¹ˆç»§æ‰¿è‡ªçˆ¶ç±»çš„å®žçŽ°ä¼šè¢«è°ƒç”¨ï¼›å¦‚æžœä¸€ä¸ªç±»çš„åˆ†ç±»å®žçŽ°äº† +initialize æ–¹æ³•ï¼Œé‚£ä¹ˆå°±ä¼šå¯¹è¿™ä¸ªç±»ä¸­çš„å®žçŽ°é€ æˆè¦†ç›–ã€‚â€“ å¦‚æžœä¸€ä¸ªå­ç±»æ²¡æœ‰å®žçŽ° +initialize æ–¹æ³•ï¼Œé‚£ä¹ˆçˆ¶ç±»çš„å®žçŽ°æ˜¯ä¼šè¢«æ‰§è¡Œå¤šæ¬¡çš„ã€‚å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä»£ç ç¡®ä¿è‡ªå·±çš„ +initialize æ–¹æ³•åªæ‰§è¡Œä¸€æ¬¡ï¼š12345+ (void)initialize &#123; if (self == [ClassName self]) &#123; // ... do the initialization ... &#125;&#125; ##3ã€æ€»ç»“ +load +initialize è°ƒç”¨æ—¶æœº è¢«æ·»åŠ åˆ° runtime æ—¶ æ”¶åˆ°ç¬¬ä¸€æ¡æ¶ˆæ¯å‰ï¼Œå¯èƒ½æ°¸è¿œä¸è°ƒç”¨ è°ƒç”¨é¡ºåº çˆ¶ç±»-&gt;å­ç±»-&gt;åˆ†ç±» çˆ¶ç±»-&gt;å­ç±» è°ƒç”¨æ¬¡æ•° 1æ¬¡ å¤šæ¬¡ æ˜¯å¦éœ€è¦æ˜¾å¼è°ƒç”¨çˆ¶ç±»å®žçŽ° å¦ å¦ æ˜¯å¦æ²¿ç”¨çˆ¶ç±»çš„å®žçŽ° å¦ æ˜¯ åˆ†ç±»ä¸­çš„å®žçŽ° ç±»å’Œåˆ†ç±»éƒ½æ‰§è¡Œ è¦†ç›–ç±»ä¸­çš„æ–¹æ³•ï¼Œåªæ‰§è¡Œåˆ†ç±»çš„å®žçŽ° # Day 3 : Objective-Cå¯¹è±¡æ¨¡åž‹åŠåº”ç”¨ç”± å”å·§çš„åšå®¢ å‘å¸ƒ ##1ã€ISA æŒ‡é’ˆâ€“ æ¯ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªåä¸º isa çš„æŒ‡é’ˆï¼ŒæŒ‡å‘è¯¥å¯¹è±¡çš„ç±»ã€‚â€“ åœ¨ Objective-C è¯­è¨€ä¸­ï¼Œæ¯ä¸€ä¸ªç±»å®žé™…ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ¯ä¸€ä¸ªç±»ä¹Ÿæœ‰ä¸€ä¸ªåä¸º isa çš„æŒ‡é’ˆï¼ŒæŒ‡å‘è¯¥ç±»çš„å…ƒç±»ã€‚â€“ å…ƒç±»çš„ isa æŒ‡é’ˆæŒ‡å‘æ ¹å…ƒç±»ã€‚â€“ æ ¹å…ƒç±»çš„ isa æŒ‡é’ˆæŒ‡å‘è‡ªå·±ã€‚ ï¼ˆæ–‡ç« ä¸­æœ‰ä¸€å¼ å›¾ç›´ç™½çš„è¯´æ˜Žäº† isa æŒ‡é’ˆçš„æŒ‡å‘ï¼‰ ##2ã€Method Swizzling API è¯´æ˜Žâ€“ class_replaceMethod, å½“éœ€è¦æ›¿æ¢çš„æ–¹æ³•å¯èƒ½æœ‰ä¸å­˜åœ¨çš„æƒ…å†µæ—¶ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨è¯¥æ–¹æ³•ã€‚â€“ method_exchangeImplementationsï¼Œå½“éœ€è¦äº¤æ¢ 2 ä¸ªæ–¹æ³•çš„å®žçŽ°æ—¶ä½¿ç”¨ã€‚â€“ method_setImplementation æœ€ç®€å•çš„ç”¨æ³•ï¼Œå½“ä»…ä»…éœ€è¦ä¸ºä¸€ä¸ªæ–¹æ³•è®¾ç½®å…¶å®žçŽ°æ–¹å¼æ—¶ä½¿ç”¨ã€‚ # Day 2 : è°ˆObjective-C blockçš„å®žçŽ°ç”± å”å·§çš„åšå®¢ å‘å¸ƒ ##1ã€block çš„ struct ç»“æž„ï¼š123456789101112131415struct Block_descriptor &#123; unsigned long int reserved; unsigned long int size; void (*copy)(void *dst, void *src); void (*dispose)(void *);&#125;;struct Block_layout &#123; void *isa; // æ‰€æœ‰å¯¹è±¡éƒ½æœ‰è¯¥æŒ‡é’ˆï¼Œç”¨äºŽå®žçŽ°å¯¹è±¡ç›¸å…³çš„åŠŸèƒ½ã€‚ int flags; // ç”¨äºŽæŒ‰ bit ä½è¡¨ç¤ºä¸€äº› block çš„é™„åŠ ä¿¡æ¯ï¼Œæœ¬æ–‡åŽé¢ä»‹ç» block copy çš„å®žçŽ°ä»£ç å¯ä»¥çœ‹åˆ°å¯¹è¯¥å˜é‡çš„ä½¿ç”¨ã€‚ int reserved; // ä¿ç•™å˜é‡ã€‚ void (*invoke)(void *, ...); // å‡½æ•°æŒ‡é’ˆï¼ŒæŒ‡å‘å…·ä½“çš„ block å®žçŽ°çš„å‡½æ•°è°ƒç”¨åœ°å€ã€‚ struct Block_descriptor *descriptor; // è¡¨ç¤ºè¯¥ block çš„é™„åŠ æè¿°ä¿¡æ¯ï¼Œä¸»è¦æ˜¯ size å¤§å°ï¼Œä»¥åŠ copy å’Œ dispose å‡½æ•°çš„æŒ‡é’ˆã€‚ /* Imported variables. */&#125;; ##2ã€clang å‘½ä»¤æ”¹å†™ OC è¯­è¨€ä¸‹çš„ blockä½¿ç”¨ clang çš„ clang -rewrite-objc block.c å‘½ä»¤ï¼Œå¯ä»¥å°† Objetive-C çš„æºç æ”¹å†™æˆ c è¯­è¨€çš„ï¼Œç”Ÿæˆçš„ .cpp æ–‡ä»¶ä¸­æœ‰è®¸å¤šå…³é”®ä»£ç å±•ç¤ºäº† block çš„å®žçŽ°åŽŸç†ã€‚ å…¶ä¸­ï¼Œblock ä¸­æ“ä½œæœªç» __block ä¿®é¥°çš„å¤–éƒ¨å˜é‡æ—¶ï¼Œ.cpp æ–‡ä»¶ä¸­ç›¸å…³ä»£ç ä¸ºï¼š12345static void __main_block_func_0(struct __main_block_impl_0 *__cself) &#123; int a = __cself-&gt;a; // bound by copy printf("%d\n", a); &#125; block ä¸­æ“ä½œç» __block ä¿®é¥°çš„å¤–éƒ¨å˜é‡æ—¶ï¼Œ.cpp æ–‡ä»¶ä¸­ç›¸å…³ä»£ç ä¸ºï¼š123456static void __main_block_func_0(struct __main_block_impl_0 *__cself) &#123; __Block_byref_a_0 *a = __cself-&gt;a; // bound by ref printf("%d\n", (a-&gt;__forwarding-&gt;a)); (a-&gt;__forwarding-&gt;a) = 1023; &#125; ç»“è®ºï¼š1ã€åœ¨ block å†…éƒ¨ä¿®æ”¹å˜é‡ a çš„å†…å®¹ï¼Œä¸ä¼šå½±å“å¤–éƒ¨çš„å®žé™…å˜é‡ aï¼Œæ˜¯å› ä¸ºåœ¨ block å†…éƒ¨ copy äº†ä¸€ä»½å˜é‡ aã€‚2ã€å½“å˜é‡ä½¿ç”¨ __block ä¿®é¥°æ—¶ï¼Œblock å†…éƒ¨æ˜¯å¼•ç”¨çš„å¤–éƒ¨å˜é‡çš„æŒ‡é’ˆï¼Œæ‰€ä»¥å¯ä»¥ä¿®æ”¹å¤–éƒ¨çš„å®žé™…å˜é‡ aã€‚ # Day 1 : æ·±å…¥ç†è§£Objective-Cï¼šCategoryç”± ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿ å‘å¸ƒ ##1ã€category åœ¨ runtime å±‚ç”¨ç»“æž„ä½“ category_t å®šä¹‰ï¼š12345678typedef struct category_t &#123; const char *name; // ç±»çš„åå­— classref_t cls; // ç±» struct method_list_t *instanceMethods; // categoryä¸­æ‰€æœ‰ç»™ç±»æ·»åŠ çš„å®žä¾‹æ–¹æ³•çš„åˆ—è¡¨ struct method_list_t *classMethods; // categoryä¸­æ‰€æœ‰æ·»åŠ çš„ç±»æ–¹æ³•çš„åˆ—è¡¨ struct protocol_list_t *protocols; // categoryå®žçŽ°çš„æ‰€æœ‰åè®®çš„åˆ—è¡¨ struct property_list_t *instanceProperties; // categoryä¸­æ·»åŠ çš„æ‰€æœ‰å±žæ€§&#125; category_t; ç”±è¯¥ç»“æž„ä½“å¯ä»¥çœ‹å‡º category å¯ä»¥åŠ¨æ€çš„æ·»åŠ å®žä¾‹æ–¹æ³•ï¼Œç±»æ–¹æ³•ï¼Œç”šè‡³å¯ä»¥å®žçŽ°åè®®ï¼Œæ·»åŠ å±žæ€§ï¼Œä½†æ— æ³•æ·»åŠ å®žä¾‹å˜é‡å› ä¸ºæ— æ³•æ·»åŠ å®žä¾‹å˜é‡ï¼Œæ‰€ä»¥å½“é‡‡ç”¨ category ä¸ºç±»æ·»åŠ å±žæ€§æ—¶ï¼Œå¹¶ä¸ä¼šè‡ªåŠ¨ç”Ÿæˆå¸¦æœ‰ _ çš„å®žä¾‹å˜é‡ï¼Œæ‰€ä»¥ setter å’Œ getter æ–¹æ³•ä¹Ÿéœ€è¦è‡ªå·±åŽ»å®žçŽ°ï¼Œåœ¨æ–‡ç« æœ«å°¾æœ‰ä»‹ç»é‡‡ç”¨å…³è”å¯¹è±¡æ¥å®žçŽ°ï¼Œä½¿ç”¨ objc_setAssociatedObject å’Œ objc_getAssociatedObject æ–¹æ³•ã€‚ ##2ã€category æ›¿æ¢åŽŸæ¥ç±»å·²æœ‰çš„æ–¹æ³•category çš„æ–¹æ³•è¢«æ”¾åˆ°äº†æ–°æ–¹æ³•åˆ—è¡¨çš„å‰é¢ï¼Œè€ŒåŽŸæ¥ç±»çš„æ–¹æ³•è¢«æ”¾åˆ°äº†æ–°æ–¹æ³•åˆ—è¡¨çš„åŽé¢ï¼Œè¿è¡Œæ—¶åœ¨æŸ¥æ‰¾æ–¹æ³•çš„æ—¶å€™æ˜¯é¡ºç€æ–¹æ³•åˆ—è¡¨çš„é¡ºåºæŸ¥æ‰¾çš„ï¼Œå®ƒåªè¦ä¸€æ‰¾åˆ°å¯¹åº”åå­—çš„æ–¹æ³•ï¼Œå°±ä¼šç½¢ä¼‘ã€‚æ‰€ä»¥ï¼Œcategory çš„æ–¹æ³•æ²¡æœ‰â€œå®Œå…¨æ›¿æ¢æŽ‰â€åŽŸæ¥ç±»å·²ç»æœ‰çš„æ–¹æ³•ã€‚åœ¨æ–‡ç« ç¬¬å…­èŠ‚ä¹Ÿæœ‰ä»‹ç»å¯ä»¥ä½¿ç”¨ class_copyMethodList æ–¹æ³•èŽ·å–æ–¹æ³•åˆ—è¡¨ï¼Œé¡ºç€æ–¹æ³•åˆ—è¡¨æ‰¾åˆ°æœ€åŽä¸€ä¸ªå¯¹åº”åå­—çš„æ–¹æ³•ï¼Œå°±å¯ä»¥è°ƒç”¨åŽŸæ¥ç±»çš„æ–¹æ³• ##3ã€-category å’Œ +load æ–¹æ³•åœ¨ç±»çš„ +load æ–¹æ³•è°ƒç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨ category ä¸­å£°æ˜Žçš„æ–¹æ³•ï¼Œå› ä¸ºé™„åŠ  category åˆ°ç±»çš„å·¥ä½œä¼šå…ˆäºŽ +load æ–¹æ³•çš„æ‰§è¡Œ+load çš„æ‰§è¡Œé¡ºåºæ˜¯å…ˆç±»ï¼ŒåŽ categoryï¼Œè€Œ category çš„ +load æ‰§è¡Œé¡ºåºæ˜¯æ ¹æ®ç¼–è¯‘é¡ºåºå†³å®šçš„ï¼ˆCompile Sourcesï¼ˆ4 itemsï¼‰é‡Œçš„é¡ºåºï¼‰ åŽè®° å°ç™½å‡ºæ‰‹ï¼Œè¯·å¤šæŒ‡æ•™ã€‚å¦‚è¨€æœ‰è¯¯ï¼Œè¿˜æœ›æ–§æ­£ï¼ è½¬è½½è¯·ä¿ç•™åŽŸæ–‡åœ°å€ï¼šhttp://gonghonglou.com/2017/08/09/100days-100blogs]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[è®°çŽ¯é’æµ·æ¹–éª‘è¡Œ]]></title>
    <url>%2F2017%2F07%2F29%2Fqinghaihu-cycling%2F</url>
    <content type="text"><![CDATA[ç”Ÿæ´»ç»ˆç©¶æŒ‰ä¸ä½è¿œæ–¹çš„èºåŠ¨éª‘è¡Œå°†ä¼šæ˜¯ä½ çˆ±ä¸Šçš„è¿åŠ¨æ–¹å¼ è‡ªåŽ»å¹´çŽ¯å´‡æ˜Žå²›éª‘è¡Œä¹‹åŽä¾¿å¿µå¿µä¸å¿˜å†è®¡åˆ’éª‘è¡Œä¸€æ¬¡ï¼Œè€Œä¸”æœ€è¿‘ç‰¹åˆ«å–œå¥½è¥¿åŒ—è¿œæ–¹ï¼Œè™½ç„¶åœ¨2016 å¹´çš„å¹´ç»ˆæ€»ç»“é‡Œè®¡åˆ’äº†äº”æœˆä»½éª‘è¡Œé’æµ·æ¹–ï¼Œä¸è¿‡å¬ç½‘å‹æŽ¨èä¸ƒæœˆæ‰æ˜¯é’æµ·æ¹–æœ€ç¾Žéª‘è¡Œå­£èŠ‚ï¼Œç”±çŽ¯æ¹–èµ›å°±å®‰æŽ’åœ¨ä¸ƒæœˆä»½ä¹Ÿå¯è§ä¸€æ–‘ã€‚æ‰€ä»¥ä¾¿å°†è¿™ä»½éª‘è¡Œè®¡åˆ’å®‰æŽ’åœ¨äº†ä¸ƒæœˆä»½ï¼Œåªèº«ä¸€äººï¼Œæ¥ä¸€åœºè¿œæ–¹çš„èºåŠ¨å§ï¼ å…¶å®žé’æµ·æ¹–æœ‰è®¸å¤šç§Ÿè½¦æœåŠ¡ï¼Œåªä¸è¿‡æˆ‘æ›´å–œæ¬¢éª‘è‡ªå·±çš„è½¦å­ï¼Œæ‰€ä»¥è‡ªå·±å¸¦äº†è½¦å­è¿‡åŽ»ã€‚ä¸€è¾†è½¦å­ï¼Œä¸€ä¸ªæ»¡æ»¡çš„é©®åŒ…ï¼Œè®²çœŸï¼šå¸¦èµ·æ¥è¶…è´¹åŠ²ã€‚åˆ°äº†è¥¿å®ä½å®¿æ´—æ¾¡çš„æ—¶å€™æˆ‘æ‰å‘çŽ°ï¼Œä¸¤è‚©å·²ç»å‹’å‡ºæ·¤è¡€ã€‚ã€‚ã€‚ä¹Ÿæ­£æ˜¯å› ä¸ºè‡ªå·±å¸¦äº†è½¦å­ï¼Œæ‰€ä»¥é€‰æ‹©äº†ç«è½¦å‡ºè¡Œï¼Œå› æ­¤çœä¸‹äº†ä¸€ç¬”å‡ºè¡Œè´¹ã€‚äºŒåäº”ä¸ªå°æ—¶çš„å§é“ºï¼Œè¿™æ˜¯æˆ‘åè¿‡çš„æœ€é•¿æ—¶é—´çš„ç«è½¦äº†ï¼Œæœ¬ä»¥ä¸ºä¼šç´¯æˆç‹—ï¼Œå®žé™…ä¸Šå´æ²¡æœ‰ã€‚åœ¨è½¦ä¸Šçœ‹ä¸€éƒ¨ç”µå½±ï¼ˆã€Šç¥žå¥‡å¥³ä¾ ã€‹ï¼‰ã€çœ‹ä¸€æœ¬ä¹¦ï¼ˆä¸œé‡Žåœ­å¾çš„ã€Šæ¶æ„ã€‹ï¼‰ã€å¬è½¦åŽ¢é‡Œçš„äººèŠå¤©ã€çœ‹è·¯è¿‡çš„é£Žæ™¯ã€‚å°±è¿™äº›ï¼Œä¸çŸ¥è§‰çš„è¥¿å®å°±åˆ°äº†ã€‚ è¿™ç§ï¼Œä¸€ä¸ªäººï¼Œåä¸Šé©¶å¾€è¿œæ–¹çš„åˆ—è½¦ï¼Œç½®èº«å˜ˆæ‚çš„è½¦åŽ¢ï¼Œå´æœ‰ç‹¬è‡ªå®é™çš„æ„Ÿè§‰â€¦â€¦ä¹Ÿè®©äººè›®äº«å—çš„ã€Œæ‘Šæ‰‹ã€ ç»åŽ†â€œçŸ­æš‚â€çš„äºŒåäº”å°æ—¶çš„å§é“ºï¼Œè¥¿å®ç«™ï¼Œåˆ°äº†ï¼š èƒŒä¸€è½¦å­ï¼Œæ‹Žä¸€é©®åŒ…ï¼ŒåŠ æŒä¸‰åƒå¤šæµ·æ‹”åŠè¥¿åŒ—å†…é™†åœ°åŒºçš„å¹²ç‡¥ï¼Œåœ¨ä»Žè¥¿å®ç«™åˆ°å®¾é¦†çŸ­çŸ­ä¸è¶³ä¸€å…¬é‡Œçš„è·¯ç¨‹ï¼Œä¼‘æ¯äº†æ— æ•°æ¬¡ï¼Œç‰¹åˆ«å®¹æ˜“æ°”å–˜è€Œä¸”å¹²ç‡¥å¼‚å¸¸ï¼Œè€Œæˆ‘â€¦è¿˜æ²¡å¸¦æ°´â€¦â€¦ï¼ˆåœ¨æŽ¥ä¸‹æ¥çš„å››äº”å¤©äº†ï¼Œæˆ‘ç•™äº†Næ¬¡é¼»è¡€â€¦å› ä¸ºé’æµ·è¿™å¹²ç‡¥çš„å¤©æ°”ã€‚äº”åˆ†é’Ÿä¸å–æ°´å°±æ„Ÿè§‰è¦å¹²æ¶¸äº†ï¼Œç„¶è€Œå–è¿‡æ°´ä¹‹åŽä¹Ÿä¸ä¼šç¼“è§£è¿™ç§æ„Ÿè§‰å¤šå°‘ðŸ’Šï¼‰ æ€»ä¹‹ï¼ŒåŽ†å°½è¾›è‹¦æ€»ç®—åˆ°äº†å®¾é¦†ï¼åœ¨å¸ä¸‹è¡ŒæŽå…³ä¸Šæˆ¿é—¨ä¹‹åŽæ‰æ„Ÿè§‰ï¼Œä¸€ä¸ªäººï¼Œæœ‰äº›å¤ªå®é™äº†ã€‚çªç„¶æ„Ÿè§‰å¤ªç©ºè¡äº†ï¼Œæˆ–è€…æ˜¯ï¼Œç©ºè¡è¡â€¦æ‰“å¼€ç”µè§†ï¼ŒCCTV1ï¼Œè°ƒå¤§éŸ³é‡ï¼Œwho care èŠ‚ç›®æ˜¯ä»€ä¹ˆâ€¦å‡ºé—¨ä¹°äº†ç“¶æ°´ï¼Œåƒäº†ç¢—é¢ï¼ˆçœŸtmå’¸ï¼Œçªç„¶æƒ³èµ·æ¥å¤§ä¸€æ—¶å€™ï¼Œå—æ–¹åŒå­¦ä¹æ¥åŒ—æ–¹è¯´åŒ—æ–¹çš„é¥­å•¥éƒ½å’¸ï¼Œæˆ‘æƒ³çŽ°åœ¨çš„æˆ‘ç¨å¾®èƒ½æ„Ÿå—ä¸€ç‚¹äº†ï¼‰ å›žå®¾é¦†è·¯ä¸Šï¼Œçº¦æ™šä¸Šåä¸€ç‚¹ï¼Œä¸€ä¸ªäººï¼Œä¸ƒæœˆçš„è¥¿å®ï¼Œå‡‰çˆ½çš„å¤œæ™šï¼Œæœ‰é£Žï¼Œæ²¡æœ‰èº«å½±ã€‚ æ´—ä¸ªæ¾¡ç¡ä¸ªè§‰ï¼Œæ˜Žä¸ªæ—©èµ·èµ¶ä¸ƒç‚¹åŠè¥¿å®åˆ°è¥¿æµ·é•‡çš„é¦–ç­å®¢è½¦ã€‚çŽ¯é’æµ·æ¹–è·¯çº¿åŠå¤§äº‹ä»¶ï¼šè¥¿æµ·é•‡ â€”- 151åŸºåœ° â€”- é»‘é©¬æ²³ï¼ˆèŒ¶å¡ç›æ¹–ã€é»‘é©¬æ²³æ—¥å‡ºï¼‰ â€”- åˆšå¯ŸåŽ¿ â€”- è¥¿æµ·é•‡ æŽ¥ä¸‹æ¥ä¾¿æ˜¯æˆ‘å››å¤©çŽ¯é’æµ·æ¹–éª‘è¡Œçš„è¡Œç¨‹ï¼Œå¤šå›¾é¢„è­¦âš ï¸âš ï¸âš ï¸ 16å·æå‰åœ¨ç½‘ä¸Šä¹°å¥½äº†è¥¿å®åˆ°è¥¿æµ·çš„è½¦ç¥¨ï¼Œèµ¶ä¸Šä¸ƒç‚¹åŠçš„ç­è½¦ï¼Œå‘å¾€è¥¿æµ·ã€‚å¤§çº¦åç‚¹é’Ÿå°±æŠµè¾¾äº†è¥¿æµ·é•‡ã€‚ç»ˆäºŽï¼Œæºå¸¦è½¦å­çš„è´Ÿæ‹…ç»“æŸäº†ï¼Œç»ˆäºŽï¼Œå¯ä»¥æŠŠè½¦å­ç»„è£…èµ·æ¥äº†ï¼š åœ¨å¼€å¾€è¥¿æµ·çš„è½¦ä¸Šè®¤è¯†äº†ä¸€ä½ä¹Ÿæ˜¯ç‹¬è‡ªä¸€äººæ¥çŽ¯é’æµ·æ¹–éª‘è¡Œçš„é½å­ç…œï¼Œåœ¨å“ˆå°”æ»¨è¯»ä¹¦ï¼Œå¼€å­¦å¤§ä¸‰ï¼Œæ½åŠäººï¼Œä¹Ÿç®—é‡åˆ°è€ä¹¡äº†ï¼Œéƒ½æ˜¯ä¸€äººï¼Œæ‰€ä»¥å°±ç»“ä¼´éª‘è¡Œäº†ï¼Œå°±è¿™æ ·ï¼Œæ¡åˆ°äº†éª‘å‹ã€‚æˆ‘è£…å¥½äº†è½¦å­ï¼Œä»–ç§Ÿå¥½äº†è½¦å­ï¼Œç®€å•åƒäº†ä¸ªåˆé¥­ï¼Œçº¦åäºŒç‚¹ï¼Œå‡ºå‘äº†ã€‚åæ ‡ï¼šè¥¿æµ·ï¼Œç›®æ ‡ï¼šè¥¿æµ·ï¼ åˆšå¼€å§‹ä¾¿æ˜¯åäº”å…¬é‡Œçš„ä¸Šå¡ã€‚ç„¶åŽåœ¨æŠµè¾¾æ¹–ä¸œç§ç¾Šåœºä¹‹å‰ä¸€ç›´æ˜¯å¤§ä¸Šå¡å¤§ä¸‹å¡çš„èµ·ä¼è·¯ï¼Œæ—¢æœ‰æ—¥æ¸è’åŒ–çš„æ²™æ¼ ä¹Ÿæœ‰å¹¿é˜”æ— åž çš„è‰åŽŸï¼š è¿‡äº†æ¹–ä¸œç§ç¾Šåœºï¼Œä¸€ç›´åˆ°è½¬ä¸Š109å›½é“ä¹‹å‰çš„è¿™æ®µçŽ¯æ¹–ä¸œè·¯ï¼Œåº”è¯¥æ˜¯çŽ¯é’æµ·æ¹–è·¯ç¨‹ä¸­æœ€ç¾Žçš„ä¸€æ®µè·¯äº†ï¼Œæ€Žä¹ˆèƒ½ä¸åœä¸‹æ¥å¤šæ‹å‡ å¼ ç…§ï¼š ç„¶åŽçš„è·¯ç¨‹å°±æ˜¯æœ€è‹¦é€¼çš„äº†ï¼Œä¸çŸ¥é“æ˜¯ç¬¬ä¸€å¤©åˆšå¼€å§‹çš„ä¸é€‚åº”ï¼Œè¿˜æ˜¯çš„ç¡®è¿™æ®µè·¯æ¯”è¾ƒéš¾è¡Œï¼Œå°¤å…¶æ˜¯è½¬ä¸Š109å›½é“ä¹‹åŽï¼Œéª‘èµ·æ¥ç‰¹åˆ«è´¹åŠ›ï¼Œè¿™æ˜¯ä¸€æ®µç‰¹åˆ«è¾›è‹¦çš„è·¯ç¨‹ã€‚ä½†ä¹Ÿä¸å·®æœ‰å¥½çš„é£Žæ™¯ï¼š æœ¬æ¥æ˜¯æ‰“ç®—éª‘åˆ°æ±Ÿè¥¿æ²Ÿçš„ï¼Œç„¶åŽæ˜Žå¤©ä¸Šåˆåªéœ€è¦éª‘è¡Œäº”åå…¬é‡Œä¾¿å¯ä»¥æŠµè¾¾é»‘é©¬æ²³ï¼Œä½†ç”±äºŽè¿™æ®µè·¯çš„è¾›è‹¦ï¼Œé€Ÿåº¦å¤ªæ…¢ï¼Œè€Œä¸”ä½“åŠ›ä¸æ”¯ï¼Œæ‰€ä»¥åªèƒ½åœ¨151åŸºåœ°ï¼ˆäºŒéƒŽå‰‘æ™¯åŒºï¼‰é™„è¿‘ä½å®¿äº†ã€‚ä¸‹åˆä¸ƒç‚¹å¤šï¼Œåœ¨è·ç¦»151åŸºåœ°å››å…¬é‡Œå¤„ä½äº†ä¸‹æ¥ã€‚éª‘å‹çš„ç§Ÿè½¦è€æ¿ä»‹ç»çš„å®¾é¦† â€”- ç‰§æ°‘ä¹‹å®¶ã€‚ä¸€ä¸ªäººéª‘è¡Œï¼Œå·²ç»åšå¥½äº†ä½å®¿é’æ—…çš„æ‰“ç®—ï¼Œç„¶è€ŒçŽ°åœ¨æ˜¯ä¸¤äººéª‘è¡Œï¼Œæ‰€ä»¥ä½å®¿å½“ç„¶ä¹Ÿæ˜¯é€‰æ‹©ç•¥èˆ’é€‚çš„ä¸¤äººé—´ã€‚è¿™å‡ å¤©çš„ä½å®¿éƒ½è¿˜ä¸é”™ï¼Œä¸¤äººé—´ï¼Œ160ï¼Œä»·æ ¼å’ŒçŽ¯å¢ƒéƒ½æ¯”é¢„æœŸçš„æ»¡æ„å¤šäº†ï¼š æœ‰æ„æ€çš„æ˜¯ï¼Œé’æµ·è¿™è¾¹å¤§éƒ¨åˆ†åªæ”¯æŒå¾®ä¿¡æ”¯ä»˜ï¼Œæžå°‘æ”¯æŒæ”¯ä»˜å®ã€‚è€æ¿è¯´ï¼šæ”¯ä»˜å®å¤ªéº»çƒ¦ï¼Œæˆ‘ä»¬ä¹Ÿä¸ä¼šç”¨ï¼Œå¾®ä¿¡æ”¶æ”¯ä»˜å¾ˆæ–¹ä¾¿ã€‚ ä»Šå¤©éª‘äº†çº¦ä¸ƒåå…¬é‡Œï¼ 17å·ä¼‘æ¯äº†ä¸€å¤œï¼Œä¸€æ—©ä¸ƒå…«ç‚¹é’Ÿï¼Œåƒè¿‡æ—©é¥­å†æ¬¡èµ¶è·¯ã€‚æ‰€è°“â€œéª‘è¡Œï¼Œæœ€é‡è¦çš„æ˜¯ä¸€ä¸ªåšå¼ºçš„å±è‚¡â€ç»å¯¹æ˜¯ä¸€å¥ç®´è¨€ï¼ä¸€è¸ä¸Šè½¦å­ï¼Œåä¸Šè½¦åº§ï¼Œæˆ‘å¤©ï¼Œå±è‚¡ç‚¸è£‚ï¼Œå³ä½¿ç©¿äº†éª‘è¡Œè£¤ï¼Œæ„Ÿè§‰åƒåž«äº†å§¨å¦ˆå·¾ï¼Œä¾ç„¶æ²¡æœ‰ä»€ä¹ˆåµç”¨ï¼ åœ¨é’æµ·æ¹–ï¼Œæœ€ä¸ç¼ºçš„å°±æ˜¯æ²¹èœèŠ±ï¼š æ‰€è°“æ²¹èœèŠ±ï¼Œåº”è¯¥æ˜¯ä¸Žç¾Žå¥³çš„è¿žè¡£è£™ç›¸é…æ‰æ˜¯ï¼Œè€Œæˆ‘ä¹ŸåŽšç€è„¸çš®ä»¥å¤´ç›”åŠ éª‘è¡Œè£…åˆäº†ä¸¤å¼ ç…§ç‰‡ðŸ˜‚ ä»Šå¤©ï¼Œä»æ—§ä¸è½»æ¾ã€‚å‰è·¯æ¼«æ¼«ï¼Œè™½ç„¶å¡ä¸å¤§ï¼Œä½†é‡ä¸Šé€†é£Žï¼Œéª‘èµ·æ¥å°±è‰°éš¾å¼‚å¸¸ã€‚éª‘è¡Œï¼Œæœ€ç»æœ›çš„ï¼Œå°±æ˜¯æœ›ä¸åˆ°å°½å¤´çš„ä¸Šå¡ã€‚åœ¨å¾ˆé•¿çš„ä¸€æ®µè·¯é€”ä¸­ï¼Œä¸Šå¡åŠ é€†é£Žä¼šè®©ä½ è„‘è¢‹æ”¾ç©ºï¼Œé¼»å­”å¤§å£å¸æ°”ï¼Œå˜´å·´è´Ÿè´£å‘¼æ°”ï¼Œä¸¤è…¿åªéœ€è¦æœºæ¢°çš„è¿åŠ¨ã€‚ä½ èƒ½å¬åˆ°çš„åªæœ‰ä½ ç²—é‡çš„å–˜æ¯å£°ï¼Œä¸¤æ‰‹æ‰¶å¥½è½¦æŠŠï¼Œä¸¤è…¿åªè¦å–åŠ›çš„è¹¬ã€è¹¬ã€è¹¬ï¼Œç›´åˆ°å¾æœè¿™æ®µä¸Šå¡ï¼ æŽ¥è¿‘é»‘é©¬æ²³çš„æ˜¯ä¸€æ®µçº¦äº”åˆ°åå…¬é‡Œçš„ä¸‹å¡ï¼Œçº¦ä¸‹åˆä¸€ç‚¹åŠæŠµè¾¾é»‘é©¬æ²³ã€‚æ‰¾äº†å®¾é¦†ï¼Œæ”¾äº†è½¦å­ï¼Œåƒäº†åˆé¥­ï¼Œå’Œäººæ‹¼è½¦åŽ»èŒ¶å¡ç›æ¹–ã€‚ æ©¡çš®å±±ï¼Œæµ·æ‹” 3817ç±³ï¼Œå¤§æ¦‚æ˜¯åŽ»èŒ¶å¡ç›æ¹–è·¯ä¸Šçš„æœ€é«˜æµ·æ‹”ç‚¹ï¼Œå¸æœºå¸ˆå‚…è¿˜åœè½¦è®©æˆ‘ä»¬èƒ½æ‹äº†ä¸ªç…§ï¼š å¤§çº¦ä¸¤ä¸ªå¤šå°æ—¶æŠµè¾¾äº†èŒ¶å¡ç›æ¹–ï¼Œåˆæ˜¯ä¸€æ³¢æ”¾ç…§ï¼š ä»ŽèŒ¶å¡ç›æ¹–å‡ºæ¥ï¼Œæ¹¿è¿‡çš„è£¤è…¿åˆå¹²äº†ï¼Œå·²ç»å˜çš„ç¡¬é‚¦é‚¦ã€‚ã€‚ã€‚ å†å›žåˆ°é»‘é©¬æ²³å·²ç»æ˜¯æ™šä¸Šåç‚¹ï¼Œä¸çŸ¥é“æ˜¯è¿™è¾¹å¤©é»‘å¾—æ™šï¼ˆå°†è¿‘ä¹ç‚¹ï¼‰è¿˜æ˜¯é»‘é©¬æ²³çš„æ—…æ¸¸æ—ºå­£ï¼Œè¿™ä¸ªç‚¹äº†ï¼Œæ‰€æœ‰çš„åº—è¿˜éƒ½å¼€ç€é—¨å‘¢ã€‚é»‘é©¬æ²³ï¼Œä¸åƒå…¶ä»–åœ°æ–¹çš„æ—…æ¸¸æ™¯ç‚¹ï¼Œè¿™é‡Œçš„äººåƒæœåŠ¡å‘˜ã€åŒ…è½¦å¸æœºã€å®¾é¦†è€æ¿éƒ½ç‰¹åˆ«å®¢æ°”ã€‚æœåŠ¡å‘˜ï¼šè¦ä¹ˆæ˜¯ä¸­å­¦ç”Ÿå¤§å°å¸¦ç€è¯šæŒšçš„è¡¨æƒ…ï¼Œè¦ä¹ˆæ˜¯äºŒåå¤šå²å¸¦ç€äº²å’Œçš„ç¬‘å®¹ï¼Œè®©äººå¿ƒæƒ…æ„‰æ‚¦ï¼Œæ„Ÿå¹è¿™é‡Œæ°‘é£Žæ·³æœ´ã€‚åŒ…è½¦å¸æœºï¼šä¸çŸ¥é“æ˜¯æ±‰è¯­ä¸å¤Ÿå¥½è¿˜æ˜¯å¿ƒåœ°å¤ªçº¯è‰¯ï¼Œä»–ä¹Ÿæƒ³å¤šæŒ£ç‚¹é’±ï¼Œæ‰€ä»¥å¯¹åŽ»å“ªå“ªçš„åŒ…è½¦ä»·æ ¼æ”¯å¾çš„æŠ¥ä¸€ä¸ªç•¥é«˜çš„ä»·æ ¼ï¼Œç„¶è€Œå´æ˜¯ä»¥ä¸€ç§è½»æ˜“è®©äººå¬å¾—å‡ºæ¥å¿ƒæ€çš„è¯­æ°”è¡¨è¾¾ï¼Œåˆæžæ˜“è¢«ä¹˜å®¢çš„è¯­è¨€å¥—è·¯ã€‚ã€‚ã€‚ä¹˜å®¢å’Œå¸æœºéƒ½æ²¡æœ‰æ¶æ„ï¼Œåè€Œè§‰å¾—è¿™æ ·çš„å…³ç³»å¾ˆè½»æ¾ã€‚å®¾é¦†è€æ¿å¨˜ï¼šç®€ç›´å¥½çš„ä¸è¦ä¸è¦çš„ï¼Œæˆ‘éœ€è¦æ´—è¡£ç›†ï¼Œæ´—è¡£ç²‰ï¼Œè¡£æž¶ï¼Œçƒ­æ°´ï¼Œè€æ¿å¨˜éƒ½å¾ˆè€å¿ƒç»™æ‰¾æ¥ï¼Œæ›´è¦å‘½çš„æ˜¯ï¼Œç¬¬äºŒå¤©ä¸€å¤§æ—©æˆ‘æƒ³å†²åŒ…æ„Ÿå†’å†²å‰‚ï¼Œé—®è€æ¿å¨˜æœ‰æ²¡æœ‰ä¸€æ¬¡æ€§çº¸æ¯ï¼Œå¥¹è¯´ç­‰ä¸€ä¼šï¼Œç„¶åŽï¼Œç„¶åŽï¼Œå¥¹å°±åŽ»è¶…å¸‚ä¹°äº†ä¸€è¢‹çº¸æ¯å›žæ¥ã€‚æ²¡æœ‰çš„è¯å¥¹å®Œå…¨å¯ä»¥æ‹’ç»æˆ‘å•Šï¼Œæˆ‘ä»¬åªæ˜¯èŠ±äº†160ä½äº†ä¸ªä¸¤äººé—´ã€‚ ä»Šå¤©éª‘äº†çº¦å…«åå…¬é‡Œï¼ 18å·2017å¹´7æœˆ18æ—¥çš„é»‘é©¬æ²³ï¼Œæ—¥å‡ºæ—¶é—´æ˜¯06:16:00ã€‚äº”ç‚¹å¤šé’Ÿèµ·åºŠåŒ†åŒ†æ´—æ¼±ï¼Œå¸ä¸‹è¡ŒæŽï¼Œè¸ä¸Šå•è½¦ï¼Œè½»è£…ä¸Šé˜µï¼Œéª‘å¾€æ¹–è¾¹ç­‰å¾…æ—¥å‡ºã€‚ä»Žé•‡ä¸Šåˆ°æ¹–è¾¹è§‚æ—¥å‡ºçš„åœ°ç‚¹å¤§çº¦æœ‰äº”å…­å…¬é‡Œï¼Œè¿™æ®µè·¯æ—©å·²äººæ»¡ä¸ºæ‚£ï¼Œæœ‰å¼€è½¦çš„ï¼Œéª‘è¡Œçš„ï¼Œæ­¥è¡Œçš„ï¼ŒæŽ’æ»¡äº†æ•´æ®µè·¯ã€‚è¿˜å¥½ï¼Œæˆ‘ä»¬éª‘è½¦çš„æ¯”è¾ƒå¿«ï¼Œå…­ç‚¹ä¹‹å‰å°±èµ¶åˆ°äº†æ¹–è¾¹ã€‚è™½ç„¶çœ‹æ—¥å‡ºçš„äººå¾ˆå¤šï¼Œä½†æ˜¯æ¹–è¾¹çš„å²¸çº¿å¾ˆé•¿ï¼Œæ‰€ä»¥å¹¶ä¸æ˜¾å¾—æ‹¥æŒ¤ï¼Œå¤§å®¶éƒ½æœ‰çœ‹æ—¥å‡ºçš„ä½ç½®ã€‚ç„¶åŽï¼Œå°±æ˜¯ç­‰å¾…æ—¥å‡ºï¼š çœ‹å®Œæ—¥å‡ºï¼Œå›žåŽ»åƒå®Œåˆé¥­ï¼Œå½“ç„¶æ˜¯ç»§ç»­èµ¶è·¯ï¼Œä»Šå¤©æœ‰ä¸€æ•´å¤©çš„æ—¶é—´ï¼Œè¦èµ¶åˆ°åˆšå¯ŸåŽ¿ï¼Œä¸€ç™¾äºŒåå…¬é‡Œï¼ä¸è¿‡å¬å¸æœºå¸ˆå‚…è¯´æŽ¥ä¸‹æ¥ä¸¤å¤©çš„è·¯å†µè¿˜éƒ½ä¸é”™ï¼Œåº”è¯¥æ˜¯æ¯”å‰ä¸¤å¤©è½»æ¾çš„ã€‚ å¾æœè¿‡ä¸€ä¸ªå¤§ä¸Šå¡ä¹‹åŽçš„è·¯è¾¹ä¼‘æ¯ï¼š éª‘è¡Œé’æµ·æ¹–çš„å°æœ‹å‹ï¼š é‡è§é’è—é“è·¯ï¼š å¤§æ¦‚åœ¨ä¸‹åˆä¸ƒç‚¹é’Ÿçš„æ ·å­ï¼Œç»ˆäºŽèµ¶åˆ°åˆšå¯Ÿï¼Œæ‰¾åˆ°å®¾é¦†ç›´æŽ¥ç˜«åœ¨åºŠä¸Šç¡äº†ä¸¤ä¸ªå°æ—¶æ‰ä¼‘æ¯è¿‡æ¥å‡ºé—¨åƒé¥­ã€‚åªä¸è¿‡ï¼Œé’æµ·çš„é¥­èœå®žåœ¨æ˜¯åƒä¸æƒ¯ï¼Œè¿˜è´µã€‚åœ¨é’æµ·çš„è¿™å‡ å¤©ï¼Œæ„Ÿè§‰æ±‰å ¡å’Œå£«åŠ›æž¶å°±æ˜¯æœ€åˆå£çš„äº†ï¼Œç„¶è€Œé™¤äº†è¥¿æµ·é•‡æ˜¯æ²¡æœ‰æ±‰å ¡çš„ã€‚ ä»Šå¤©éª‘äº†çº¦ä¸€ç™¾äºŒåå…¬é‡Œï¼ 19å·ä»Šå¤©è¿˜æœ‰ä¹åå…¬é‡Œçš„è·¯ç¨‹ï¼Œè·¯ä¸Šè¿˜è¦ç¿»è¶Šä¸€åº§ç»æœ›å¡ï¼Œå› ä¸ºè¦èµ¶ä¸Šè¥¿æµ·åˆ°è¥¿å®çš„æœ«ç­è½¦ï¼Œäº”ç‚¹åŠï¼Œè€Œä¸”è¦æ—©ç‚¹èµ¶åˆ°æ‰èƒ½ä¹°ä¸Šè½¦ç¥¨ï¼Œæ‰€ä»¥è¿˜æ˜¯è¦åŠ ç´§èµ¶è·¯ã€‚ ä»Šå¤©çš„çŠ¶æ€ç‰¹åˆ«å¥½ï¼Œæ„Ÿè§‰å¯ä»¥ä¸€å£æ°”éª‘åˆ°è¥¿æµ·ç€ï¼ˆè¦ä¸æ˜¯é‡åˆ°ç»æœ›å¡ã€‚ã€‚ã€‚ï¼‰è·¯è¿‡ç”˜å­æ²³ï¼ŒçŠ¶æ€ä¾ç„¶ï¼Œæ‰€ä»¥ä¹Ÿæ²¡æœ‰åœä¸‹æ¥ä¼‘æ¯ï¼š ç»ˆäºŽé‡åˆ°ç»æœ›å¡ï¼Œè¿™æ ·çœ‹èµ·æ¥å¥½åƒè¿˜å¥½ï¼Œä¸è¿‡å®žé™…ä¸Šè¿˜æ˜¯æŒºå¤§çš„å¡ï¼Œè€Œä¸”ç‰¹åˆ«é•¿ï¼Œå¿˜è®°äº†éª‘äº†å¤šé•¿æ—¶é—´ï¼Œå¥½å‡ æ¬¡æƒ³åœä¸‹äº†ä¼‘æ¯ï¼Œæ€»æ˜¯æƒ³ï¼šéª‘ä¸Šè¿™ä¸ªå¡å¤´å°±ä¼‘æ¯ã€‚ç„¶è€Œéª‘è¿‡ä¸€ä¸ªå¡å¤´åˆæœ›è§ä¸€ä¸ªå¡å¤´ï¼Œå°±è¿™æ ·æœ€æ…¢ä»¥ 7-8km/h çš„çš„é€Ÿåº¦ç™»ä¸Šäº†ç»æœ›å¡ï¼Œç„¶åŽå†æ²¡åŠ›æ°”äº†ï¼Œåªèƒ½åœä¸‹æ¥ä¼‘æ¯ï¼Œé¡ºä¾¿ç­‰ä¸€ä¸‹éª‘å‹åƒä¸ªåˆé¥­ã€‚ ä¼‘æ¯äº†å››äº”ååˆ†é’Ÿåƒäº†ç¢—æ³¡é¢ï¼Œç»§ç»­èµ¶è·¯ï¼Œå¬éª‘è¿‡çš„éª‘å‹è®²è¿˜å‰©æ¥ä¸¤ä¸ªå°å¡ï¼ŒéšåŽäºŒåå…¬é‡Œå…¨æ˜¯ä¸‹å¡äº†ï¼Œä¸è¹¬éƒ½èƒ½åˆ° 30km/hï¼Œèµ¶è·¯ï¼ ç»ˆäºŽï¼Œåœ¨ä¸‹åˆä¸‰ç‚¹åŠèµ¶åˆ°äº†è¥¿æµ·é•‡ï¼Œä¹°ä¸Šäº†æœ€åŽä¸€ç­è½¦çš„è½¦ç¥¨ã€‚çŽ¯é’æµ·æ¹–éª‘è¡Œï¼Œä¸‰ç™¾å…­åå…¬é‡Œï¼Œå®Œæˆäº†ï¼ æ¯æ¬¡éª‘è¡Œçš„æ—¶å€™éƒ½ç´¯åˆ°ï¼šéª‘å®Œè¿™æ¬¡å†ä¸éª‘äº†ã€‚éª‘å®Œä¹‹åŽåˆè¿˜æƒ³å†è®¡åˆ’ä¸€æ¬¡éª‘è¡Œã€‚ ä»Šå¤©éª‘äº†çº¦ä¹åå…¬é‡Œï¼ å†è§é’æµ·å› ä¸ºä¼‘äº†ä¸€å‘¨çš„å¹´å‡ï¼Œæ‰€ä»¥æ—¶é—´è¿˜æ—©ï¼Œè®¡åˆ’å›žæµŽå—åŒå­¦èšä¸€æ³¢ã€‚é¡ºä¾¿çˆ¬ä¸€çˆ¬æ³°å±±ï¼Œå¼¥è¡¥ä¸€ä¸‹åœ¨æµŽå—å¾…äº†å››å¹´å–Šç€è¦åŽ»çˆ¬æ³°å±±çš„é—æ†¾ã€‚æ‰€è°“â€œç´¯æˆç‹—â€åº”è¯¥æ˜¯ä¸€ç§æ¯”è¾ƒèˆ’é€‚çš„çŠ¶æ€å§ã€ŒäºŒå“ˆã€åœ¨å…°å·žä¸­å·æœºåœºé£žæµŽå—é¥å¢™ï¼Œé‡è§è¥¿åŒ—åœ°è²Œï¼Œå†è§é’æµ·ï¼ åŽè®°è¿™é‡Œæœ‰ä¸€ä»½.gpxæ–‡ä»¶ ðŸ‘‰ç‚¹å‡»ä¸‹è½½ ï¼Œè®°å½•äº†çŽ¯é’æµ·æ¹–çš„éª‘è¡Œè½¨è¿¹ï¼Œæœ‰å…´è¶£çš„è¯å¯ä»¥ä¸‹è½½ä¸‹æ¥çœ‹çœ‹ã€‚å°†å®ƒå¯¼å…¥åˆ°æ”¯æŒ gpx æ ¼å¼çš„è½¯ä»¶é‡Œå°±å¯ä»¥äº†ï¼Œæˆ‘ç”¨çš„æ˜¯ã€Œè¡Œè€…ã€ï¼Œå¤§å®¶å–œæ¬¢ç”¨ä»€ä¹ˆè½¯ä»¶å¯ä»¥è‡ªè¡Œ Googleï½ž è½¬è½½è¯·ä¿ç•™åŽŸæ–‡åœ°å€ï¼šhttp://gonghonglou.com/2017/07/29/qinghaihu-cycling]]></content>
      <categories>
        <category>Journey</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ä¸€å°æ—¶è½»æ¾å®žçŽ°ç§‘å­¦ä¸Šç½‘]]></title>
    <url>%2F2017%2F07%2F10%2Fss-vps%2F</url>
    <content type="text"><![CDATA[è‡ªä»Žç§‘å­¦ä¸Šç½‘è¿™ä»¶äº‹è¶Šæ¥è¶Šæˆä¸ºä¸€é—¨å£å£ç›¸ä¼ çš„æ‰‹è‰ºçš„æ—¶å€™ï¼Œå°±ä¸€ç›´æƒ³è¦äº²èº«å®žè·µä¸‹è‡ªå»º VPSã€‚Green VPN çªç„¶å‘å¸ƒäº†è¿™åˆ™ã€Œç›¸é‡æœ‰æ—¶ï¼ŒåŽä¼šæ— æœŸã€çš„å…¬å‘Šï¼Œä½¿æˆ‘åˆå¤±åŽ»äº†ä¸€ä¸ªç§‘å­¦ä¸Šç½‘çš„å·¥å…·ï¼Œç»ˆäºŽæ•¦ä¿ƒæˆ‘å®Œæˆäº†è¿™æ¬¡ä½“éªŒã€‚ æˆ‘è¿˜èƒ½è¯´ä»€ä¹ˆï¼Œå½“ç„¶æ˜¯é€‰æ‹©åŽŸè°…å¥¹ã€‚ã€‚ã€‚ ä»¥ä¸‹æ˜¯å‡ ç§æœåŠ¡çš„å¯¹æ¯”ï¼š PPTPï¼š â€“ ä¼˜ç‚¹ï¼šç½‘ä¸Šå…³äºŽæ­å»º PPTP æœåŠ¡çš„æ•™ç¨‹æœ€å¤š â€“ ç¼ºç‚¹ï¼šå¯èƒ½æ˜¯å› ä¸º PPTP ä¸å¤Ÿå®‰å…¨ï¼Œæ‰€ä»¥è‹¹æžœç¦ç”¨äº†è¿™ç§æœåŠ¡çš„è¿žæŽ¥ã€‚å°±æ˜¯è¯´ Mac OX å’Œ iOS ç³»ç»Ÿä¸Šæ˜¯ä¸èƒ½ä½¿ç”¨è¿™ç§æœåŠ¡çš„ã€‚ L2TPã€IKEv2ã€IPSecï¼š â€“ ä¼˜ç‚¹ï¼šMac OX å’Œ iOS ç³»ç»Ÿä¸Šå¯ä»¥ä½¿ç”¨ â€“ ç¼ºç‚¹ï¼šä½¿ç”¨ç³»ç»Ÿæ·»åŠ æ­¤ç±»æœåŠ¡çš„ VPN é…ç½®æ— æ³•å®žçŽ°æ™ºèƒ½åˆ†æµï¼Œä¹Ÿå°±æ˜¯ Shadowsocks é‡Œçš„ã€Œè‡ªåŠ¨ä»£ç†æ¨¡å¼ã€ï¼ˆPPTP åŒæ ·å­˜åœ¨è¿™ä¸ªç¼ºç‚¹ï¼‰ Shadowsocksï¼š â€“ ä¼˜ç‚¹ï¼šå¯ä»¥å®žçŽ°è‡ªåŠ¨ä»£ç†æ¨¡å¼ï¼Œå®žçŽ°å›½å†…å›½å¤–çº¿è·¯æ™ºèƒ½åˆ†æµã€‚ â€“ ç¼ºç‚¹ï¼šå¿…é¡»ä¸‹è½½ Shadowsocks å®¢æˆ·ç«¯æ¥ä½¿ç”¨è¯¥æœåŠ¡ æ‰€ä»¥ï¼Œä¸ºäº†è‡ªåŠ¨ä»£ç†ï¼Œæˆ‘é€‰æ‹©äº† Shadowsocksã€‚ç®€å•æ¥è¯´å°±æ˜¯åœ¨è‡ªå·±çš„æœåŠ¡å™¨ä¸Šæ­å»ºä¸€ä¸ª Shadowsocks æœåŠ¡ï¼Œå¯¹å¤–æä¾›ã€ŒIP åœ°å€ + ç«¯å£å·ã€å’Œã€Œå¯†ç ã€ å®žçŽ°çš„åŠŸèƒ½ï¼š æœåŠ¡å™¨å¼€æœºè‡ªåŠ¨å¯åŠ¨ Shadowsocks æœåŠ¡ å¯é…ç½®å¤šä¸ªè´¦å·ï¼ˆå³ï¼šå¤šä¸ªç«¯å£å· + å¯†ç ï¼‰ å®žçŽ°è‡ªåŠ¨ä»£ç†æ¨¡å¼ æ‰€ä»¥æˆ‘ä»¬éœ€è¦ï¼š è´­ä¹°æœåŠ¡å™¨ï¼ˆvpsï¼‰ è£…è½½ Shadowsocks æœåŠ¡ ä¸‹è½½ iOSã€Mac å®¢æˆ·ç«¯è¿žæŽ¥ vps è´­ä¹° VPSåœ¨ æ¬ç“¦å·¥ è´­ä¹°ä¸€æ¬¾é€‚åˆä½ çš„ä¸»æœºï¼Œå•çº¯æ­å»º Shadowsocks æœåŠ¡çš„è¯ã€Œ10G VPSã€å·²ç»å®Œå…¨å¤Ÿç”¨äº†ï¼Œä¸€å¹´ 19.9 ç¾Žå…ƒï¼Œç½‘ä¸Šæœä¸€ä¸ª 6% çš„ä¼˜æƒ ç ï¼ŒæŠ˜åˆäººæ°‘å¸å¤§æ¦‚ 130 å—ä¸€å¹´ã€‚è´­ä¹°è¿‡ç¨‹å¯ä»¥å‚è€ƒï¼šæ–°æ‰‹ç”¨æˆ·æ¬ç“¦å·¥VPSè´­ä¹°å›¾æ–‡æŒ‡å¯¼æ•™ç¨‹æˆ‘ä¹°çš„æ˜¯ KVMï¼Œå…³äºŽ KVM å’Œ OpenVZçš„åŒºåˆ«å¯ä»¥å‚è€ƒï¼šLinux VPSåŸºæœ¬å¸¸è¯† - KVMä¸ŽOpenVZæž¶æž„çš„åŒºåˆ« è´­ä¹°æˆåŠŸåŽï¼Œåœ¨è¿™ä¸ªåœ°å€ç‚¹å‡» KiwiVM Control Panel è·³è½¬è‡³ KiwiVM å¯ç®¡ç†ä½ çš„ä¸»æœºç„¶åŽå°±å¯ä»¥çœ‹åˆ°ä½ ä¸»æœºçš„è¯¦ç»†ä¿¡æ¯äº†ï¼Œå¹¶ä¸”æ¬ç“¦å·¥å·²ç»å¸®ä½ è£…å¥½äº† Centos ç³»ç»Ÿï¼š è£…è½½ Shadowsocks æœåŠ¡æŽ¥ä¸‹æ¥ï¼Œä½ æœ‰ä¸¤ç§é€‰æ‹©ï¼š ä¸€é”®å®‰è£… â€“ ä¼˜ç‚¹ï¼šæ–¹ä¾¿å¿«æ· â€“ ç¼ºç‚¹ï¼šä¸èƒ½æ·»åŠ è´¦å·ï¼Œä¸èƒ½éšæ„æ›´æ”¹å¯†ç ï¼ˆåªèƒ½é‡æ–°ç”Ÿæˆï¼‰ è‡ªå·±æ­å»º Shadowsocks æœåŠ¡ â€“ ä¼˜ç‚¹ï¼šå¯ä»¥æ·»åŠ å¤šä¸ªè´¦å·ï¼ˆä»»æ„å¢žåˆ ç«¯å£å·å³å¯ï¼‰ï¼Œå¯ä»¥ä¿®æ”¹å¯†ç  â€“ ç¼ºç‚¹ï¼šssh è¿žæŽ¥æœåŠ¡å™¨ï¼Œæ‰§è¡Œä¸€ç³»åˆ—å‘½ä»¤è¡Œå‘½ä»¤ï¼ˆä¸è¿‡ï¼Œè¿™å¯¹äºŽæƒ³è¦æ£é¼“æ£é¼“æœåŠ¡å™¨çš„äººæ¥è¯´ï¼Œæ¯”å¦‚æˆ‘ï¼Œè¿™ä¹Ÿç®—æ˜¯ä¼˜ç‚¹ï¼‰ ä¸€é”®å®‰è£…å¦‚ä¸‹å›¾ï¼Œç‚¹å‡» Intsall Shadowsocks Server å³å¯ï¼š å®‰è£…æˆåŠŸåŽå¦‚ä¸‹å›¾ï¼Œä¼šæä¾›ç»™æˆ‘ä»¬ï¼šç«¯å£å·ã€åŠ å¯†æ–¹å¼ã€å¯†ç ï¼Œå…¶ä¸­å¯†ç åªèƒ½é‡æ–°ç”Ÿæˆï¼Œä¸èƒ½æ›´æ”¹ã€‚ ä¸‹è½½ iOSã€Mac å®¢æˆ·ç«¯è¿žæŽ¥ vps Mac å®¢æˆ·ç«¯ï¼šShadowsocksX iOS å®¢æˆ·ç«¯ï¼šApp Store æœç´¢ã€ŒWingyã€æˆ–ç€ã€ŒShadowrocketã€ windows å®¢æˆ·ç«¯ï¼šShadowsocks Windows å¦‚ä¸‹å›¾ä¸º Shadowsocks Mac å®¢æˆ·ç«¯ï¼Œå¡«å…¥æœåŠ¡å™¨ IP åœ°å€ã€ä¸Šå›¾ä¸­ Shadowsocks Server ç«¯å£å·ã€åŠ å¯†æ–¹å¼ã€å¯†ç ç¡®å®šå³å¯è¿žæŽ¥ VPS çš„ Shadowsocks æœåŠ¡ï¼ŒiOS ä¸Šçš„è½¯ä»¶ä¹Ÿæ˜¯å¡«å†™è¿™äº›å†…å®¹ï¼š å¦‚æ­¤ï¼Œä¾¿å¯ä»¥ç§‘å­¦ä¸Šç½‘äº†ï¼Œä¸€é”®å®‰è£…ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•ï½žæŽ¥ä¸‹æ¥æ˜¯ç•¥å¾®ä¸“ä¸šä¸€ç‚¹çš„åšæ³•ï¼Œéœ€è¦äº†è§£ä¸€äº› Linux å‘½ä»¤ã€‚ è‡ªå·±æ­å»º Shadowsocks æœåŠ¡æŽ¥ä¸‹æ¥ï¼Œè¯¥æ˜¯æ­¤ç¯‡åšå®¢æœ€æœ‰è¶£çš„å†…å®¹äº†ï¼šæ“ä½œ Linux æœåŠ¡å™¨ï¼Œæ­å»º Shadowsocks æœåŠ¡ã€‚ é¦–å…ˆå¦‚æžœä½ ä½¿ç”¨äº†ä¸Šä¸€ç§æ–¹å¼ä¸€é”®å®‰è£…äº† Shadowsocksï¼Œé‚£ä¹ˆï¼Œåœ¨é‡‡ç”¨è¿™ç§æ–¹å¼æ­å»ºæœåŠ¡å‰åº”å½“å¸è½½ä¸Šä¸€ä¸ª Shadowsocks æœåŠ¡ï¼Œä¸Šä¸€å¼ å›¾ç‰‡æ‰€åœ¨ç½‘é¡µçš„æœ€ä¸‹æ–¹ä¼šæœ‰ä¸€é”®å¸è½½ï¼šUnintsall Shadowsocks Serverã€‚å¦‚æžœä¸å¸è½½è¯¥æœåŠ¡ï¼Œä¼šå’ŒæŽ¥ä¸‹æ¥è‡ªå·±æ‰‹åŠ¨å®‰è£…çš„ Shadowsocks æœåŠ¡å†²çªã€‚ ä¿é™©èµ·è§ï¼Œä½ å¯ä»¥é€‰æ‹©ä»Žå¤´æ¥è¿‡ï¼šé‡è£…ç³»ç»Ÿã€‚è¿™é‡Œåˆæ˜¯å¼€å§‹ï½žå¦‚ä¸‹å›¾é€‰æ‹©ä¸€æ¬¾æ“ä½œç³»ç»Ÿæ¥å®‰è£…ï¼Œå¢™è£‚å»ºè®®é€‰æ‹© centos-7-x86_64-bbrï¼Œå› ä¸ºæŽ¥ä¸‹æ¥å®‰è£… Shadowsocks è¦ä¾èµ– python2.7 ç‰ˆæœ¬ï¼Œè€Œ Centos-6 é»˜è®¤å®‰è£…çš„æ˜¯ python2.6ï¼š é‡è£…å®ŒæˆåŽï¼Œä½ ä¼šå—åˆ°ä¸€å°å‘ŠçŸ¥é‚®ä»¶ï¼Œå¹¶ä¸”é™„æœ‰ä¸€ä»½ä¸´æ—¶æœåŠ¡å™¨ç™»å½•å¯†ç ã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ç‚¹å‡»ä¸Šå›¾ä¸­çš„ Root password modification é‡æ–°ç”Ÿæˆä¸€ä»½å¯†ç ã€‚æ³¨æ„ï¼šç”Ÿæˆå¯†ç å‰éœ€è¦å…ˆ stop æœåŠ¡å™¨ã€‚ è¿žæŽ¥æœåŠ¡å™¨å¼€å¯ç»ˆç«¯ï¼Œä½¿ç”¨ ssh è¿œç¨‹è¿žæŽ¥æœåŠ¡å™¨ï¼š1ssh root@you_server_ip -p you_server_port you_server_ipï¼šä½ çš„æœåŠ¡å™¨ ip åœ°å€ï¼Œyou_server_portï¼šä½ çš„æœåŠ¡å™¨ç«¯å£å·ï¼Œå›žè½¦è¾“å…¥ root ç™»å½•å¯†ç å³å¯ã€‚å¦‚æžœä½ ä¹‹å‰ ssh ç™»å½•è¿‡æœåŠ¡å™¨ï¼Œåˆé‡è£…ä¹‹åŽå†æ¬¡ç™»å½•å¯èƒ½ä¼šæœ‰ä»¥ä¸‹é—®é¢˜ï¼š @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ WARNING: POSSIBLE DNS SPOOFING DETECTED! @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå°† known_hosts æ–‡ä»¶é‡ŒåŒ…å«ä½ æœåŠ¡å™¨ ip åœ°å€é‚£ä¸€æ®µåˆ æŽ‰å³å¯æˆåŠŸè¿žæŽ¥ï¼š1vim ~/.ssh/known_hosts ä¸ºæ–¹ä¾¿ä¹‹åŽ ssh ç™»å½•ï¼Œå¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä¿®æ”¹ root å¯†ç ï¼š1passwd å›žè½¦è¾“å…¥æ–°å¯†ç ç¡®è®¤å³å¯ã€‚ å®‰è£… Shadowsockså®‰è£… setuptools å’Œ pip ï¼Œåœ¨ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š1yum install python-setuptools &amp;&amp; easy_install pip å®‰è£… Python-Geventï¼Œç”¨äºŽæé«˜æ€§èƒ½ï¼Œåœ¨ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š123yum install libeventyum install python-develpip install gevent å®‰è£… M2Cryptoï¼Œç”¨äºŽåŠ å¯†çš„ç¬¬ä¸‰åº“ï¼Œåœ¨ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š1234yum install openssl-develyum install swigyum install gccpip install M2Crypto å®‰è£… Shadowsocks æœåŠ¡ç«¯ï¼Œåœ¨ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š1pip install shadowsocks é…ç½® Shadowsocksæ–°å»ºé…ç½®æ–‡ä»¶ï¼Œåœ¨ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š1vi /etc/shadowsocks.json ç¼–è¾‘ shadowsocks.json æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š12345678910111213&#123; "server":"you_server_ip", "local_address":"127.0.0.1", "local_port":1080, "port_password":&#123; "9000":"9000password", "9001":"9001password", "9002":"9002password" &#125;, "timeout":300, "method":"rc4-md5", "fast_open": false&#125; è§£é‡Šä¸€ä¸‹ï¼š Name Explanation server æœåŠ¡å™¨ IP åœ°å€ server_port æœåŠ¡å™¨ç«¯å£å· local_address æœ¬åœ°ä»£ç†åœ°å€ local_port æœ¬åœ°ä»£ç†ç«¯å£ port_password Shadowsocks æœåŠ¡ç«¯å£å·åŠå¯†ç  timeout è¶…æ—¶æ–­å¼€ï¼Œä»¥ç§’ä¸ºå•ä½ method åŠ å¯†æ–¹å¼ï¼ŒæŽ¨èä½¿ç”¨ rc4-md5ï¼Œæ¯” aes-256-cfb é€Ÿåº¦å¿«å¾ˆå¤š fast_open æ˜¯å¦ä½¿ç”¨TCP åŽç«¯å¼€å¯ä¸Žåœæ­¢ Shadowsocks æœåŠ¡ï¼Œåœ¨ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š12ssserver -c /etc/shadowsocks.json -d startssserver -c /etc/shadowsocks.json -d stop æˆ–è€…é€‰æ‹©å‰ç«¯å¼€å¯ Shadowsocks æœåŠ¡ï¼Œåœ¨ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šæ‰§è¡Œè¯¥å‘½ä»¤å½“è¿žæŽ¥æˆåŠŸæˆ–å‡ºé”™æ—¶ç»ˆç«¯ä¼šæ‰“å°è¯¦æƒ…ä¿¡æ¯ï¼Œå»ºè®®ç¬¬ä¸€æ¬¡å¼€å¯ Shadowsocks æœåŠ¡æ—¶æ‰§è¡Œè¯¥å‘½ä»¤ï¼š1ssserver -c /etc/shadowsocks.json è‡³æ­¤ï¼Œä½¿ç”¨ Shadowsocks å®¢æˆ·ç«¯å°±å¯ä»¥ç§‘å­¦ä¸Šç½‘äº†ã€‚ è®¾ç½®æœåŠ¡å™¨å¼€æœºå¯åŠ¨è®¾ç½®å¼€æœºå¯åŠ¨ï¼Œåœ¨ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š1vi /etc/rc.local å°†ä»¥ä¸‹å¼€å¯ Shadowsocks æœåŠ¡å‘½ä»¤åŠ å…¥ rc.local æ–‡ä»¶ï¼š1ssserver -c /etc/shadowsocks.json -d start ä¿å­˜é€€å‡ºå³å¯ã€‚æ‰§è¡Œå‘½ä»¤ reboot é‡å¯æœåŠ¡å™¨è¯•è¯•çœ‹ï½ž è‡³æ­¤ï¼Œå·²ç»å¯ä»¥ç§‘å­¦ä¸Šç½‘ï¼Œç§’å¼€ Youtobeï¼Œ1080æ— åŽ‹åŠ›ï½ž ç»™å®‰è£… Centos-6 çš„è¡¥å……è¡¥å……ä¸€ï¼šå¦‚æžœä½ è£…çš„ç³»ç»Ÿæ˜¯ Centos-6 é‚£ä¹ˆæ‰§è¡Œ pip install ... æˆ–è®¸ä¼šæœ‰ä»¥ä¸‹æŠ¥é”™ï¼š DEPRECATION: Python 2.6 is no longer supported by the Python core team, please upgrade your Python. A future version of pip will drop support for Python 2.6 è¯´æ˜Žï¼Œä½ çš„ Python ç‰ˆæœ¬æ˜¯ 2.6ï¼Œç»ˆç«¯æ‰§è¡Œå‘½ä»¤ Python -V æŸ¥çœ‹ Python ç‰ˆæœ¬ã€‚ä½ å¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ç®€å•å‡çº§ Python2.7123yum install centos-release-SCLyum install python27. /opt/rh/python27/enable ç„¶åŽæ‰§è¡Œå‘½ä»¤ Python -V éªŒè¯æ­¤æ—¶çš„ Python ç‰ˆæœ¬ï¼Œæ³¨æ„ï¼Œæ­¤æ—¶ä¸è¦æ›´æ¢æ“ä½œç›®å½•ï¼ŒæŽ¥ä¸‹æ¥çš„å®‰è£…å’Œå¯åŠ¨ Shadowsocks éƒ½éœ€è¦åœ¨è¿™ä¸ªç›®å½•ä¸‹å®Œæˆï¼Œå› ä¸ºä½ çš„ Shadowsocks å°±æ˜¯ç”¨è¿™ä¸ªç›®å½•ä¸‹çš„ Python2.7 å®‰è£…çš„ã€‚è®¾ç½®å¼€æœºè‡ªå¯åŠ¨æ—¶ï¼Œ ä¹Ÿåº”è¯¥åœ¨ rc.local æ–‡ä»¶é‡ŒåŠ å…¥ä»¥ä¸‹å‘½ä»¤ï¼š12. /opt/rh/python27/enablessserver -c /etc/shadowsocks.json -d start è¡¥å……äºŒï¼šç„¶è€Œï¼Œå½“ä½ ç¬¬äºŒæ¬¡åœ¨ python2.6 çŽ¯å¢ƒä¸‹æ‰§è¡Œ pip install shadowsocks ä¹Ÿè®¸ä¼šæœ‰å¦‚ä¸‹æç¤ºï¼š DEPRECATION: Python 2.6 is no longer supported by the Python core team, please upgrade your Python. A future version of pip will drop support for Python 2.6Requirement already stisfied:shadowsocks in /usr/lib/python2.6/site-packages è™½ç„¶æœ‰æŠ¥é”™ï¼Œä½†ä½ çš„ç¡®å·²ç»åœ¨ python2.6 çŽ¯å¢ƒä¸‹å®‰è£…å¥½äº† shadowsocks æœåŠ¡ï¼Œé‚£ä¹ˆåœ¨ä»»æ„ç›®å½•ä¸‹ä½ éƒ½å¯ä»¥æ‰§è¡Œ ssserver -c /etc/shadowsocks.json å‘½ä»¤å¼€å¯ shadowsocks æœåŠ¡ã€‚ è¡¥å……ä¸‰ï¼šä½ å½“ç„¶å¯ä»¥è‡ªè¡Œ Google å®Œå…¨å‡çº§ Python çš„æ–¹æ³•ã€‚ åŽè®°ä»¥ä¸Šä¾¿æ˜¯æˆ‘æ­å»ºä¸ªäºº VPSï¼Œå®žçŽ°ç§‘å­¦ä¸Šç½‘çš„å…¨è¿‡ç¨‹ï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ï¼Œæ¬¢è¿Žåæ§½ï½ž è½¬è½½è¯·ä¿ç•™åŽŸæ–‡åœ°å€ï¼šhttp://gonghonglou.com/2017/07/10/ss-vps Reference å®‰è£…SSserverå’Œé…ç½®(äºŒ)]]></content>
      <categories>
        <category>Technology</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[UITableViewCellè®¡ç®—è¡Œé«˜çš„å‡ ç§æ–¹å¼]]></title>
    <url>%2F2017%2F07%2F05%2Fcell-height%2F</url>
    <content type="text"><![CDATA[å½“æˆ‘è¿˜æ˜¯å°ç™½æ—¶ï¼ˆæ¯”çŽ°åœ¨æ›´ç™½çš„æ—¶å€™ï¼‰å¯¹äºŽ UITableViewCell çš„è¡Œé«˜é—®é¢˜è¿˜æ˜¯æ¯”è¾ƒå¤´ç–¼çš„ï¼Œå½“ç„¶è¿™ä¸ªç®—æ˜¯ iOS å¼€å‘ä¸­ç›¸å½“åŸºç¡€çš„å†…å®¹äº†ï¼Œä½†æ˜¯å½“æ—¶çš„æˆ‘å°±æƒ³è¿‡ï¼Œå°† UITableViewCell çš„è¡Œé«˜é—®é¢˜è§£å†³äº†ä¸€å®šå†™ä¸€ç¯‡æ€»ç»“åšå®¢ï¼Œæ‰€ä»¥å°±æœ‰äº†è¿™ç¯‡åšå®¢ã€‚å°½ç®¡æ‹–äº†è¿™ã€‚ä¹ˆã€‚ä¹…ã€‚ã€‚ã€‚ iOS çš„ç•Œé¢ä¸­ï¼ŒUITableView åº”è¯¥æ˜¯ç”¨çš„æœ€å¤šçš„æŽ§ä»¶ä¹‹ä¸€äº†å§ï¼šå¾®ä¿¡åˆ—è¡¨ã€èŠå¤©è®°å½•ã€æœ‹å‹åœˆã€å¾®åš time lineã€‚ã€‚ã€‚å“ªå“ªç¦»ä¸å¼€ UITableViewã€‚è€Œ UITableView åˆ™æ˜¯ç”± UITableViewCell ç»„æˆçš„ï¼Œè¿™äº› cell æœ‰çš„è¡Œé«˜æ˜¯å›ºå®šçš„ï¼Œå¤§éƒ¨åˆ†åˆ™éœ€è¦æ ¹æ®å†…å®¹åè®¡ç®—è¡Œé«˜æ¥å±•ç¤ºã€‚æœ¬ç¯‡åšå®¢åˆ™æ¥ä»‹ç» UITableViewCell è®¡ç®—è¡Œé«˜çš„å‡ ç§æ–¹å¼ã€‚ å›ºå®šè¡Œé«˜æœ‰ç›¸å½“ä¸€éƒ¨åˆ† UITableView çš„è¡Œé«˜æ˜¯å›ºå®šçš„ï¼Œè¿™ç§ cell åœ¨ä»£ç ä¹¦å†™å’Œä»£ç æ€§èƒ½ä¸Šç›¸æ¯”è€Œè¨€å°±ç®€å•äº†è®¸å¤šï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼è®¾å®šè¡Œé«˜ï¼š ç»Ÿä¸€è®¾å®š1self.tableView.rowHeight = 44; // ç³»ç»Ÿè‡ªå¸¦çš„ cell çš„è¡Œé«˜å¤§æ¦‚å°±æ˜¯ 44 ä¼˜ç‚¹ï¼šè¿™ç§æ–¹å¼æœ€ä¸ºç®€å•ã€‚ ç¼ºç‚¹ï¼šç›¸å¯¹çš„å¯¹ tableView çš„å¯æŽ§æ€§ä¹Ÿæœ€å¼±ï¼Œå®ƒä¼šå°† tableView æ‰€æœ‰çš„ cell é«˜åº¦ç»Ÿä¸€è®¾ç½®ä¸º 44ã€‚ é€šè¿‡ä»£ç†è®¾å®šé€šè¿‡å®žçŽ° UITableViewDelegate æ–¹æ³•ï¼ŒåŒæ ·å¯ä»¥æŽ§åˆ¶ tableView çš„è¡Œé«˜ã€‚ 123456789101112131415161718- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath &#123; // 1. // return 44; // 2. // if (tableView == self.tableView1) &#123; // return 44; // &#125; else &#123; // return 88; // &#125; // 3. if (indexPath.row == 1) &#123; return 44; &#125; else &#123; return 88; &#125;&#125; ä¼˜ç‚¹ï¼šé‡‡ç”¨è¿™ç§å®žçŽ°ä»£ç†çš„æ–¹æ³•å¯ä»¥å¯¹ä¸åŒçš„ tableView ã€tableView ä¸­ä¸åŒçš„ sectionã€rowï¼Œè¿›è¡Œåˆ¤æ–­åˆ†åˆ«è®¾ç½®ï¼Œå¯æŽ§æ€§æ›´å¼ºã€‚ ç¼ºç‚¹ï¼šå› ä¸ºåœ¨æ¯æ¬¡å±•ç¤º cell æ—¶éƒ½ä¼šè°ƒç”¨äº†ä¸€æ¬¡è¯¥ä»£ç†æ–¹æ³•ï¼Œæ‰€ä»¥è¾ƒäºŽç¬¬ä¸€ç§æ–¹æ³•ä¸€äº›æ€§èƒ½æŸè€—ã€‚ è¿™ä¸ªç¼ºç‚¹åœ¨è‹¹æžœä»‹ç» rowHeight å±žæ€§çš„æ–‡æ¡£é‡Œä¹Ÿæœ‰æŒ‡æ˜Žï¼š There are performance implications to using tableView:heightForRowAtIndexPath: instead of rowHeight. Every time a table view is displayed, it calls tableView:heightForRowAtIndexPath: on the delegate for each of its rows, which can result in a significant performance problem with table views having a large number of rows (approximately 1000 or more). æ‰€ä»¥ï¼Œå¦‚æžœä½ çš„ tableView çš„è¡Œé«˜æ˜¯ç»Ÿä¸€çš„ã€å›ºå®šçš„ï¼Œé‚£ä¹ˆæœ€å¥½é‡‡ç”¨ç¬¬ä¸€ç§æ–¹æ³•ï¼Œç›´æŽ¥è®¾ç½® rowHeightã€‚ ä¸å®šè¡Œé«˜å›ºå®šè¡Œé«˜çš„ tableView å·²ç»ç®—æ˜¯å°å„¿ç§‘äº†ï¼Œä½†æ˜¯ä¹Ÿå±žäºŽ UITableViewCell è¡Œé«˜çš„èŒƒç•´ï¼Œæ‰€ä»¥è¿˜æ˜¯ç®€å•æäº†ä¸€ä¸‹ã€‚é‚£ä¹ˆï¼Œå½“ tableView çš„è¡Œé«˜ä¸å›ºå®šæ—¶ï¼Œæœ‰ä»¥ä¸‹å‡ ç§è®¡ç®—æ–¹å¼ã€‚ ä¼°ç®—è¡Œé«˜å…¶å®žï¼ŒUITableView çš„ rowHeight å¯ä»¥è®¾ç½®ä¸º UITableViewAutomaticDimensionï¼Œé¡¾åæ€ä¹‰ï¼Œcell å¯ä»¥è®¾ç½®ä¸ºè‡ªåŠ¨è®¡ç®—è¡Œé«˜ã€‚ç„¶è€Œï¼Œä»…ä»…å°† rowHeight è®¾ç½®ä¸º UITableViewAutomaticDimension å¯¹è‡ªè®¡ç®—è¡Œé«˜æ˜¯ä¸èµ·æ•ˆçš„ï¼Œè¿™æ—¶å€™å°±éœ€è¦å¦ä¸€ä¸ªå±žæ€§ï¼šestimatedRowHeightã€‚ iOS8 è‹¹æžœæŽ¨å‡ºäº† self-sizing çš„æ¦‚å¿µã€‚UITableView åœ¨ iOS7 å°±å¢žåŠ äº†ä¸€ä¸ªå±žæ€§ï¼š estimatedRowHeight ï¼Œè‹¹æžœæ˜¯è¿™æ ·æè¿°çš„ï¼š Providing a nonnegative estimate of the height of rows can improve the performance of loading the table view. If the table contains variable height rows, it might be expensive to calculate all their heights when the table loads. Using estimation allows you to defer some of the cost of geometry calculation from load time to scrolling time.When you create a self-sizing table view cell, you need to set this property and use constraints to define the cellâ€™s size.The default value is 0, which means there is no estimate. ä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ªå±žæ€§æ¥ç»™ cell ä¼°ç®—è¡Œé«˜ï¼Œä½†æ˜¯é»˜è®¤å€¼ä¸º 0ï¼Œä¸ä¼šè¿›è¡Œä¼°ç®—ã€‚æ‰€ä»¥å¦‚æžœæƒ³å¼€å¯ä¼°ç®—è¡Œé«˜çš„è¯ï¼Œå¿…é¡»è®¾ç½® estimatedRowHeightï¼Œå¦‚ï¼š 12self.tableView.estimatedRowHeight = 60;self.tableView.rowHeight = UITableViewAutomaticDimension; å°† estimatedRowHeight è®¾ç½®ä¸ºä¸€ä¸ªå¤§æ¦‚çš„ä¼°è®¡è¡Œé«˜å€¼å³å¯ï¼Œæ²¡æœ‰ä¸¥æ ¼çš„é™åˆ¶ã€‚æ¯”å¦‚ä½ çš„ cell é«˜åº¦å¤§æ¦‚åœ¨ 50 åˆ° 100 ä¹‹é—´ï¼Œé‚£ä¹ˆä½ å¯ä»¥å°† estimatedRowHeight è®¾ç½®ä¸º 75ï¼›rowHeight çš„é»˜è®¤å€¼ä¸º UITableViewAutomaticDimensionï¼Œæ‰€ä»¥ç¬¬äºŒè¡Œå¯ä»¥çœç•¥ã€‚ ç„¶åŽå°±æ˜¯å¯¹ä½ çš„ cell è¿›è¡Œå¸ƒå±€è®¾ç½®ï¼Œè¿™é‡Œä»¥ Masonry ä¸ºä¾‹ï¼ˆAutoLayout çš„è¯ï¼Œè¿™ä¸ªæ¡†æž¶å¤§å®¶åº”è¯¥éƒ½åœ¨ç”¨å§ï¼Ÿï½žï¼‰ä¼ªä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728- (instancetype)initWithStyle:(UITableViewCellStyle)style reuseIdentifier:(NSString *)reuseIdentifier &#123; self = [super initWithStyle:style reuseIdentifier:reuseIdentifier]; if (self) &#123; __weak __typeof(self)weakSelf = self; UILabel *label1 = [UILabel new]; [self.contentView addSubview:label1]; [label1 mas_makeConstraints:^(MASConstraintMaker *make) &#123; __strong __typeof(weakSelf)strongSelf = weakSelf; make.top.equalTo(strongSelf.contentView).with.offset(10); make.left.equalTo(strongSelf.contentView).with.offset(10); make.right.equalTo(strongSelf.contentView).with.offset(-10); make.height.mas_equalTo(22); // â‘  &#125;]; UILabel *label2 = [UILabel new]; [label2 setNumberOfLines:0]; [self.contentView addSubview:label2]; [label2 mas_makeConstraints:^(MASConstraintMaker *make) &#123; __strong __typeof(weakSelf)strongSelf = weakSelf; make.top.equalTo(label1.mas_bottom).with.offset(10); make.left.equalTo(label1); make.right.equalTo(label1); make.bottom.equalTo(strongSelf.contentView.mas_bottom).with.offset(-10); // â‘¡ &#125;]; &#125; return self;&#125; æ³¨é‡Šâ‘ ï¼šè¯¥æ¡çº¦æŸå¯ä»¥æ³¨é‡ŠæŽ‰ï¼Œç„¶åŽå°† label1 è®¾ç½®ä¸º [label1 setNumberOfLines:0]; è¿™æ · label1 å°±å¯ä»¥æ ¹æ®å†…å®¹è‡ªåŠ¨è®¡ç®—é«˜åº¦ã€‚æ³¨é‡Šâ‘¡ï¼šå¿…é¡»è®¾ç½®è¯¥æ¡çº¦æŸã€‚ä¸ºäº†ç¡®å®š cell çš„é«˜åº¦ï¼Œæœ€æŽ¥è¿‘ cell bottom çš„æŽ§ä»¶éœ€è¦è®¾ç½®ä¸€ä¸ªè·ç¦» cell bottom çš„çº¦æŸã€‚ å¸ƒå±€ç»“æžœå¤§æ¦‚æ˜¯è¿™æ ·çš„æ•ˆæžœï¼š ä¼˜ç‚¹ï¼šä»£ç ä¹¦å†™ç®€å•ï¼Œé¡µé¢å¸ƒå±€å¿«æ·ã€‚åœ¨ cell çš„ initWithStyle: æ–¹æ³•é‡Œå°±å·²ç»æ–°å»ºå„ä¸ªæŽ§ä»¶å¹¶å°†ä½ç½®è®¾ç½®å¥½ï¼Œå¹¶ä¸”ä¸éœ€è¦å•ç‹¬è®¡ç®— cell çš„é«˜åº¦ã€‚ ç¼ºç‚¹ï¼šæ•ˆçŽ‡ä½Žï¼Œç¨å¾®å¤æ‚äº›çš„é¡µé¢å°±èƒ½æ„Ÿè§‰åˆ° tableView æ»‘åŠ¨æ—¶çš„æŽ‰å¸§ã€‚ ä»£ç†è®¡ç®—è¡Œé«˜é¦–å…ˆæ¥æ‰§è¡Œä¸€æ³¢ä¼ªä»£ç ï¼Œç”¨æ‰“å°æ¥è§‚å¯Ÿå„ä¸ªä»£ç†æ–¹æ³•çš„æ‰§è¡Œé¡ºåºï¼š 1234567891011121314151617181920#pragma mark - UITableViewDataSource- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section &#123; NSLog(@"---æ–¹æ³• : numberOfRowsInSection: ---section : %ld", (long)section); return 10;&#125;- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath &#123; NSLog(@"---æ–¹æ³• : cellForRowAtIndexPath: ---row : %ld", (long)indexPath.row); UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@"cell"]; return cell;&#125;#pragma mark - UITableViewDelegate- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath &#123; NSLog(@"---æ–¹æ³• : heightForRowAtIndexPath: ---row : %ld", (long)indexPath.row); return cellHight;&#125; æŽ§åˆ¶å°æ‰“å°ç»“æžœå¦‚ä¸‹ï¼š â‘ ï¼šé¦–å…ˆæ‰§è¡Œ numberOfRowsInSection: æ–¹æ³•ï¼Œè¿”å›ž cell ä¸ªæ•°ä¸º 10ã€‚â‘¡ï¼šå…¶æ¬¡æ‰§è¡Œçš„å°±æ˜¯ heightForRowAtIndexPath: æ–¹æ³•ï¼Œå¦‚ä¸Šå›¾ï¼Œæ­¤æ—¶æ‰§è¡Œè¯¥æ–¹æ³•ä¼šå°†æ‰€æœ‰ cell çš„é«˜åº¦å…¨éƒ¨è¿”å›žã€‚â‘¢â‘£â‘¤ï¼šè¿™æ—¶å€™å°±å¼€å§‹æ‰§è¡Œ cellForRowAtIndexPath: æ–¹æ³•ï¼Œå› ä¸ºå½“å‰é¡µé¢åªèƒ½å¸ƒå±€ 3 æ¡ cellï¼Œæ‰€ä»¥è¯¥æ–¹æ³•ä¼šè¢«æ‰§è¡Œä¸‰æ¬¡ã€‚å¹¶ä¸”ï¼Œæ‰§è¡Œä¸€æ¬¡ cellForRowAtIndexPath: æ–¹æ³•ç´§æŽ¥ç€å°±ä¼šæ‰§è¡Œä¸€æ¬¡ heightForRowAtIndexPath: æ–¹æ³•è¿”å›ž cell é«˜åº¦ã€‚ å› æ­¤ï¼Œå½“æˆ‘ä»¬ä»Žç½‘ç»œæˆ–è€…æœ¬åœ°ç¼“å­˜ä¸­èŽ·å–åˆ°æ‰€éœ€æ•°æ®ï¼ˆ array ï¼‰åŽï¼Œå¯ä»¥ç›´æŽ¥æ‰§è¡Œä»£ç ï¼š 1[self.tableView reloadData]; ç„¶åŽå°±ä¼šè°ƒç”¨ cellForRowAtIndexPath: æ–¹æ³•å’Œ heightForRowAtIndexPath: æ–¹æ³•ã€‚ cell çš„ initWithStyle: æ–¹æ³•ï¼š123456789101112- (instancetype)initWithStyle:(UITableViewCellStyle)style reuseIdentifier:(NSString *)reuseIdentifier &#123; self = [super initWithStyle:style reuseIdentifier:reuseIdentifier]; if (self) &#123; UILabel *label1 = [UILabel new]; [self.contentView addSubview:label1]; UILabel *label2 = [UILabel new]; [label2 setNumberOfLines:0]; [self.contentView addSubview:label2]; &#125; return self;&#125; æˆ‘ä»¬å¯ä»¥åœ¨ cellForRowAtIndexPath: æ–¹æ³•è¿›è¡Œ cell å¸ƒå±€ï¼Œå¦‚ï¼š 123456789101112131415161718- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath &#123; UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@"cell"]; if (!cell) &#123; cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:@"cell"]; &#125; // å†…å®¹ cell.label1.text = @"..."; cell.label2.text = @"..."; // å¸ƒå±€ CGFloat viewWidth = [UIScreen mainScreen].bounds.size.width; cell.label1.fream = CGRectMake(10, 10, viewWidth-20, 22); CGFloat label2Height = [text boundingRectWithSize:CGSizeMake(viewWidth-20, MAXFLOAT) options:NSStringDrawingUsesLineFragmentOrigin attributes:@&#123;NSFontAttributeName:font&#125; context:nil].size.height; cell.label2.fream = CGRectMake(10, 10, viewWidth-20, label2Height); return cell;&#125; å¸ƒå±€ç»“æžœå¤§æ¦‚æ˜¯è¿™æ ·çš„æ•ˆæžœï¼š ç„¶åŽåœ¨ heightForRowAtIndexPath: æ–¹æ³•é‡Œæ ¹æ® array æ•°æ®è®¡ç®— cell çš„é«˜åº¦ï¼Œå¦‚ï¼š12345- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath &#123; CGFloat viewWidth = [UIScreen mainScreen].bounds.size.width; CGFloat label2Height = [text boundingRectWithSize:CGSizeMake(viewWidth-20, MAXFLOAT) options:NSStringDrawingUsesLineFragmentOrigin attributes:@&#123;NSFontAttributeName:font&#125; context:nil].size.height; return 10 + 22 + 10 + label2Height + 10;&#125; ä¼˜ç‚¹ï¼šé€šè¿‡ feram çš„æ–¹å¼èƒ½å¤Ÿæé«˜å¸ƒå±€æ•ˆçŽ‡ ç¼ºç‚¹ï¼šå› ä¸ºæ¯æ¬¡ cell å°†è¦å‡ºçŽ°æ—¶éƒ½åŽ»æ‰§è¡Œä¸€æ¬¡ heightForRowAtIndexPath: æ‰€ä»¥æ•ˆçŽ‡è¿˜æ˜¯ä¸å¤Ÿé«˜ï¼Œè€Œä¸”è¡Œé«˜æ²¡æœ‰å¾—åˆ°ç¼“å­˜ï¼Œé€ æˆå¤§é‡ä¸å¿…è¦çš„è®¡ç®—ä¸Šçš„æµªè´¹ã€‚æ‰€ä»¥å°±æœ‰äº†ä¸‹è¾¹è¿™ç§æ–¹æ³•ã€‚ æå‰è®¡ç®—è¡Œé«˜è¿™ç§æ–¹å¼æ˜¯å‡ºè‡ª MVVM çš„äº§ç‰©ï¼Œå› ä¸ºæœ€è¿‘éƒ½åœ¨ä½¿ç”¨ MVVM æ¡†æž¶ï¼Œæ‰€æœ‰çš„è®¡ç®—éƒ½æ”¾åˆ°äº† viewModel é‡Œï¼Œæ‰€ä»¥åœ¨ viewModel ä»Žç½‘ç»œæˆ–è€…æœ¬åœ°ç¼“å­˜æ‹¿åˆ°æ•°æ®åŽæŽ¥ç€å°±ä¼šå¤„ç†ï¼Œå°†åŽŸå§‹æ•°æ®å¤„ç†å°è£…æˆ cell çš„ VOï¼ˆview objectï¼‰ ç±»å¯¹è±¡ï¼Œè¯¥ VO ç±»é‡ŒåŒ…å«ç€ cell æ‰€éœ€è¦çš„å±•ç¤ºå†…å®¹å’Œå°ºå¯¸ï¼Œå¦‚ï¼š 12345678910@interface TableViewCellVO : NSObject// æ•°æ®@property (nonatomic, copy) NSString *label1Text;@property (nonatomic, copy) NSString *label2Text;// å°ºå¯¸@property (nonatomic, assign) CGRect label1Fream;@property (nonatomic, assign) CGRect label2Fream;// è¡Œé«˜@property (nonatomic, assign) CGFloat cellHeight;@end ç„¶åŽå°†å¤„ç†å¥½çš„ cellVOArray ä¼ ç»™ UITableView çš„æ•°æ®æºå’Œä»£ç†ï¼Œåœ¨ cellForRowAtIndexPath: æ–¹æ³•ç›´æŽ¥èµ‹å€¼ï¼š 1234567891011121314- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath &#123; UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@"cell"]; if (!cell) &#123; cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:@"cell"]; &#125; TableViewCellVO *cellVO = cellVOArray[indexPath.row]; // æ•°æ® cell.label1.text = cellVO.label1Text; cell.label2.text = cellVO.label2Text; // å¸ƒå±€ cell.label1.fream = cellVO.label1Fream; cell.label2.fream = cellVO.label2Fream; return cell;&#125; åœ¨ heightForRowAtIndexPath: æ–¹æ³•é‡Œç›´æŽ¥è¿”å›žè¡Œé«˜ï¼š 1234- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath &#123; TableViewCellVO *cellVO = cellVOArray[indexPath.row]; return cellVO.cellHeight&#125; ä¼˜ç‚¹ï¼šè¡Œé«˜ä¸Ž cell å†…çš„å„æŽ§ä»¶å°ºå¯¸éƒ½æå‰è®¡ç®—å¥½ï¼Œåœ¨æ‰§è¡Œ cellForRowAtIndexPath: æ–¹æ³•å’Œ heightForRowAtIndexPath: æ–¹æ³•æ—¶æ¯”è¾ƒå¿«ï¼Œä¸”è¡Œé«˜å¾—åˆ°ç¼“å­˜ï¼Œé¿å…äº†å†—ä½™çš„è®¡ç®—ã€‚ ç¼ºç‚¹ï¼šåœ¨ä»Žç½‘ç»œæˆ–è€…æœ¬åœ°ç¼“å­˜æ‹¿åˆ°æ•°æ®ä¹‹åŽï¼Œæ‰§è¡Œ [self.tableView reloadData]; ä¹‹å‰éœ€è¦èŠ±è´¹æ—¶é—´å¤„ç†æ•°æ®åŠè®¡ç®— freamã€‚è¿™é‡Œéœ€è¦è°¨æ…Žå¤„ç†æ•°æ®ï¼Œå¯ä»¥é‡‡ç”¨å¤šçº¿ç¨‹ç­‰æŠ€æœ¯ç¼©çŸ­æ•°æ®å¤„ç†çš„æ—¶é—´ã€‚ å› ä¸ºåœ¨æ•°æ®å¤„ç†ä¸Šæ‰€èŠ±è´¹çš„æ—¶é—´è¦è¿œå°äºŽé¡µé¢æ»šåŠ¨æ—¶æ‰€æ¶ˆè€—çš„æ—¶é—´ã€‚å‡¡æ˜¯æ¶‰åŠé¡µé¢çš„æ“ä½œéƒ½æ˜¯ç›¸å½“è€—è´¹æ—¶é—´çš„ï¼Œç›¸æ¯”è€Œè¨€å¯¹äºŽ cpu åœ¨å¤„ç†æ•°æ®ä¸Šçš„æ—¶é—´å°±å¯ä»¥å¿½ç•¥ä¸è®¡äº†ï¼Œæ¯•ç«Ÿæˆ‘ä»¬æ‰€è¦å¤„ç†çš„æ•°æ®éƒ½ä¸ä¼šå¤ªå¤§ï¼Œå¦‚æžœæ•°æ®è¿‡å¤šçš„è¯å¯ä»¥åšåˆ†æ¬¡èŽ·å–å¤„ç†ï¼ˆä¸‹æ‹‰åˆ·æ–°æ“ä½œï¼‰ï¼Œæ‰€ä»¥è¿™é‡Œçš„ç¼ºç‚¹ç›¸å¯¹äºŽä¸Šä¸€ç§æ–¹æ³•è¿˜æ˜¯å¯ä»¥å¿å—çš„ã€‚ XIB æ–¹å¼å¤„ç† UITableViewCell çš„è¡Œé«˜é—®é¢˜å¯¹äºŽçº¯ Code å’Œ SB æ–¹å¼çš„é¡µé¢å¸ƒå±€é—®é¢˜ä¸šç•Œå·²ç»ç›¸çˆ±ç›¸æ€äº†å¾ˆä¹…ï¼Œå„æœ‰å„çš„é“ç†ã€‚æˆ‘çš„è§‚ç‚¹æ˜¯ï¼šå“ªç§å¸ƒå±€æ–¹å¼é€‚åˆè‡ªå·±å°±å¥½äº†ï¼Œçœ‹ä¸ªäººå–œå¥½ã€‚ç›¸æ¯”äºŽ SB çš„â€œæ‰€è§å³æ‰€å¾—â€ï¼Œå¿«é€Ÿå¸ƒå±€ç­‰ï¼Œæˆ‘ä¸ªäººæ›´å–œæ¬¢çº¯ Code çš„æ–¹å¼ï¼Œå¯¹ä»£ç çš„å¯æŽ§æ€§æ›´å¼ºï¼ˆäº¦ä¸æŽ’é™¤æˆ‘ä¸ªäººæ˜¯æ¯”è¾ƒå–œæ¬¢ Coding çš„å› ç´ ï¼‰ã€‚ä¸è¿‡ï¼Œå¦‚æžœä½ æ˜¯åå¥½ SB çš„å¸ƒå±€æ–¹å¼ï¼Œé‡‡ç”¨ XIB æ–¹å¼å¤„ç† UITableViewCellï¼Œé‚£ä¹ˆä½ å¯ä»¥çœ‹çœ‹sunnyxx çš„ UITableView-FDTemplateLayoutCellï¼ˆç‚¹å‡»å¯æŸ¥çœ‹GitHubï¼‰è¿™ç§è§£å†³æ–¹æ¡ˆã€‚è€Œä¸”ï¼Œæœ¬æ–‡çš„å‰ä¸€éƒ¨åˆ†ä¹Ÿå‚è€ƒäº† sunnyxx çš„è¿™ç¯‡åšå®¢ ä¼˜åŒ–UITableViewCellé«˜åº¦è®¡ç®—çš„é‚£äº›äº‹ ï¼ŒæŽ¨èé˜…è¯»ã€‚ åŽè®° å°ç™½å‡ºæ‰‹ï¼Œè¯·å¤šæŒ‡æ•™ã€‚å¦‚è¨€æœ‰è¯¯ï¼Œè¿˜æœ›æ–§æ­£ï¼ è½¬è½½è¯·ä¿ç•™åŽŸæ–‡åœ°å€ï¼šhttp://gonghonglou.com/2017/07/05/cell-height]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Say Bye 2016]]></title>
    <url>%2F2016%2F12%2F26%2Fsaybye2016%2F</url>
    <content type="text"><![CDATA[å˜¿ï¼Œä¸è§‰é—´ 2016 é©¬ä¸Šå°±è¦ç»“æŸäº†ï¼Œæ‰€ä»¥ï¼Œè¿™ä¸€å¹´ä½ éƒ½å¹²äº†å•¥ï¼Ÿ 2016 å¹´ï¼Œæœ€å¤§çš„å˜åŠ¨å°±æ˜¯æ¯•äº†ä¸šï¼Œåå…­å¹´çš„æ±‚å­¦åŽ†ç¨‹ ç»“æŸäº†ï¼Œç„¶åŽï¼Œä»Žä¸€åå­¦ç”Ÿå˜æˆäº†å‘˜å·¥ï¼ æ€€å¿µæ¯•ä¸šäº†ï¼Œæ‰å‘çŽ°çœŸçš„ä¼šæ€€å¿µå­¦ç”Ÿæ—¶ä»£ã€‚ æ—©æ™¨æ‹–ç€èº«å­çˆ¬èµ·æ¥ä¸Šè¯¾ï¼Œç„¶è€Œè¯¾ä¸Šå°‘æœ‰å¬è®²ï¼Œå°±é‚£æ ·æµªè´¹ç€æ—¶é—´èš•é£Ÿç€ç”Ÿå‘½ï¼Œå¯é‚£ä¹Ÿæ˜¯æˆ‘çš„å¤§å­¦ç”Ÿæ´»å•Šï¼Œä¸å†æœ‰çš„æŒ¥éœæ—¶å…‰ã€‚åˆ°å­¦æ ¡é£Ÿå ‚åƒé¥­ï¼Œä¹Œæ³±æ³±çš„äººç¾¤ï¼Œæ‰“é¥­éƒ½è¦å…ˆå åº§ï¼Œå¯ä»¥çš„ï¼Œé‚£ä¹Ÿæ˜¯æˆ‘æ€€å¿µçš„ã€‚æ¯å­¦æœŸçš„å®¿èˆèšé¤ã€ç­çº§èšä¼šã€å…ƒæ—¦æ™šä¼šï¼Œç»ˆç©¶ä¼šæ€€å¿µèº«å¤„ç¾¤ä½“ä¸­çš„æ—¥å­ï¼Œå’Œèº«å¤„å…¬å¸ä¸åŒã€‚çœŸå¿ƒå¸Œæœ›æœ‰ä¸€å¤©ä¼šåœ¨ç¤¾ä¼šå›¢ä½“ä¸­æ‰¾åˆ°æ ¡å›­ä¸­çš„é›†ä½“æ„Ÿï¼Œå¤§æ¦‚å°±åƒ Nicholas Tse æè¿°çš„ PO é‚£æ ·çš„å›¢ä½“å§ï¼Œå¦‚æžœæ˜¯è‡ªå·±å»ºç«‹çš„å°±æœ€å®Œç¾Žäº†ï¼ŒFighting ï¼åšå­¦ç”Ÿæ—¶æ²¡æœ‰å‘çŽ°ï¼ŒåŽŸæ¥è¿™ä¸ªç¤¾ä¼šå¯¹äºŽå­¦ç”Ÿçš„ç…§é¡¾è¿™ä¹ˆå¤šï¼Œç”µè¯è´¹ã€ä½å®¿è´¹ã€é£Ÿå ‚ã€è½¦ç¥¨ã€æ™¯åŒºé—¨ç¥¨ç­‰ç­‰ç­‰ç­‰è¿™äº›æœ‰å½¢çš„å’Œé‚£äº›æ— å½¢çš„å¯¹äºŽã€Œå­¦ç”Ÿã€è¿™ä¸€ç§°å·ï¼Œæ¯æ¯æ„Ÿå—åˆ°è¿™ä¸€ç‚¹åœ¨å°å°æ€€å¿µå­¦ç”Ÿæ—¶ä»£ä¹‹å¤–éƒ½ä¼šå¤šå°‘æ„Ÿæ¦‚è¿™ä¸ªç¤¾ä¼šè¿˜æ˜¯å¾ˆç¾Žå¥½çš„ï¼Œå—¯ã€‚æ¯•ä¸šåŽæ¯å½“çœ‹åˆ°æœ‹å‹åœˆæœ‰äººæ™’å‡ºå­¦æ ¡ç…§ç‰‡éƒ½ä¼šç‰¹åˆ«æ„Ÿæ¦‚çœŸæƒ³å›žåŽ»çœ‹çœ‹ï¼Œå½“åˆåƒå¤Ÿäº†çš„å•†ä¸šè¡—çŽ°åœ¨ä¹Ÿæ˜¯å¾ˆæ€€å¿µæ‰¬å·žç‚’é¥¼å’Œå¦‚æ„æžçš„ç«é”…å°æ–™ã€‚ æœŸå¾…æœªçŸ¥å¹´åŽçš„å¤§å­¦èšä¼šï¼Œæˆ‘ä»¬æ ¡å›­ä¸€èšã€‚ é€‰æ‹©2016 å¹´ 1 æœˆ 11 æ—¥å®žä¹ å…¥èŒï¼Œé©¬ä¸Šæˆ‘ä¹Ÿè¦å·¥ä½œæ»¡ä¸€å¹´äº†å‘¢ã€‚å½“æ—¶æ‰¾å·¥ä½œæ—¶æ”¶åˆ°äº†å‡ ä»½ offer ï¼Œæœ€ç»ˆé€‰æ‹©äº†å“éª¥ï¼ˆçŽ°åœ¨çš„å…¬å¸ï¼‰ï¼Œä¹Ÿå¾ˆå¹¸è¿é‡åˆ°äº†å“éª¥ï¼š 1ã€å®žä¹ å…¥èŒçš„ç¬¬äºŒå¤©å°±å¼€å§‹è´Ÿè´£å†™ iPad é¡¹ç›®é‡æž„ç‰ˆçš„ç½‘ç»œè¯·æ±‚åº“ã€‚2ã€å®žä¹ ç»“æŸå›žå­¦æ ¡å‰çš„ä¸€ä¸ªæœˆå¼€å§‹æŽ¥æ‰‹æ•´ä¸ª iPad é¡¹ç›®çš„é‡æž„ç‰ˆæœ¬ã€‚3ã€æ­£å¼å…¥èŒåŽèŠ±è´¹äº†å››ä¸ªæœˆçš„æ—¶é—´å®Œæˆäº† iPad é¡¹ç›®é‡æž„çš„å¤§éƒ¨åˆ†å†…å®¹ã€‚4ã€ç´§æŽ¥ç€æŽ¥æ‰‹äº†å…¬å¸æ‰€æœ‰ iOS ä¸šåŠ¡ï¼ˆ iPad å’Œ iTouch ç«¯ï¼‰ã€‚5ã€ä¹‹åŽå¾ˆå¿«å°†ä¼šè¿›è¡Œ iTouch é¡¹ç›®çš„é‡æž„ è¿™äº›éƒ½è®©æˆ‘è§‰å¾—ï¼šå½“åˆçš„é€‰æ‹©æ²¡é”™ã€‚ æˆç»©2016ï¼Œåº”è¯¥æ˜¯æˆ‘æŠ€æœ¯é“è·¯çš„æ­£å¼å¼€ç«¯ï¼Œå› ä¸ºè¿™äº›ï¼Œæ‰€ä»¥è¿˜ä¸ç®—è’åºŸï¼š 1ã€ç®—ä¸Šè¿™ç¯‡ï¼Œä»Šå¹´è¯¥æ˜¯å†™äº†åäºŒç¯‡åšå®¢ã€‚ä¸åƒé‚£äº›å¤§ V çš„åšå®¢å¯¹äºŽæ±‚å­¦è€…æœ‰è¾ƒé«˜çš„æŠ€æœ¯å­¦ä¹ å’Œå‚è€ƒä»·å€¼ï¼Œè¿„ä»Šä¸ºæ­¢ã€Œä¸Žä½³æœŸçš„ä¸ªäººåšå®¢ã€çš„ä¸»è¦å†…å®¹æˆ–è€…åŠŸèƒ½åº”è¯¥æ˜¯ç»™è‡ªå·±çš„æŠ€æœ¯æ€»ç»“å§ã€‚åˆ‡èº«ä½“ä¼šå¯¹äºŽå¾ˆå¤šæŠ€æœ¯ï¼Œä»£ç å®žçŽ°å’Œåšå®¢è¾“å‡ºè¿˜æ˜¯æœ‰å¾ˆå¤§å·®è·çš„ï¼Œå¼€å§‹å†™æŸé¡¹æŠ€æœ¯åšå®¢å‰ä»¥ä¸ºå¯¹è¯¥é¡¹æŠ€æœ¯å·²ç»æŽŒæ¡äº†ï¼Œå¼€å§‹åŽå’Œç»“æŸåŽæ‰å‘çŽ°è‡ªå·± too young too simple ï¼Œæ¯ç¯‡æŠ€æœ¯åšå®¢å†™ä¸‹æ¥éƒ½è§‰å¾—èŽ·ç›ŠåŒªæµ…èƒ½å­¦åˆ°æ›´å¤šçŸ¥è¯†ï¼Œå³ä¾¿è¿™æ ·æˆ‘ä¹Ÿæ·±çŸ¥è¿˜ä»…æ˜¯çš®æ¯›è€Œå·²ã€‚ç»§ç»­åŠªåŠ›å§ï¼Œå¸Œæœ›ä»¥åŽè‡ªå·±çš„åšå®¢è¾“å‡ºä¹Ÿèƒ½åœ¨æŠ€æœ¯æ·±åº¦ä¸Šå¯¹åˆ«äººæœ‰æ‰€å¸®åŠ©å’Œå½±å“ã€‚2ã€é¡ºåˆ©å®Œæˆæ¯•ä¸šè®¾è®¡ï¼Œè¿˜è¦æ„Ÿè°¢é©¬æ ¹è€å¸ˆï¼ˆæˆ‘çš„å­¦æœ¯æŒ‡å¯¼è€å¸ˆï¼‰æˆ‘çš„æ¯•ä¸šè®¾è®¡ä¹Ÿæ˜¯åšçš„ iOS çš„ä¸€æ¬¾è·³èš¤å¸‚åœºç±»è½¯ä»¶ã€‚3ã€å®Œæˆäº†å…¬å¸ iPad é¡¹ç›®é‡æž„ç‰ˆçš„ç½‘ç»œè¯·æ±‚åº“çš„å¼€å‘ã€‚ç†Ÿæ‚‰äº†ç½‘ç»œè¯·æ±‚ã€æ•°æ®è§£æžå’Œéƒ¨åˆ†ç¼“å­˜æ“ä½œã€‚4ã€å®Œæˆäº†å…¬å¸ iPad çš„é‡æž„é¡¹ç›®ï¼Œä¸»è¦ä»£ç æˆç»©å°±æ˜¯è¿™ä¸ªäº†ï¼ŒèŠ±è´¹äº†çº¦å››äº”ä¸ªæœˆçš„æ—¶é—´ï¼Œå¤§éƒ¨åˆ†çš„æŠ€æœ¯æˆé•¿ä¹Ÿéƒ½åœ¨è¿™é‡Œäº†ï¼Œä»ŽæŽ§ä»¶ä½¿ç”¨ã€é¡µé¢å¸ƒå±€ã€ä¸šåŠ¡å®žçŽ°åˆ°è®¾è®¡æ¨¡å¼ã€å·¥ç¨‹æž¶æž„ã€‚5ã€æŽ¥æ‰‹å…¬å¸æ‰€æœ‰ iOS ä¸šåŠ¡ï¼ˆ iPad å’Œ iTouch ç«¯ï¼‰ã€‚ä¸»è¦æˆé•¿äº† Debug çš„èƒ½åŠ›å§ä»¥åŠå¯¹å…¬å¸ä¸šåŠ¡çš„ç†Ÿæ‚‰ã€‚6ã€ä¸Šçº¿äº†ä¸€æ¬¾ä¸ªäºº Appï¼šRDERï¼Œä¸€æ¬¾è½»é‡æžç®€çš„ RSS è®¢é˜…è½¯ä»¶ã€‚å¤§æ¦‚æœ‰ä¸ƒå…«åƒè¡Œä»£ç ï¼Œè™½ç„¶è½¯ä»¶ç®€å•ä½†æ˜¯ä¸€ç‚¹ä¸€æ»´éƒ½æ˜¯è‡ªå·±ç»†å¿ƒé›•ç¢çš„ï¼Œå› ä¸ºè¿™æ¬¾è½¯ä»¶ä¹Ÿäº†è§£äº†å…³äºŽä¸€æ¬¾è½¯ä»¶ä¸Šçº¿çš„æ‰€æœ‰æµç¨‹ï¼Œè€Œä¸”ç”¨åˆ°äº† relam ï¼Œå’Œ sqlite æœ‰äº†æ¯”è¾ƒã€‚ ä»¥ä¸Šï¼Œä»Šå¹´å¤§æ¦‚å†™äº†æœ‰è¿‘åä¸‡è¡Œä»£ç ã€‚ å¹¸è¿ä¸€ç›´éƒ½è§‰å¾—è‡ªå·±å°‘æœ‰åŠªåŠ›ï¼Œæ›´å¤šæ˜¯å¹¸è¿ã€‚ å¤§ä¸€å¤§äºŒæµ‘æµ‘å™©å™©åº¦è¿‡äº†ä¸¤å¹´ï¼Œå¤§äºŒæœ«æ€»è§‰å¾—è¯¥åšç‚¹ä»€ä¹ˆï¼Œæ‰€ä»¥åŠžäº†ä¸ªå…¼èŒä¸­å¿ƒï¼Œèµ·åã€Œæ›™å…‰ã€ã€‚å¸Œæœ›æ›´å¤šå’Œæˆ‘ä¸€æ ·åœ¨å¤§å­¦è¿·èŒ«çš„åŒå­¦ä»¬èƒ½å¤Ÿå› æ­¤çœ‹åˆ°æ–¹å‘ï¼Œè‡³å°‘ç”Ÿæ´»ä¸å†è’è¯žã€‚ç„¶è€Œæœ€ç»ˆä¹Ÿæ²¡åŠžæˆä¸ªæ ·å­ï¼ŒçŽ°åœ¨çœ‹æ¥é‚£ç§èŒä¸šç”Ÿæ´»çš„ç¡®ä¸æ˜¯æˆ‘å–œæ¬¢çš„ï¼Œæ‰€ä»¥æ²¡æœ‰æˆæ ·å­ä¹Ÿæ˜¯æœ‰åŽŸå› çš„ã€‚å¯ä¹Ÿæ­£å› ä¸ºè¿™ä¸ªå…¼èŒä¸­å¿ƒæ‰è®©æˆ‘é‡åˆ°äº†é©¬æ ¹è€å¸ˆï¼ˆè¿˜è¦å¤šè°¢ç­ä¸»ä»»ç››èŽ‰è€å¸ˆçš„å¼•èï¼‰ï¼Œé‡åˆ°äº†ç¼–ç¨‹ï¼Œé‡åˆ°äº† iOS ï¼Œé‡åˆ°äº†è‡ªå·±çœŸæ­£å–œæ¬¢çš„ä¸œè¥¿ã€‚ å¤§ä¸‰åˆ°å¤§å››æœ‰è¿‘ä¸€å¹´çš„æ—¶é—´éƒ½å¾…åœ¨é©¬è€å¸ˆçš„å®žéªŒå®¤é‡Œï¼Œæœºç”µæ¥¼ C 228ã€‚è¿™é—´å®žéªŒå¹¶ä¸æ˜¯å¼€æ”¾å®žéªŒå®¤ï¼Œå¶å°”æœ‰ç­çº§è¿‡æ¥åšå®žéªŒçš„æ—¶é—´æˆ‘å°±ä¼šå¸¦ç”µè„‘åˆ°å›¾ä¹¦é¦†ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†æ—¶é—´å®žéªŒå®¤åªæœ‰æˆ‘ä¸€ä¸ªäººåœ¨ï¼Œå¶å°”æ™šä¸Šé©¬è€å¸ˆä¹Ÿåœ¨ã€‚æ—©ä¸Šå…«ä¹ç‚¹é’Ÿåƒè¿‡æ—©é¥­åˆ°å®žéªŒå®¤ï¼Œç„¶åŽåˆé¥­ã€æ™šé¥­ï¼Œæ™šä¸Šå¤§æ¦‚åç‚¹åŠåä¸€ç‚¹å›žå®¿èˆï¼Œå°±è¿™æ ·æ—¥å¤ä¸€æ—¥åŒ†åŒ†è¿‡äº†ä¸€å¹´ã€‚æ²¡æœ‰æ— èŠåè€Œä¸€ç›´å¾ˆå……å®žã€‚é‚£æ—¶å€™æ‰“å¼€æµè§ˆå™¨çœŸçš„å°±æ„Ÿè§‰â€œå¾œå¾‰åœ¨ï¼ˆäº’è”ç½‘çš„ï¼‰çŸ¥è¯†çš„æµ·æ´‹é‡Œâ€ï¼Œé‚£æ˜¯æˆ‘ä¸Šäº†åå‡ å¹´å­¦ç¬¬ä¸€æ¬¡æœ‰â€œçŸ¥è¯†çš„æµ·æ´‹â€çš„æ¦‚å¿µã€‚ç»è¿‡ç‰©è”ç½‘ -&gt; è®¡ç®—æœº -&gt; å‰ç«¯ -&gt; iOS -&gt; Objective-C è¿™ä¸€å±‚å±‚ï¼Œè¦å­¦çš„çŸ¥è¯†ä»ç„¶åƒâ€œæµ·æ´‹â€ä¸€æ ·æœ›ä¸åˆ°å¤´ï¼Œæ¯å¤©éƒ½æ˜¯é¼“è¶³å¹²åŠ²çš„å­¦ä¹ è¿™äº›ç¼–ç¨‹æŠ€æœ¯ï¼Œä»Žæœ€åŸºç¡€çš„ç¼–ç¨‹åŸºç¡€å¼€å§‹ï¼Œfor å¾ªçŽ¯ã€é¡µé¢å¸ƒå±€ã€å¤šçº¿ç¨‹ã€æ•°æ®åº“ã€ç½‘ç»œç¼–ç¨‹ã€è®¾è®¡æ¨¡å¼ã€å¼€æºä»£ç â€¦â€¦æ¯é˜¶æ®µéƒ½æœ‰å­¦ä¸å®Œçš„æŠ€æœ¯ã€‚å½“ç„¶ä¹Ÿä¸æ˜¯ä¸€ç›´çƒ­æƒ…é«˜æ¶¨ï¼Œæœ€å—æ‰“å‡»çš„åº”è¯¥æ˜¯åœ¨ç»§ç»­å­¦ä¹ çš„è·¯ä¸Šï¼Œå¯¹äºŽåˆšå¼€å§‹ä¸€å—å´­æ–°æŠ€æœ¯çš„è¿·æƒ‘ï¼Œæ¯”å¦‚å¤šçº¿ç¨‹å’Œæ•°æ®åº“ï¼Œåˆšå¼€å§‹æŽ¥è§¦çš„æ—¶å€™çœŸçš„æ˜¯ä¸€è„¸æ‡µé€¼ï¼Œåˆ‡èº«ä½“ä¼šåœ¨é‚£ç§æ—¶å€™ä¸€ä»½åŸºç¡€ç³»ç»Ÿçš„å­¦ä¹ èµ„æ–™æœ‰å¤šé‡è¦ï¼Œä¸€ä»½å¥½çš„æŠ€æœ¯åšå®¢æˆ–è€…æŠ€æœ¯æ–‡æ¡£æœ‰å¤šé‡è¦ï¼ æ€»æ„Ÿè§‰è‡ªå·±æ˜¯å¹¸è¿çš„ï¼šå¹¸è¿çš„åœ¨å¤§å­¦å¿«ç»“æŸçš„æ—¶å€™æ‰¾åˆ°äº†è‡ªå·±å–œæ¬¢çš„ä¸œè¥¿ï¼›å¹¸è¿çš„æ¥åˆ°ä¸Šæµ·åœ¨ä¸Šæµ·æµ·äº‹å¤§å­¦å’Œä¸Šæµ·å¤§å­¦ç§‹å­£æ‹›è˜ä¼šä¸Šæ‹¿åˆ°äº†å‡ ä»½ offer ï¼›å¹¸è¿çš„åœ¨è¿™å‡ ä»½ offer é‡Œé‡è§çš„çŽ°åœ¨çš„å…¬å¸â€”å“éª¥ï¼Œæ‰æœ‰äº†ä¸Šè¾¹çš„â€œè¿™äº›éƒ½è®©æˆ‘è§‰å¾—ï¼šå½“åˆçš„é€‰æ‹©æ²¡é”™ã€‚â€ å¹¸è¿çš„çˆ¶æ¯éƒ½åœ¨ä¸Šæµ·å¯ä»¥ä½åœ¨ä¸€èµ·ï¼›å¹¸è¿çš„å’Œçˆ¶æ¯ä½åœ¨ä¸€èµ·ä¸å¿…è´Ÿæ‹…æˆ¿ç§Ÿï¼›å¹¸è¿çš„å’Œçˆ¶æ¯ä½åœ¨ä¸€èµ·è¿žç”Ÿæ´»è´¹éƒ½çœäº†ã€‚å› ä¸ºè¿™æŽ¥è¿žçš„ä¸‰ä¸ªå¹¸è¿æ‰èƒ½æŠŠé’±æ”’èµ·æ¥ä¸€åˆ†ä¸å‰©çš„èŠ±åœ¨äº†è‡ªå·±ä»»æ€§èŠ±çš„åœ°æ–¹ã€‚è€Œä¸”æˆ‘ä¸€ç›´è§‰å¾—è¿ˆå…¥ç¤¾ä¼šçš„ç¬¬ä¸€å¹´æ˜¯æˆ‘ä»¬äººç”Ÿè´Ÿæ‹…æœ€å°æ”¶å…¥æœ€ä½Žçš„ä¸€å¹´ï¼Œå¦‚æžœè¯´æ˜¯è¦è½»å¥¢ç”Ÿæ´»ä¸è™‘ç§¯è“„ï¼Œé‚£è¿™ä¸€å¹´åº”è¯¥æ˜¯æœ€åˆé€‚çš„æ—¶é—´äº†ï¼Œæ‰€ä»¥æˆ‘åšäº†ä¸€ååˆæ ¼çš„æœˆå…‰æ—ï¼Œæœ‰ï¼ˆäº†ï¼‰é’±ä»»æ€§æ‰€ä»¥çœŸçš„æ˜¯ä¸€åˆ†ä¸å‰©ã€‚ã€‚ã€‚ é—æ†¾1ã€ç”Ÿæ´»ä¸Šï¼Œä»¥å¾€çš„å®¿èˆèšé¤ã€‚ ç¦»å¼€å­¦æ ¡çš„å‰ä¸€å¤©æ™šä¸Šå®¿èˆæœ€åŽä¸€æ¬¡èšé¤ï¼Œæˆ‘ä»¬æ‹¿ç€ç­é‡Œåˆ†å¾—çš„ç­è´¹æ‰¾äº†ä¸€å®¶çƒ§çƒ¤ç‹ æ“äº†ä¸€é¡¿ï¼Œèƒ¡åƒæµ·å–ä¾ƒå¤©ä¾ƒåœ°ã€‚é‚£å¤©è¯´äº†å¥½å¤šè¯ï¼Œè€Œä»¥å¾€çš„å®¿èˆèšé¤å› ä¸ºé…’é‡åŽŸå› å’Œåƒè´§åŸºå› å¤§å®¶å¾ˆå°‘å–é…’åªé¡¾åƒåƒåƒï¼Œè¿™åº”è¯¥å°±æ˜¯æœ€é—æ†¾çš„äº†ã€‚åªæœ‰å–äº†é…’å¤§å®¶æ‰èƒ½æŽ¨å¿ƒç½®è…¹å§ï¼Œæ‰€ä»¥é‚£æ™šå–äº†å¾ˆå¤šé…’ï¼Œå¸¦ç€æ€€å¿µå’Œä¸èˆï¼Œå£å£å£°å£°è¯´ç€æˆ‘ä»¬å†èšå†èšã€‚æ›¾ç»ä½ è®©æˆ‘ä¸çˆ½æˆ‘è®©ä½ ä¸å¿«çš„äº‹å¦‚ä»Šéƒ½æˆäº†åŠ æ·±æˆ‘ä»¬æƒ…ä¹‰çš„åŠ©åŠ›ã€‚æˆ‘ä»¬å¹ç‰›æ‰“å±çš„æ—¶å€™é¡¿é¡¿é»˜é»˜å¸¦äº†ä¸€æ³¢èŠ‚å¥ï¼Œäººé«˜é©¬å¤§çš„ä»–ç«Ÿç„¶è½äº†å‡ æ»´çŒ«å°¿ï¼Œæˆ‘çœ‹åˆ°åŽç«‹é©¬å¤§ç¬‘æŒ‡ç€ä»–ï¼šâ€œå§æ§½ï¼Œä½ ç«Ÿç„¶â€¦â€ ç„¶åŽçªç„¶å“½å’½ï¼ŒåŒæ ·æ³ªæµä¸æ­¢ã€‚é‚£å¤©å–çš„å¾ˆçœŸå¿ƒã€‚ å°æ’æ›²ï¼šç¬¬äºŒå¤©èµ·åºŠå°±åäº†è¿˜å¸¦ç€å—å—â€œè¡€è‰²â€ï¼Œè‚ èƒƒä¸€ç›´ä¸å¥½ä¸Šæ¬¡å–é…’åäº†ä¸€å¤œèƒ†æ±ï¼Œè¿™æ¬¡ç«Ÿç„¶åäº†è¡€ï¼Œå“åäº†ã€‚å¯æ˜¯æ¯•ä¸šç¦»æ ¡ä¸æƒ³è®©å®¤å‹ä»¬æ‹…å¿ƒæ‰€ä»¥è£…ä½œæ— äº‹ã€‚æ­¤äº‹è¿‡äº†ä¸ªæŠŠæœˆçŸ¥ä¹Žä¸Šçœ‹åˆ°é‚£ä¸ªç¬‘è¯æ‰ä¼šå›žå¿†èµ·ï¼Œé‚£æ™šå–è¿‡é…’å›žå®¿èˆå¥½åƒé¡ºä¾¿ä¹°äº†ä¸ªè¥¿ç“œã€‚å“ˆï¼Œå“ˆå“ˆå“ˆå“ˆâ€¦â€¦ 2ã€æŠ€æœ¯ä¸Šï¼Œé‡åˆ°ç¼–ç¨‹çš„æ—¶é—´å¤ªæ™šã€‚ åœ¨å¤§ä¸‰åˆå¼€å§‹æŽ¥è§¦ç¼–ç¨‹ï¼Œä¸Šå­¦æœŸä¸€ç›´åœ¨å…¥é—¨ Java ï¼Œå› ä¸ºæ˜¯åˆšå…¥é—¨æ‰€ä»¥è¿›åº¦å¾ˆæ…¢ã€‚çœ‹äº†ä¸€å­¦æœŸçš„ Java å¤§æ¦‚ç†Ÿæ‚‰äº†ç¼–ç¨‹è¯­è¨€åŸºç¡€ï¼Œå¯¹äºŽç§»åŠ¨ç«¯æœ‰ iOS å’Œ Android ä¸¤å¤§é˜µè¥ï¼Œéƒ½æƒ³å­¦å¯æ˜¯æ˜¾ç„¶æ—¶é—´æ¥ä¸åŠï¼Œæ‰€ä»¥é€‰æ‹©äº†é€¼æ ¼ç•¥é«˜ä¸”é€¼æ ¼é«˜å°±æ˜¯æˆ‘æ‰€çˆ±çš„ iOS ã€‚å³ä¾¿å¦‚æ­¤ï¼Œå­¦ä¹  iOS çš„æ—¶é—´ä¹Ÿåªæœ‰å¤§ä¸‰ä¸‹å­¦æœŸåˆ°å¤§å››ä¸Šå­¦æœŸï¼Œ15 å¹´å¤§çº¦åæœˆåº•åä¸€æœˆå°±å¼€å§‹æ‰¾å·¥ä½œäº†ã€‚æ‰€ä»¥å¤§å­¦é‡Œå­¦ä¹  iOS çš„æ—¶é—´å¤ªçŸ­ï¼Œç¼–ç¨‹ç”Ÿæ¶¯å¼€å§‹çš„å¤ªæ™šã€‚å¦‚æžœå¯ä»¥æ—©ä¸€å¹´ç”šè‡³ä¸¤å¹´çš„è¯è‡³å°‘åœ¨æ¯•ä¸šæ—¶å¯¹äºŽåº”è˜è¿™ä»¶äº‹ä¼šæ¸¸åˆƒæœ‰ä½™çš„å¤šå§ã€‚ è®¡åˆ’æœ‰äº†å¤§å­¦æŠ€æœ¯èµ·æ­¥æ™šçš„é—æ†¾ï¼ŒçŽ°åœ¨æ€Žä¹ˆèƒ½ä¸æ—©ç‚¹åšæ‰“ç®—ã€‚ å¹´åˆçš„æ—¶å€™å¤§æ¦‚æœ‰äº†è‡ªå·±çš„ç¬¬ä¸€ä¸ªâ€œäº”å¹´è®¡åˆ’â€ï¼šä¸¤å¹´ä¸Šæµ·ï¼Œä¸¤å¹´åŒ—äº¬ï¼Œ2020 å¹´çš„æ—¶å€™ç¨³å®šäºŽæ­å·žã€‚è‡³äºŽå±Šæ—¶æ˜¯ä¹°æˆ¿ä¹°è½¦å¹³æ·¡å®‰ç¨³çš„ä¸Šç­ç”Ÿæ´»è¿˜æ˜¯ç ´é‡œæ²‰èˆŸä¸ç”˜å¹³åº¸çš„æŠ€æœ¯åˆ›ä¸šï¼Œå°±åœ¨ä¸‹ä¸€ä¸ªâ€œäº”å¹´è®¡åˆ’â€é‡Œå†³å®šå§ï¼Œæ— è®ºå“ªç§ï¼Œå¯¹è¿™äº”å¹´æ¥è¯´ä¸»è¦ç›®çš„å°±æ˜¯æŠ€æœ¯ç§¯ç´¯ã€‚ç„¶è€Œåœ¨æ¯•ä¸šçš„é‚£æ®µæ—¶é—´è¿˜æ˜¯æ„Ÿè§‰åˆè½å…¥äº†ç±»å¤§å­¦è¿·èŒ«æœŸçš„å¾ªçŽ¯ï¼ŒæŽ¥ä¸‹æ¥çš„äº”å¹´é™¤äº†ç§¯ç´¯æŠ€æœ¯è¿˜åº”è¯¥å¾€ä»€ä¹ˆæ–¹å‘æ€è€ƒã€‚å¤§å­¦ï¼šé™¤äº†å­¦ä¹ å­¦ä¹ è¿˜èƒ½å¹²å˜›ï¼Ÿæ¯•ä¸šï¼šé™¤äº†æŠ€æœ¯æŠ€æœ¯è¿˜èƒ½å¹²å˜›ï¼Ÿåœ¨æŽ¥ä¸‹æ¥çš„äº”å¹´èƒ½å¦åƒå¤§å­¦æœ«æœŸå¹¸è¿çš„æ‰¾åˆ°å…´è¶£èŒä¸šé‚£æ ·ä¹Ÿå¹¸è¿çš„æ‰¾åˆ°å…´è¶£äº‹ä¸šå‘¢ï¼Ÿè€Œä¸”æ—¢ç„¶æœ‰äº†ä¸Šè¾¹çš„æŠ€æœ¯é—æ†¾å½“ç„¶æ˜¯æƒ³è¶Šæ—©å‘çŽ°è¶Šæ—©å‡†å¤‡çš„å¥½ã€‚ çŽ°åœ¨ï¼Œé©¬ä¸Šå°±åˆ°å¹´åº•äº†å¿ƒé‡Œä¹Ÿå¤§æ¦‚æœ‰äº†åº•ï¼Œè™½ç„¶ä¸å¤Ÿåšä¿¡ä½†è‡³å°‘æœ‰äº†å¤§è‡´çš„æ–¹å‘ã€‚æˆ‘ä»¬éƒ½å¾ˆè„†å¼±å½“ç„¶æƒ³å°½é‡é¿å…äº‹ä¸šçš„æ‰“å‡»ï¼Œè¿˜å¥½è¿˜æœ‰ä¸€æ®µæ—¶é—´å¯ä»¥æ…¢æ…¢è°‹å–ï¼Œè¿˜å¥½è¿™ä¸€ç‚¹åœ¨æŠ€æœ¯ä¸Šæ˜¯æœ‰ä¼˜åŠ¿çš„ã€‚16 å¹´å°±è¦ç»“æŸäº†ï¼ŒæŽ¥ä¸‹æ¥å°±æ˜¯ â€œ1+2â€ï¼Œæ­¤å¤„çœç•¥ä¸‰å¹´çš„æ—¶é—´â€¦â€¦ æ€»è¦æœ‰ä¸€äº›æ›´å®žé™…æœ‰ç”Ÿæ´»çš„è®¡åˆ’ï¼š æ—…è¡Œï¼šï¼ˆæˆ–ï¼‰1ã€ä¸‰æœˆä»½åŽ»è¶Ÿé»„å±±ï¼Œ2ã€äº”æœˆä»½éª‘è¡Œé’æµ·æ¹–ï¼Œ3ã€åæœˆä»½åŽ»è¶Ÿæ‹‰è¨ è¯»ä¹¦ï¼š1ã€æŠ€æœ¯ä¹¦ç±ï¼Œ2ã€é¾™åº”å°çš„ä¹¦ï¼Œ 3ã€å…¶ä»–ä¸€äº›å°è¯´ æŠ€æœ¯ï¼š1ã€ç»´æŠ¤æ›´æ–° RDER ï¼Œ2ã€å†™ä¸€æ¬¾ç¬¬ä¸‰æ–¹å¾®åšå®¢æˆ·ç«¯ï¼Œ3ã€æ›´æ–°æŠ€æœ¯åšå®¢ï¼Œ4ã€å†™ä¸€æ¬¾ç‰›é€¼çš„å·¥å…·ç±» Appï¼ˆå¦‚æžœæ¥å¾—åŠï¼‰ å‘¼ï½žå·¥ä½œé‡è¿˜çœŸä¸å°ï¼Œæ—¶é—´çœŸçš„è›®ç´§å¼ ï¼Œæ’¸å¼€è¢–å­ï¼Œå¹²å§ï¼ ç›¸ä¿¡å¤©ç©ºå’Œå¤§æµ·ï¼Œå¯¹äºŽä½ ï¼Œå…¨æ˜¯æœªæ¥ï¼]]></content>
      <categories>
        <category>Life</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOSåº”ç”¨ç¨‹åºè¯­è¨€æœ¬åœ°åŒ–åŠåº”ç”¨å†…è¯­è¨€è®¾ç½®]]></title>
    <url>%2F2016%2F10%2F29%2Fset-language%2F</url>
    <content type="text"><![CDATA[Xcode æ–°å»ºä¸€ä¸ªå·¥ç¨‹çš„é»˜è®¤è¯­è¨€æ˜¯è‹±æ–‡ï¼Œæ‰€ä»¥ä½ åœ¨ app é‡Œç²˜è´´å¤åˆ¶éƒ½æ˜¯æ˜¾ç¤ºçš„ copy pasteï¼Œä½ å¯ä»¥é€šè¿‡åœ¨ info.plst æ–‡ä»¶é‡Œé€‰æ‹© Localization native development region æ¥è®¾ç½®ä¸åŒè¯­è¨€ã€‚ å¯æ˜¯å¦‚æžœä½ æƒ³åœ¨è½¯ä»¶å†…é€‰æ‹©è®¾ç½®è¯­è¨€ï¼Œä¸ºè½¯ä»¶æ·»åŠ å¤šè¯­è¨€é€‰æ‹©åŠŸèƒ½å°±éœ€è¦ä¸€ç•ªæŠ˜è…¾äº†ï¼Œå€’ä¹Ÿç®€å•ï¼Œåªä¸è¿‡è¿˜æ˜¯æœ‰å‡ ä¸ªå‘çš„ã€‚ä»¥ä¸‹æ˜¯ä¸€ç¯‡è¯¦ç»†ä»‹ç»ä¸ºè½¯ä»¶é…ç½®å¤šè¯­è¨€é€‰é¡¹çš„åšå®¢ï¼Œèµ°èµ· âžœ âžœ âžœ å…³äºŽ NSBundleåœ¨å¼€å§‹æ­£å¼æ–‡ç« ä¹‹å‰ä½ æˆ–è®¸åº”å½“å…ˆæžæ˜Žç™½ NSBundle æ˜¯ä»€ä¹ˆä¸œè¥¿ã€‚ Bundle æ˜¯ä¸€ä¸ªç›®å½•ï¼Œå…¶ä¸­åŒ…å«äº†åœ¨ç¨‹åºä¼šä½¿ç”¨åˆ°çš„èµ„æºï¼ŒåŒ…å«äº†å¦‚å›¾åƒã€å£°éŸ³ã€ç¨‹åºä¸­éœ€è¦ç”¨åˆ°çš„æ–‡ä»¶ï¼Œç”šè‡³æ˜¯ç¼–è¯‘å¥½çš„ä»£ç ç­‰ç­‰ã€‚è€Œåœ¨å®žçŽ°è½¯ä»¶å†…é…ç½®è¯­è¨€çš„æ—¶å€™å°±æ˜¯é€šè¿‡ Bundle çš„è·¯å¾„åŽ»èŽ·å–é…ç½®æ–‡ä»¶ï¼Œæ ¹æ®è¿™ä¸ªé…ç½®æ–‡ä»¶å–å‡ºå¯¹åº”çš„å­—ä½“æ¸²æŸ“åˆ° view ä¸Šã€‚ å½“ç„¶ï¼Œé…ç½®ç¨‹åºè¯­è¨€åªæ˜¯ Bundle çš„ä¸€ç§ç”¨é€”ã€‚è¿˜å¯ä»¥ç”¨ Bundle åŽ»èŽ·å–å·¥ç¨‹ä¸­ info.plist çš„è¯¦ç»†ä¿¡æ¯ï¼Œæ¯”å¦‚ï¼š123456789101112131415// èŽ·å–ç‰ˆæœ¬å·ï¼šBundle Short VersionNSString *shortVersion = [[[NSBundle mainBundle] infoDictionary] objectForKey:@"CFBundleShortVersionString"];// èŽ·å–ç‰ˆæœ¬å·ï¼šBundle versionNSString *version = [[[NSBundle mainBundle] infoDictionary] objectForKey:@"CFBundleVersion"];// èŽ·å–åº”ç”¨æ ‡è¯†ï¼šBundle identifierNSString *bundleIdentifier = [[[NSBundle mainBundle] infoDictionary] objectForKey:@"CFBundleIdentifier"];// èŽ·å–åº”ç”¨åç§°ï¼šBundle display nameNSString *bundleDisplayName = [[[NSBundle mainBundle] infoDictionary] objectForKey:@"CFBundleDisplayName"];// èŽ·å–Bundle nameNSString *bundleName = [[[NSBundle mainBundle] infoDictionary] objectForKey:@"CFBundleDisplayName"];// èŽ·å– app åŒ…è·¯å¾„NSString *path = [[NSBundle mainBundle] bundlePath];// èŽ·å– app èµ„æºç›®å½•è·¯å¾„NSString *resPath = [[NSBundle mainBundle] resourcePath];... å¤§æ¦‚æ˜Žç™½ NSBundle æ˜¯æ€Žä¹ˆå›žäº‹äº†å§ï¼ŒæŽ¥ä¸‹æ¥å°±æ­£å¼å¼€å§‹åº”ç”¨ç¨‹åºè¯­è¨€æœ¬åœ°åŒ–åŠåº”ç”¨å†…è¯­è¨€è®¾ç½®ã€‚ é…ç½® Projectæ·»åŠ è¯­è¨€å¦‚ä¸‹å›¾ï¼Œç‚¹å‡» PROJECT -&gt; info -&gt; Localizations è¿™é‡Œé»˜è®¤åªæœ‰ English ç‚¹å‡»ä¸‹æ–¹çš„åŠ å·å¯ä»¥æ·»åŠ ä½ æƒ³è¦çš„è¯­è¨€ï¼Œæ¯”å¦‚è¿™é‡Œæ·»åŠ çš„ä¸­æ–‡ Chinese(Simplifid) ã€‚ æ³¨æ„ï¼š zh-Hans æ˜¯ç®€ä½“ä¸­æ–‡ï¼Œ zh-Hant æ˜¯ç¹ä½“ä¸­æ–‡ã€‚ æ–°å»º .strings é…ç½®æ–‡ä»¶1ã€Command + N æ–°å»º Strings File æ–‡ä»¶ï¼Œå‘½ä»¤ä¸º RDLocalizable ï¼Œä¼šç”Ÿæˆä¸€ä»½ RDLocalizable.strings æ–‡ä»¶ã€‚ 2ã€é€‰ä¸­RDLocalizable.strings æ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾æ“ä½œï¼Œç‚¹å‡» Localize... æŒ‰é’®ï¼Œå·¦ä¾§å¼¹æ¡†ä¸­é€‰æ‹©è¯­è¨€ã€‚ 3ã€ä¹‹åŽå³ä¾§ä¼šå¦‚ä¸‹å›¾æ˜¾ç¤ºï¼Œå‹¾é€‰ä¸Šä½ æƒ³è¦çš„è¯­è¨€å³å¯ï¼ˆBase æ— ç”¨ï¼‰ 4ã€å½“å‹¾é€‰ä¸¤é—¨è¯­è¨€åŽï¼Œä¼šå‘çŽ°RDLocalizable.strings æ–‡ä»¶å¯ä»¥å±•å¼€å¹¶å­˜åœ¨ä¸¤ä¸ªé…ç½®æ–‡ä»¶ï¼Œä¸€ä»½è‹±æ–‡ï¼Œä¸€ä»½ä¸­æ–‡ã€‚åˆ†åˆ«åœ¨ä¸¤ä¸ªæ–‡ä»¶å†…è¾“å…¥å¯¹åº”çš„è¯­è¨€ï¼Œæ¯”å¦‚åœ¨è‹±æ–‡æ–‡ä»¶é‡Œè¾“å…¥ï¼š123"æ”¶å½•" = "Collection";"è®¢é˜…" = "Subscription";"æˆ‘çš„" = "Mine"; ä¸­æ–‡æ–‡ä»¶é‡Œè¾“å…¥ï¼š123"æ”¶å½•" = "æ”¶å½•";"è®¢é˜…" = "è®¢é˜…";"æˆ‘çš„" = "æˆ‘çš„"; å‰è¾¹å¯¹åº” é”®(key) ï¼ŒåŽè¾¹å¯¹å„ä¸ªè¯­è¨€çš„ å€¼(value)ã€‚çœ‹åŽé¢çš„ ä½¿ç”¨æ–¹æ³• å°±ä¼šæ˜Žç™½äº†ã€‚ è‡³æ­¤ï¼Œå¯¹å·¥ç¨‹çš„é…ç½®å·²ç»å®Œæˆã€‚æŽ¥ä¸‹æ¥è¦åšçš„å°±æ˜¯èŽ·å–è½¯ä»¶è¯­è¨€ã€è®¾ç½®è¯­è¨€ã€ç›‘å¬è¯­è¨€æ”¹å˜ã€‚ã€‚ã€‚ åˆ›å»ºå¤šè¯­è¨€è®¾ç½®å·¥å…·ç±»å› ä¸ºè¯¥å·¥å…·ç±»æ¯”è¾ƒç®€å•ï¼Œç›´æŽ¥å°†ä»£ç è´´å‡ºæ¥å§ï¼ŒåŽé¢ä¼šä»‹ç»ä¸€äº›å‘ã€‚å› ä¸ºæ˜¯ä¸€ä¸ªç»§æ‰¿äºŽ NSObject çš„å·¥å…·ç±»ï¼Œéƒ½æ˜¯ä½¿ç”¨ç±»æ–¹æ³•å®žçŽ°åŠŸèƒ½ï¼Œä»¥ä¾¿ç±»åç›´æŽ¥è°ƒç”¨ã€‚ å¤´æ–‡ä»¶.h12345678910111213141516171819202122232425262728293031323334353637383940//// RDLocalizableController.h// rder//// Created by gonghonglou on 2016/10/29.// Copyright Â© 2016å¹´ gonghonglou. All rights reserved.//#import &lt;Foundation/Foundation.h&gt;#define RDLanguageKey @"userLanguage"#define RDCHINESE @"zh-Hans"#define RDENGLISH @"en"#define RDNotificationLanguageChanged @"rdLanguageChanged"#define RDLocalizedString(key) [[RDLocalizableController bundle] localizedStringForKey:(key) value:@"" table:@"RDLocalizable"]@interface RDLocalizableController : NSObject/** * èŽ·å–å½“å‰èµ„æºæ–‡ä»¶ */+ (NSBundle *)bundle;/** * åˆå§‹åŒ–è¯­è¨€æ–‡ä»¶ */+ (void)initUserLanguage;/** * èŽ·å–åº”ç”¨å½“å‰è¯­è¨€ */+ (NSString *)userLanguage;/** * è®¾ç½®å½“å‰è¯­è¨€ */+ (void)setUserlanguage:(NSString *)language;@end å®žçŽ°æ–‡ä»¶.m12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576//// RDLocalizableController.m// rder//// Created by gonghonglou on 2016/10/29.// Copyright Â© 2016å¹´ gonghonglou. All rights reserved.//#import "RDLocalizableController.h"static RDLocalizableController *currentLanguage;@implementation RDLocalizableControllerstatic NSBundle *bundle = nil;// èŽ·å–å½“å‰èµ„æºæ–‡ä»¶+ (NSBundle *)bundle&#123; return bundle;&#125;// åˆå§‹åŒ–è¯­è¨€æ–‡ä»¶+ (void)initUserLanguage&#123; NSString *languageString = [[NSUserDefaults standardUserDefaults] valueForKey:RDLanguageKey]; if(languageString.length == 0)&#123; // èŽ·å–ç³»ç»Ÿå½“å‰è¯­è¨€ç‰ˆæœ¬ NSArray *languagesArray = [[NSUserDefaults standardUserDefaults] objectForKey:@"AppleLanguages"]; languageString = languagesArray.firstObject; [[NSUserDefaults standardUserDefaults] setValue:languageString forKey:@"userLanguage"]; [[NSUserDefaults standardUserDefaults] synchronize]; &#125; // é¿å…ç¼“å­˜ä¼šå‡ºçŽ° zh-Hans-CN åŠå…¶ä»–è¯­è¨€çš„çš„æƒ…å†µ if ([[RDLocalizableController chinese] containsObject:languageString]) &#123; languageString = [[RDLocalizableController chinese] firstObject]; // ä¸­æ–‡ &#125; else if ([[RDLocalizableController english] containsObject:languageString]) &#123; languageString = [[RDLocalizableController english] firstObject]; // è‹±æ–‡ &#125; else &#123; languageString = [[RDLocalizableController chinese] firstObject]; // å…¶ä»–é»˜è®¤ä¸ºä¸­æ–‡ &#125; // èŽ·å–æ–‡ä»¶è·¯å¾„ NSString *path = [[NSBundle mainBundle] pathForResource:languageString ofType:@"lproj"]; // ç”Ÿæˆbundle bundle = [NSBundle bundleWithPath:path];&#125;// è‹±æ–‡ç±»åž‹æ•°ç»„+ (NSArray *)english &#123; return @[@"en"];&#125;// ä¸­æ–‡ç±»åž‹æ•°ç»„+ (NSArray *)chinese&#123; return @[@"zh-Hans", @"zh-Hant"];&#125;// èŽ·å–åº”ç”¨å½“å‰è¯­è¨€+ (NSString *)userLanguage &#123; NSString *languageString = [[NSUserDefaults standardUserDefaults] valueForKey:RDLanguageKey]; return languageString;&#125;// è®¾ç½®å½“å‰è¯­è¨€+ (void)setUserlanguage:(NSString *)language &#123; if([[self userLanguage] isEqualToString:language]) return; // æ”¹å˜bundleçš„å€¼ NSString *path = [[NSBundle mainBundle] pathForResource:language ofType:@"lproj"]; bundle = [NSBundle bundleWithPath:path]; // æŒä¹…åŒ– [[NSUserDefaults standardUserDefaults] setValue:language forKey:RDLanguageKey]; [[NSUserDefaults standardUserDefaults] synchronize]; [[NSNotificationCenter defaultCenter] postNotificationName:RDNotificationLanguageChanged object:currentLanguage];&#125;@end ä½¿ç”¨æ–¹æ³•ï¼š 1ã€åœ¨ AppDelegate çš„ - (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions æ–¹æ³•é‡Œåˆå§‹åŒ–è¯¥å·¥å…·ç±»ï¼Œå¹¶ç›‘å¬é€šçŸ¥ï¼š1234// è¯­è¨€åˆå§‹åŒ–[RDLocalizableController initUserLanguage];// ç›‘æŽ§è¯­è¨€åˆ‡æ¢[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(languageChange:) name:RDNotificationLanguageChanged object:nil]; 2ã€è®°å¾—åœ¨ - (void)applicationWillTerminate:(UIApplication *)applicationæ–¹æ³•é‡Œåˆ é™¤é€šçŸ¥ï¼š1[[NSNotificationCenter defaultCenter] removeObserver:self name:RDNotificationLanguageChanged object:nil]; 3ã€å®žçŽ°é€šçŸ¥æ–¹æ³•ï¼š1234- (void)languageChange:(NSNotification *)note&#123; // åœ¨è¯¥æ–¹æ³•é‡Œå®žçŽ°é‡æ–°åˆå§‹åŒ– rootViewController çš„è¡Œä¸ºï¼Œå¹¶ä¸”æ‰€æœ‰å¸¦æœ‰æ–‡å­—çš„é¡µé¢éƒ½è¦é‡æ–°æ¸²æŸ“ // æ¯”å¦‚ï¼š[UIApplication sharedApplication].keyWindow.rootViewController = ...;&#125; 4ã€ä½¿ç”¨ RDLocalizedString(&lt;#key#&gt;)æ–¹æ³• ç»™æ‰€æœ‰æ–‡å­—æ·»åŠ æœ¬åœ°åŒ–è¯­è¨€æ–¹æ³•ï¼š123label.text = RDLocalizedString(@"æ”¶å½•");[button setTitle:RDLocalizedString(@"è®¢é˜…") forState:UIControlStateNormal];... 5ã€æ›´æ”¹è¯­è¨€æ–¹æ³•ï¼š12345// è®¾ç½®ä¸­æ–‡[RDLocalizableController setUserlanguage:RDCHINESE];// è®¾ç½®è‹±æ–‡[RDLocalizableController setUserlanguage:RDENGLISH]; è‡³æ­¤ï¼Œå¯¹äºŽåº”ç”¨ç¨‹åºè¯­è¨€æœ¬åœ°åŒ–åŠåº”ç”¨å†…è¯­è¨€è®¾ç½®çš„åŠŸèƒ½å°±å·²ç»å¯ä»¥å®žçŽ°äº†ã€‚æŽ¥ä¸‹æ¥æ˜¯å¯¹é‡åˆ°çš„å‡ ä¸ªå‘çš„è¯´æ˜Žã€‚ å¤šè¯­è¨€è®¾ç½®çš„ã€Œå‘ã€å…³äºŽæ›´æ”¹è¯­è¨€åŽé‡æ–°åˆå§‹åŒ–é¡µé¢è¯­è¨€æ›´æ”¹åŽï¼Œè¦é‡æ–°æ¸²æŸ“viewï¼Œæ‰€ä»¥åº”è¯¥åœ¨æ›´æ”¹è¯­è¨€ä¹‹åŽå›žåˆ°æ ¹ç›®å½•ã€‚ä¸ä»…é¡µé¢éœ€è¦åˆå§‹åŒ–ï¼Œå¦‚æžœé¡µé¢æ•°æ®åœ¨ viewModel é‡Œï¼Œé‚£ä¹ˆè¯¥ viewModel ä¹Ÿåº”å½“åˆå§‹åŒ–ï¼Œå› ä¸ºå­—ä½“æ˜¯ RDLocalizedString(&lt;#key#&gt;) è¿™ä¸ªæ–¹æ³•ä»Ž .strings é…ç½®æ–‡ä»¶é‡Œå–å‡ºæ¥çš„ï¼Œæ›´æ”¹è¯­è¨€åŽå¿…é¡»é‡æ–°å–ä¸€æ¬¡ã€‚ å½“ç„¶ä¹Ÿä¸æ˜¯ä¸€å®šè¦ç•™åœ¨æ ¹ç›®å½•ï¼Œæœ‰å‡ ç§é¡µé¢å‹å¥½çš„è§£å†³æ–¹æ¡ˆï¼š 1ã€æ›´æ”¹è¯­è¨€åŠŸèƒ½ä¸€èˆ¬ä¼šæ”¾åœ¨ã€Œæˆ‘çš„ã€é¡µé¢ push å‡ºæ¥çš„æŸä¸€çº§é¡µé¢ï¼Œå¯ä»¥åˆå§‹åŒ– rootViewController å¹¶ä¸”å°†ä¹‹å‰ push å‡ºæ¥çš„å‡ çº§ viewController æ‰‹åŠ¨æ·»åŠ åˆ° mineViewController.navigationController.viewControllers è¿™ä¸ªæ•°ç»„ä¸­ã€‚è¿™æ ·é¡µé¢å°±ä¸ä¼šäº§ç”Ÿå¤ªå¤§çš„é”™è½æ„Ÿã€‚ 2ã€åœ¨æ¯ä¸€ä¸ªé¡µé¢å†™ä¸€ä¸ªæ£€æµ‹è¯­è¨€æ”¹å˜çš„é€šçŸ¥çš„æ–¹æ³•ã€‚å½“æŽ¥å—åˆ°é€šçŸ¥åŽå°±å°†è¯¥é¡µé¢é‡æ–°å¸ƒå±€ä¸€æ¬¡ä»¥æ›´æ”¹å­—ä½“ã€‚ PSï¼šåœ¨è¿™ä¸ªé—®é¢˜ä¸Šï¼Œæ„Ÿè§‰æ”¯ä»˜å®æ¯”å¾®ä¿¡åšçš„ç•Œé¢è·³è½¬å‹å¥½çš„å¤šã€‚ã€‚ã€‚ å…³äºŽæœ¬åœ°åŒ–è¯­è¨€çš„å®å®šä¹‰ RDLocalizedString(&lt;#key#&gt;)ç³»ç»Ÿè‡ªå¸¦çš„æ–¹æ³•æ˜¯ï¼šNSLocalizedString(&lt;#key#&gt;, &lt;#comment#&gt;)ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä»½å®å®šä¹‰ï¼š12#define NSLocalizedString(key, comment) \ [NSBundle.mainBundle localizedStringForKey:(key) value:@"" table:nil] èƒ½çœ‹åˆ°å®ƒè°ƒç”¨çš„æ˜¯ NSBundle.mainBundle ï¼Œè€Œæˆ‘ä»¬åœ¨æ›´æ”¹è¯­è¨€çš„å·¥å…·ç±»é‡Œçš„ bundle å·²ç»æ›´æ”¹äº†ã€‚æ‰€ä»¥ç³»ç»Ÿçš„ NSLocalizedString(&lt;#key#&gt;, &lt;#comment#&gt;) å·²ç»å¤±æ•ˆï¼Œå¿…é¡»é‡å†™ä¸€ä»½å®å®šä¹‰ï¼š1#define RDLocalizedString(key) [[RDLocalizableController bundle] localizedStringForKey:(key) value:@"" table:@"RDLocalizable"] 1ã€å¿…é¡»ä½¿ç”¨è‡ªå·±çš„ç±»åæ¥è°ƒç”¨ç±»æ–¹æ³• [RDLocalizableController bundle] ä»¥èŽ·å–è‡ªå·±çš„ bundle 2ã€table åŽçš„å‚æ•°ä¸º .strings æ–‡ä»¶çš„æ–‡ä»¶åï¼Œè‹¥ä½ åˆ›å»ºçš„æ–‡ä»¶åä¸º Localizable.strings ï¼Œåˆ™è¯¥å‚æ•°å¯ä¸º nil ï¼Œç³»ç»Ÿé»˜è®¤æŒ‰ Localizable.strings æŸ¥æ‰¾ã€‚å¦åˆ™å¿…é¡»é…ç½®æ–‡ä»¶åï¼Œä¸”åªæ˜¯æ–‡ä»¶åï¼Œä¸åŠ  .stringd åŽç¼€ã€‚ å…³äºŽåˆå§‹åŒ–è¯­è¨€ [RDLocalizableController initUserLanguage]åœ¨ initUserLanguage æ–¹æ³•ä¸­æœ‰è¿™æ ·ä¸€æ®µä»£ç æ¥åšåˆ¤æ–­ 1234567if ([[RDLocalizableController chinese] containsObject:languageString]) &#123; languageString = [[RDLocalizableController chinese] firstObject]; // ä¸­æ–‡&#125; else if ([[RDLocalizableController english] containsObject:languageString]) &#123; languageString = [[RDLocalizableController english] firstObject]; // è‹±æ–‡&#125; else &#123; languageString = [[RDLocalizableController chinese] firstObject]; // å…¶ä»–é»˜è®¤ä¸ºä¸­æ–‡&#125; å„ä½å¯èƒ½ä¼šå¯¹è¿™ä¸ªåˆ¤æ–­æ¯”è¾ƒç–‘æƒ‘ï¼Œåœ¨è¿™ä¹‹å‰å·²ç»æœ‰åˆ¤æ–­äº†ï¼šå…ˆèŽ·å–ç”¨æˆ·è®¾ç½®çš„è¯­è¨€ï¼Œæœ‰åˆ™ä½¿ç”¨ç”¨æˆ·è®¾ç½®çš„è¯­è¨€ï¼Œæ²¡æœ‰åˆ™ä½¿ç”¨ç³»ç»Ÿè¯­è¨€ã€‚ ç„¶è€Œå› ä¸ºæŸäº›åŽŸå› ç”¨æˆ·è®¾ç½®è¿‡çš„è¯­è¨€ï¼ˆå¦‚ï¼šzh-Hansï¼‰ä¼šåœ¨å¦ä¸€ä¸ªç›¸åŒå·¥ç¨‹è¿è¡Œä¹‹åŽå°†è¯¥è¯­è¨€æ›´æ”¹ä¸ºzh-Hans-CZï¼›æˆ–è€…ç”¨æˆ·å°†ç³»ç»Ÿè¯­è¨€è®¾ç½®ä¸ºæ—¥æœ¬è¯­æˆ–å…¶ä»–è¯­è¨€ã€‚ å‡ºçŽ°ä»¥ä¸Šæƒ…å†µæ—¶ RDLocalizedString(&lt;#key#&gt;) è¿™ä¸ªæ–¹æ³•ä»Ž .strings é…ç½®æ–‡ä»¶é‡Œæ˜¯åŽ»ä¸åˆ°å¯¹åº”çš„å­—ä½“ï¼Œå°±ä¼šè¿”å›žç©ºã€‚åŽæžœè½»åˆ™é¡µé¢ä¸€ç‰‡ç©ºç™½äº†ï¼Œé‡åˆ™ç›´æŽ¥ crash ï¼Œå¦‚ï¼š1NSArray *array = @[RDLocalizedString(@"æ”¶å½•"), RDLocalizedString(@"è®¢é˜…"), RDLocalizedString(@"æˆ‘çš„")]; // æ•°ç»„ä¸èƒ½å­˜ç©º å°±æƒ³ä½¿ç”¨ NSLocalizedString(&lt;#key#&gt;, &lt;#comment#&gt;) æ–¹æ³•1ã€æœ‰ä¸€ç§æžç«¯æƒ…å†µï¼Œæ¯”å¦‚ï¼šè½¯ä»¶éœ€è¦é…ç½®å¤šå›½è¯­è¨€ï¼Œå¾ˆå¤šå¾ˆå¤šçš„é‚£ä¸€ç§ã€‚ã€‚ã€‚åœ¨ .strings æ–‡ä»¶é‡Œé…ç½®äº†è®¸å¤šå›½å®¶çš„è¯­è¨€ã€‚ç„¶è€Œåœ¨è½¯ä»¶å†…éƒ¨åªæä¾›ä¸­æ–‡ã€è‹±æ–‡ç­‰æŸå‡ ç§è¯­è¨€ï¼Œå…¶ä»–è¯­è¨€æ ¹æ®ç³»ç»Ÿè¯­è¨€è‡ªé€‚åº”ã€‚ä¸æƒ³åœ¨ initUserLanguage æ–¹æ³•é‡Œåšä¸€å¤§å †çš„ä¹±ä¸ƒå…«ç³Ÿçš„åˆ¤æ–­ã€‚åªè¦åœ¨ initUserLanguage çš„åˆ¤æ–­æ–¹æ³• else é‡Œä½¿ç”¨ç³»ç»Ÿè¯­è¨€ï¼š123&#125; else &#123; languageString = [[NSUserDefaults standardUserDefaults] objectForKey:@"AppleLanguages"][0]; // å…¶ä»–é»˜è®¤ä¸ºç³»ç»Ÿè¯­è¨€&#125; 2ã€å¦ä¸€ç§æƒ…å†µï¼Œæ¯”å¦‚ï¼šæ¯æ¬¡ä½¿ç”¨ RDLocalizedString(&lt;#key#&gt;) æ–¹æ³•éƒ½è¦åšå¼•ç”¨ #import &quot;RDLocalizableController.h&quot; å¥½éº»çƒ¦ã€‚å½“ç„¶ä½ å¯ä»¥æŠŠ #import &quot;RDLocalizableController.h&quot; æ”¾åˆ° .pch æ–‡ä»¶é‡Œï¼Œå“¦ï¼Œé¡ºä¾¿æä¸€ä¸‹ .pch æ–‡ä»¶ä¼šæ‹–æ…¢å¯åŠ¨æ—¶é—´ 3ã€è¿˜æœ‰ä¸€ç§æƒ…å†µï¼Œæ¯”å¦‚ï¼šå°±æƒ³ä½¿ç”¨ NSLocalizedString(&lt;#key#&gt;, &lt;#comment#&gt;) æ–¹æ³•ï¼Œè¿˜å¯ä»¥è§£å†³ä»¥ä¸Šä¸¤ç§æƒ…å†µ è¿˜æ˜¯æœ‰æ–¹æ³•ä½¿ç”¨ NSLocalizedString(&lt;#key#&gt;, &lt;#comment#&gt;) çš„ã€‚ä½¿ç”¨ Category ä¸º NSBundle ç±»æ‰©å±•ä¸€ä¸ªè®¾ç½®è¯­è¨€çš„æ–¹æ³•ï¼Œå¹¶ä¸”ä½¿ç”¨ runtime ä¸º NSBundle åŠ¨æ€æ·»åŠ ä¸€ä¸ªå…³äºŽ bundle çš„å±žæ€§ï¼Œé‡è½½ NSBundle.mainBundle çš„ localizedStringForKey æ–¹æ³•ã€‚ç›®çš„å°±æ˜¯å°†æ›´æ”¹çš„å­—ä½“ä¼ ç»™ NSLocalizedString(&lt;#key#&gt;, &lt;#comment#&gt;) æ˜ å°„çš„ localizedStringForKey æ–¹æ³•è¿”å›žçš„ bundle ï¼Œä½¿å¾—æ›´æ”¹çš„å­—ä½“åº”ç”¨åˆ°ç³»ç»Ÿä¸Šã€‚ å¥½å§ï¼Œshow you the code:123456789101112131415161718192021222324252627282930313233#import "NSBundle+RDLanguage.h"#import &lt;objc/runtime.h&gt;static const NSString *RDBundleKey = @"RDLanguageKey";@interface BundleEx : NSBundle@end@implementation BundleEx- (NSString *)localizedStringForKey:(NSString *)key value:(NSString *)value table:(NSString *)tableName &#123; NSBundle *bundle = objc_getAssociatedObject(self, &amp;RDBundleKey); if (bundle) &#123; return [bundle localizedStringForKey:key value:value table:tableName]; &#125; else &#123; return [super localizedStringForKey:key value:value table:tableName]; &#125;&#125;@end@implementation NSBundle (RDLanguage)+ (void)setLanguage:(NSString *)language &#123; static dispatch_once_t onceToken; dispatch_once(&amp;onceToken, ^&#123; object_setClass([NSBundle mainBundle], [BundleEx class]); &#125;); id value = language ? [NSBundle bundleWithPath:[[NSBundle mainBundle] pathForResource:language ofType:@"lproj"]] : nil; objc_setAssociatedObject([NSBundle mainBundle], &amp;RDBundleKey, value, OBJC_ASSOCIATION_RETAIN_NONATOMIC);&#125;@end ä»¥ä¸Šä»£ç æ˜¯ NSBundle çš„ Categoryã€‚è§£é‡Šä¸€ä¸‹å“ˆï¼š1ã€objc_getAssociatedObject å’Œ objc_setAssociatedObject æ˜¯ä¸€å¯¹ getterã€setter æ–¹æ³•ï¼Œç›®çš„æ˜¯ä¸ºäº†ç»™ NSBundle ç±»åŠ¨æ€æ·»åŠ ä¸€ä¸ªå±žæ€§ã€‚2ã€object_setClassï¼šåœ¨ BundleEx é‡Œå®žçŽ°ä¸€ä¸ª localizedStringForKey æ–¹æ³•ï¼Œç„¶åŽå°† BundleEx è¿™ä¸ªç±»è®¾ç½®ç»™ [NSBundle mainBundle] ã€‚ç›®çš„å°±æ˜¯ç›¸å½“äºŽé‡è½½ [NSBundle mainBundle] çš„ localizedStringForKey æ–¹æ³•ã€‚ è¯´æ˜Žï¼šruntime çš„å…·ä½“ç”¨æ³•å’ŒåŽŸç†ï¼Œç”±äºŽåœ¨ä¸‹æ‰ç–å­¦æµ…å°±ä¸å¤šåšè®²è§£äº†ï¼Œå…å¾—è¯¯äººå­å¼Ÿã€‚å…³äºŽæ›´å¤š runtime çš„çŸ¥è¯†å¯ä»¥å­¦ä¹  ä¸€ç¼•æ®‡æµåŒ–éšåŠè¾¹å†°éœœ å†™çš„ ç¥žç»ç—…é™¢Objective-C Runtimeå…¥é™¢ ç³»åˆ—æ–‡ç« ã€‚ å†è¯´æœ¬ç¯‡æ–‡ç« ï¼Œè¯¥ç±»åˆ«æ–°å¢žæ–¹æ³•çš„ä½¿ç”¨ï¼šåœ¨ RDLocalizableController ç±»çš„ + (void)setUserlanguage:(NSString *)language æ–¹æ³•é‡Œï¼Œæœ¬åœ°åŒ–å­˜å‚¨è¯­è¨€ä¹‹åŽï¼Œå‘é€é€šçŸ¥ä¹‹å‰è°ƒç”¨å¦‚ä¸‹æ–¹æ³•ï¼š1[NSBundle setLanguage:language]; ä¹‹åŽï¼Œå…³äºŽ RDLocalizableController ç±»é‡Œè¾¹å…³äºŽ bundle çš„æ“ä½œå°±å¯ä»¥èˆå¼ƒäº†ã€‚ æ³¨æ„ï¼šä½¿ç”¨è¿™ç§æ–¹æ³•è¦ç¡®ä¿ä½ çš„ .strings çš„æ–‡ä»¶åä¸º Localizable.stringså¦åˆ™è¿˜æ˜¯è¦é‡æ–°è®¾ç½®å®å®šä¹‰ï¼š12#define NSLocalizedString(key, comment) \ [NSBundle.mainBundle localizedStringForKey:(key) value:@"" table:@â€œRDLocalizableâ€] è¿™æ ·çš„è¯è¯¥å®å®šä¹‰ä¼šæœ‰ä¸€ä¸ªè­¦å‘Šï¼Œæ¯•ç«Ÿç³»ç»Ÿå·²ç»å®šä¹‰è¿‡äº†çš„ï¼Œè€Œä¸”ä½ è¿˜è¦åˆ°å¤„é‡å®šä¹‰ã€‚ã€‚ã€‚åˆçŠ¯äº†ä¸Šé¢ç¬¬äºŒç§æƒ…å†µçš„å°´å°¬ã€‚ åˆ°è¿™é‡Œï¼Œè¯¥ç¯‡åšå®¢å°±ç»“å°¾äº†ï¼Œå¸Œæœ›èƒ½å¸®åŠ©åˆ°å„ä½ä¸€äºŒç¥å¤§å®¶ç”Ÿæ´»æ„‰å¿«ï¼Œå‹¤å‹‰Coding åŽè®° å°ç™½å‡ºæ‰‹ï¼Œè¯·å¤šæŒ‡æ•™ã€‚å¦‚è¨€æœ‰è¯¯ï¼Œè¿˜æœ›æ–§æ­£ï¼ è½¬è½½è¯·ä¿ç•™åŽŸæ–‡åœ°å€ï¼šhttp://gonghonglou.com/2016/10/29/set-language]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOSä¸­å…³äºŽäºŒç»´ç çš„è¯†åˆ«ä¸Žç”Ÿæˆ]]></title>
    <url>%2F2016%2F07%2F24%2FQRCode%2F</url>
    <content type="text"><![CDATA[æèµ·äºŒç»´ç  QR Code æƒ³å¿…å¤§å®¶éƒ½ä¸å†é™Œç”Ÿï¼Œâ€œæ‰«ä¸€æ‰«åŠ å¥½å‹â€ã€â€œæ‰«ä¸€æ‰«ä»˜æ¬¾â€ç­‰å·²æ˜¯æˆ‘ä»¬æ—¥å¸¸ç”Ÿæ´»ä¸­å¸ç©ºè§æƒ¯çš„æƒ…å½¢ã€‚ ä»¥è¿™ç¯‡åšå®¢æ¥è®²è¿°åœ¨iOSä¸­å…³äºŽäºŒç»´ç çš„è¯†åˆ«ä¸Žç”Ÿæˆï¼Œä¼šå°½å¯èƒ½å‘¨å…¨çš„å°†äºŒç»´ç è¯†åˆ«ä¸Žç”Ÿæˆç›¸å…³çš„æ“ä½œè®²è¿°æ¸…æ¥šã€‚ å…³äºŽäºŒç»´ç ç”Ÿæˆçš„åŽŸç†ï¼Œæ„Ÿå…´è¶£çš„è¯å„ä½å¯ä»¥ç§»é©¾ äºŒç»´ç çš„ç”Ÿæˆç»†èŠ‚å’ŒåŽŸç† ä»¥åšå‚è€ƒã€‚ æ³¨ï¼šæ–‡ä¸­è¯†åˆ«ä¸Žç”ŸæˆäºŒç»´ç çš„æ–¹æ³•åŒæ ·é€‚ç”¨äºŽæ¡å½¢ç ã€‚ å…ˆä¸Šå‡ å¼ äºŒç»´ç åŽ‹åŽ‹æƒŠâ€¦â€¦ è¯†åˆ«äºŒç»´ç æ‘„åƒå¤´æ‰«æäºŒç»´ç iOS7ä¹‹åŽè‹¹æžœæŽ¨å‡ºç³»ç»ŸåŽŸç”ŸAPIæ¥æ”¯æŒé€šè¿‡æ‰«æèŽ·å–äºŒç»´ç çš„åŠŸèƒ½ï¼Œè¾ƒå…¶å®ƒ ZBarã€ZXing ç­‰ç¬¬ä¸‰æ–¹åº“æœ‰æ˜Žæ˜¾çš„æ€§èƒ½ä¼˜åŠ¿ã€‚ é¦–å…ˆï¼Œä½ éœ€è¦å¼„æ¸…æ¥šè¦ç”¨åˆ°çš„ä»¥ä¸‹å¯¹è±¡åˆ†åˆ«èµ·åˆ°ä»€ä¹ˆä½œç”¨ï¼š 1ã€ AVCaptureDeviceï¼šæ•èŽ·æ•°æ®çš„ç‰©ç†è®¾å¤‡ï¼Œå¦‚ï¼šæ‘„åƒæœºã€éº¦å…‹é£Žã€‚ å¼€å…³ç¯å±žæ€§torchModeå°±æ˜¯ç”±å®ƒç®¡ç†çš„ã€‚ 2ã€ AVCaptureSessionï¼šä¼šè¯ï¼Œç®¡ç†è¾“å…¥æµã€è¾“å‡ºæµä¹‹é—´çš„æ•°æ®ä¼ é€’ã€‚ 3ã€ AVCaptureDeviceInputï¼šè¾“å…¥æµï¼Œä»Žç‰©ç†è®¾å¤‡èŽ·å–æ•°æ®ã€‚ 4ã€ AVCaptureMetadataOutputï¼šè¾“å‡ºæµï¼Œéœ€è¦è®¾ç½®è¾“å‡ºæµä»£ç†åŠæ‰€åœ¨çº¿ç¨‹ï¼Œç”±ä»£ç†å¯¹è±¡å¤„ç†è¾“å‡ºæµæ•°æ®ã€‚ éœ€è¦è¯´æ˜Žçš„æ˜¯ï¼š éœ€è¦å°†è¾“å‡ºæµæ·»åŠ åˆ°ä¼šè¯åŽï¼Œæ‰èƒ½æŒ‡å®šå…ƒæ•°æ®ç±»åž‹ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ å°†è¾“å‡ºæµè®¾ç½®åœ¨ä¸»çº¿ç¨‹ä¸­ï¼Œå…¶ä»£ç†æ–¹æ³•ä¼šæ‰§è¡Œä¸€æ¬¡ã€‚è®¾ç½®åœ¨å…¶ä»–çº¿ç¨‹çš„è¯ï¼Œä»£ç†ä¼šæ‰§è¡Œå¤šæ¬¡ä¸”æ¬¡æ•°ä¸å¯æŽ§åˆ¶ã€‚ å¯ä»¥é€šè¿‡è®¾ç½®AVFoundationçš„rectOfInterestå±žæ€§æ¥è®¾å®šæ‰«æåŒºåŸŸï¼Œè¯¥å±žæ€§é»˜è®¤å–å€¼æ˜¯CGRectMake(0, 0, 1, 1)å³å…¨å±æ‰«æxã€yã€widthã€heightçš„å–å€¼èŒƒå›´éƒ½æ˜¯0ï½ž1ï¼Œä¸”åŽŸç‚¹åœ¨å±å¹•å³ä¸Šè§’ï¼Œæ‰€ä»¥å’Œæˆ‘ä»¬æ­£å¸¸ç†è§£çš„CGRectç›¸æ¯”xå’Œyå¯¹è°ƒï¼Œwidthå’Œheightå¯¹è°ƒã€‚ å¦‚å›¾ï¼š 5ã€ AVCaptureVideoPreviewLayerCALayerï¼šé¢„è§ˆå›¾å±‚ï¼Œæ˜¾ç¤ºç›¸æœºæ‹æ‘„åˆ°çš„ç”»é¢ã€‚æ­£å› ä¸ºå®ƒæ˜¯CALayerçš„å­ç±»ï¼Œä¸ºäº†å°†å®ƒæ·»åŠ åˆ°å±å¹•ä¸Šï¼Œæˆ‘ä»¬éœ€è¦é¢å¤–æ·»åŠ ä¸€ä¸ªUIViewï¼Œåœ¨è¿™ä¸ªUIViewçš„layerä¸Šæ·»åŠ AVCaptureVideoPreviewLayerCALayerï¼Œå¦åˆ™å®ƒä¼šè¦†ç›–ä½æ‰€æœ‰çš„æŽ§ä»¶ï¼ˆé™¤éžä½ æŠŠæ‰€æœ‰çš„æŽ§ä»¶éƒ½åœ¨æ·»åŠ è¿™ä¸ªè§†å›¾ä¹‹åŽæ·»åŠ ï¼‰ã€‚ AVCaptureSession è®¾ç½®å¼€å§‹ä¸Žç»“æŸæ‰«æ 12345// å¼€å§‹ä¼šè¯[self.captureSession startRunning];// åœæ­¢ä¼šè¯[self.captureSession stopRunning];self.captureSession = nil; èŽ·å–AVCaptureDeviceå®žä¾‹ åˆå§‹åŒ–è¾“å…¥æµ åˆå§‹åŒ–è¾“å‡ºæµ 3.1.è®¾ç½®ä»£ç†åŠæ‰€åœ¨çº¿ç¨‹ 3.2è®¾ç½®æ‰«æåŒºåŸŸ åˆ›å»ºä¼šè¯ 4.1æ·»åŠ è¾“å…¥æµ 4.2æ·»åŠ è¾“å‡ºæµ *3.3æŒ‡å®šå…ƒæ•°æ®ç±»åž‹ åˆ›å»ºé¢„è§ˆå›¾å±‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647// 1.èŽ·å–AVCaptureDeviceå®žä¾‹self.captureDevice = [AVCaptureDevice defaultDeviceWithMediaType:AVMediaTypeVideo];// 2.åˆå§‹åŒ–è¾“å…¥æµNSError * error;AVCaptureDeviceInput *input = [AVCaptureDeviceInput deviceInputWithDevice:self.captureDevice error:&amp;error];if (!input) &#123; NSLog(@"%@", [error localizedDescription]); return;&#125;// 3.åˆå§‹åŒ–è¾“å‡ºæµAVCaptureMetadataOutput *captureMetadataOutput = [AVCaptureMetadataOutput new];// 3.1è®¾ç½®ä»£ç†åŠæ‰€åœ¨çº¿ç¨‹[captureMetadataOutput setMetadataObjectsDelegate:self queue:dispatch_get_main_queue()];// 3.2è®¾ç½®æ‰«æåŒºåŸŸ[captureMetadataOutput setRectOfInterest:[self scanPlace]];// 4.åˆ›å»ºä¼šè¯self.captureSession = [AVCaptureSession new];// 4.1æ·»åŠ è¾“å…¥æµ[self.captureSession addInput:input];if ([self.captureSession canAddInput:input]) &#123; [self.captureSession addInput:input];&#125;// 4.2æ·»åŠ è¾“å‡ºæµif ([self.captureSession canAddOutput:captureMetadataOutput]) &#123; [self.captureSession addOutput:captureMetadataOutput];&#125;// 3.3æŒ‡å®šå…ƒæ•°æ®ç±»åž‹captureMetadataOutput.metadataObjectTypes = @[AVMetadataObjectTypeUPCECode, AVMetadataObjectTypeCode39Code, AVMetadataObjectTypeCode39Mod43Code, AVMetadataObjectTypeEAN13Code, AVMetadataObjectTypeEAN8Code, AVMetadataObjectTypeCode93Code, AVMetadataObjectTypeCode128Code, AVMetadataObjectTypePDF417Code, AVMetadataObjectTypeQRCode, // äºŒç»´ç  AVMetadataObjectTypeAztecCode];// 5åˆ›å»ºé¢„è§ˆå›¾å±‚self.captureVideoPreviewLayer = [[AVCaptureVideoPreviewLayer alloc] initWithSession:self.captureSession];[self.captureVideoPreviewLayer setVideoGravity:AVLayerVideoGravityResizeAspectFill];[self.captureVideoPreviewLayer setFrame:self.scanView.layer.bounds];[self.scanView.layer addSublayer:self.captureVideoPreviewLayer]; AVCaptureMetadataOutput çš„ä»£ç†æ–¹æ³•å¤„ç†è¾“å‡ºæµï¼Œè¿”å›žæ‰«æç»“æžœ 123456789101112#pragma mark - ä»£ç†æ–¹æ³•å¤„ç†è¾“å‡ºæµ- (void)captureOutput:(AVCaptureOutput *)captureOutput didOutputMetadataObjects:(NSArray *)metadataObjects fromConnection:(AVCaptureConnection *)connection &#123; if (metadataObjects != nil &amp;&amp; [metadataObjects count] &gt; 0) &#123; AVMetadataMachineReadableCodeObject *metadataObj = [metadataObjects objectAtIndex:0]; NSString *result = metadataObj.stringValue; NSLog(@"result:%@", result); if ([[metadataObj type] isEqualToString:AVMetadataObjectTypeQRCode]) &#123; NSLog(@"äºŒç»´ç "); &#125; // ... [self closeScanQRCode]; &#125;&#125; å¼€ç¯ ç»™å¼€å…³ç¯æŒ‰é’®è°ƒç”¨ä»¥ä¸‹ AVCaptureDevice æ–¹æ³•ï¼Œè½»æ¾å®žçŽ°å¼€ç¯æ•ˆæžœ 123456789101112- (void)turnLight &#123; // åˆ¤æ–­å…è®¸è®¾ç½® if ([self.device hasTorch]) &#123; [self.device lockForConfiguration:nil]; if (self.device.torchMode == AVCaptureTorchModeOff) &#123; [self.device setTorchMode:AVCaptureTorchModeOn]; // å¼€ç¯ &#125; else if (self.device.torchMode == AVCaptureTorchModeOn) &#123; [self.device setTorchMode:AVCaptureTorchModeOff]; // å…³ç¯ &#125; [self.device unlockForConfiguration]; &#125;&#125; æ€»ç»“ä¸‹æ¥å°±æ˜¯ï¼šAVCaptureSessionç®¡ç†ä»Žç‰©ç†è®¾å¤‡AVCaptureDeviceé‚£é‡ŒèŽ·å–çš„è¾“å…¥æµAVCaptureDeviceInputæ•°æ®é€šè¿‡è¾“å‡ºæµAVCaptureMetadataOutputæ˜¾ç¤ºåˆ°é¢„è§ˆå›¾å±‚AVCaptureVideoPreviewLayerCALayerä¸Šå¹¶ä¸”ç”±ä»£ç†æ–¹æ³•-(void)captureOutput:(AVCaptureOutput*)captureOutput didOutputMetadataObjects:(NSArray*)metadataObjects fromConnection:(AVCaptureConnection*)connection;å¤„ç†æ•èŽ·åˆ°çš„æ•°æ®ã€‚ ç›¸å†Œè¯†åˆ«äºŒç»´ç  iOS8ä¹‹åŽç³»ç»Ÿæä¾›çš„è¯†åˆ«äºŒç»´ç å›¾ç‰‡çš„æ–¹æ³•ç›¸å½“ç®€å• 123456789// è¯»å–äºŒç»´ç UIImage *sourceImage ï¼ ...;CIContext *context = [CIContext contextWithOptions:nil];CIDetector *detector = [CIDetector detectorOfType:CIDetectorTypeQRCode context:context options:@&#123;CIDetectorAccuracy:CIDetectorAccuracyHigh&#125;];CIImage *image = [CIImage imageWithCGImage:sourceImage.CGImage];NSArray *array = [detector featuresInImage:image];CIQRCodeFeature *feature = [array firstObject];NSString *result = feature.messageString;NSLog(@"result:%@", result); UIImagePickerController æ‰“å¼€ç³»ç»Ÿç›¸å†Œï¼Œé€‰æ‹©å›¾ç‰‡è¯†åˆ«ï¼š 1234567- (void)openPhotoLibrary &#123; UIImagePickerController *photoPicker = [UIImagePickerController new]; photoPicker.delegate = self; // æ‰“å¼€çš„ç›¸å†Œç±»åž‹ photoPicker.sourceType = UIImagePickerControllerSourceTypePhotoLibrary; [self presentViewController:photoPicker animated:YES completion:NULL];&#125; UIImagePickerController çš„ä»£ç†æ–¹æ³•è¯†åˆ«ç›¸å†Œä¸­é€‰ä¸­çš„äºŒç»´ç ï¼š 1234567891011121314#pragma mark - UIImagePickerControllerDelegate- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info &#123; [self dismissViewControllerAnimated:YES completion:^&#123; // è¯»å–äºŒç»´ç  UIImage *sourceImage = [info objectForKey:UIImagePickerControllerOriginalImage]; CIContext *context = [CIContext contextWithOptions:nil]; CIDetector *detector = [CIDetector detectorOfType:CIDetectorTypeQRCode context:context options:@&#123;CIDetectorAccuracy:CIDetectorAccuracyHigh&#125;]; CIImage *image = [CIImage imageWithCGImage:sourceImage.CGImage]; NSArray *array = [detector featuresInImage:image]; CIQRCodeFeature *feature = [array firstObject]; NSString *result = feature.messageString; NSLog(@"result:%@", result); &#125;];&#125; ç”ŸæˆäºŒç»´ç  ä½¿ç”¨ç³»ç»Ÿæä¾›çš„CIFilterå¯ä»¥æ–¹ä¾¿ç®€å•çš„ç”ŸæˆäºŒç»´ç  ç”ŸæˆäºŒç»´ç æ–¹æ³• 12345678910111213141516- (UIImage *)generateQRCode:(NSString *)code width:(CGFloat)width height:(CGFloat)height &#123; CIImage *qrcodeImage; NSData *data = [code dataUsingEncoding:NSUTF8StringEncoding allowLossyConversion:false]; CIFilter *filter = [CIFilter filterWithName:@"CIQRCodeGenerator"]; [filter setValue:data forKey:@"inputMessage"]; [filter setValue:@"H" forKey:@"inputCorrectionLevel"]; qrcodeImage = [filter outputImage]; // æ¶ˆé™¤æ¨¡ç³Š CGFloat scaleX = width / qrcodeImage.extent.size.width; // extent è¿”å›žå›¾ç‰‡çš„frame CGFloat scaleY = height / qrcodeImage.extent.size.height; CIImage *transformedImage = [qrcodeImage imageByApplyingTransform:CGAffineTransformScale(CGAffineTransformIdentity, scaleX, scaleY)]; return [UIImage imageWithCIImage:transformedImage];&#125; ä½¿ç”¨ CIFilter ç”Ÿæˆå¸¦èƒŒæ™¯è‰²çš„äºŒç»´ç  12345678910111213141516171819202122- (UIImage *)gaveColor:(NSString *)code width:(CGFloat)width height:(CGFloat)height &#123; NSData *data = [code dataUsingEncoding:NSUTF8StringEncoding allowLossyConversion:false]; CIFilter *filter = [CIFilter filterWithName:@"CIQRCodeGenerator"]; [filter setValue:data forKey:@"inputMessage"]; [filter setValue:@"H" forKey:@"inputCorrectionLevel"]; //ä¸Šè‰² CIFilter *colorFilter = [CIFilter filterWithName:@"CIFalseColor" keysAndValues: @"inputImage",filter.outputImage, @"inputColor0",[CIColor colorWithCGColor:[UIColor purpleColor].CGColor], // å‰æ™¯è‰² @"inputColor1",[CIColor colorWithCGColor:[UIColor cyanColor].CGColor], // èƒŒæ™¯è‰² nil]; CIImage *qrcodeImage = colorFilter.outputImage; // æ¶ˆé™¤æ¨¡ç³Š CGFloat scaleX = width / qrcodeImage.extent.size.width; // extent è¿”å›žå›¾ç‰‡çš„frame CGFloat scaleY = height / qrcodeImage.extent.size.height; CIImage *transformedImage = [qrcodeImage imageByApplyingTransform:CGAffineTransformScale(CGAffineTransformIdentity, scaleX, scaleY)]; return [UIImage imageWithCIImage:transformedImage];&#125; é€šè¿‡éåŽ†å›¾ç‰‡çš„åƒç´ ç»™äºŒç»´ç ä¸ªæ€§åŒ–ä¸Šè‰² è¿™é‡Œéœ€è¦æŒ‡å‡ºçš„æ˜¯ï¼Œå¦‚æžœä½ åœ¨ä¸‹è¾¹æ–¹æ³•ä¸­ä¼ å…¥çš„ image æ˜¯é€šè¿‡ CIFilter æ–¹æ³•ç›´æŽ¥ç”Ÿæˆçš„ï¼Œé‚£ä¹ˆè¯¥æ–¹æ³•æ˜¯æ²¡æ³•å·¥ä½œçš„ã€‚åŒç†ï¼Œä¸‹ä¸€èŠ‚ä¸­ä¿å­˜å›¾ç‰‡æ—¶ä»ç„¶ä¸èƒ½ç”¨ CIFilter æ–¹æ³•ç›´æŽ¥ç”Ÿæˆçš„ imageï¼Œè€Œé‡‡ç”¨ CGContextRef èŽ·å–å›¾ç‰‡ã€‚ï¼ˆå‚è§ä¸‹ä¸€èŠ‚ï¼šä¿å­˜äºŒç»´ç ï¼‰ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051// é¢œè‰²å˜åŒ–void ProviderReleaseData (void *info, const void *data, size_t size) &#123; free((void *)data);&#125;- (UIImage *)imageBlackToTransparent:(UIImage *)image &#123; // åˆ†é…å†…å­˜ const int imageWidth = image.size.width; const int imageHeight = image.size.height; size_t bytesPerRow = imageWidth * 4; uint32_t *rgbImageBuf = (uint32_t *)malloc(bytesPerRow * imageHeight); // åˆ›å»ºcontext CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB(); CGContextRef context = CGBitmapContextCreate(rgbImageBuf, imageWidth, imageHeight, 8, bytesPerRow, colorSpace,kCGBitmapByteOrder32Little | kCGImageAlphaNoneSkipLast); CGContextDrawImage(context, CGRectMake(0, 0, imageWidth, imageHeight), image.CGImage); // éåŽ†åƒç´  int pixelNum = imageWidth * imageHeight; uint32_t *pCurPtr = rgbImageBuf; for (int i = 0; i &lt; pixelNum; i++, pCurPtr++) &#123; if ((*pCurPtr &amp; 0xFFFFFF00) &lt; 0x99999900) &#123; // æ”¹å˜ä¸‹é¢çš„ä»£ç ï¼Œå°†å›¾ç‰‡è½¬æˆæƒ³è¦çš„é¢œè‰² uint8_t *ptr = (uint8_t *)pCurPtr; if (i&lt;pixelNum/2) &#123; ptr[3] = 1; //0~255 ptr[2] = 200; ptr[1] = 200; &#125; else &#123; ptr[3] = 200; //0~255 ptr[2] = 1; ptr[1] = 200; &#125; &#125; else &#123; // ç™½è‰² 255,255,255 uint8_t *ptr = (uint8_t *)pCurPtr; ptr[0] = 0; &#125; &#125; // å°†å†…å­˜è½¬æˆimage CGDataProviderRef dataProvider = CGDataProviderCreateWithData(NULL, rgbImageBuf, bytesPerRow * imageHeight,ProviderReleaseData); CGImageRef imageRef = CGImageCreate(imageWidth, imageHeight, 8, 32, bytesPerRow, colorSpace,kCGImageAlphaLast | kCGBitmapByteOrder32Little, dataProvider, NULL, true, kCGRenderingIntentDefault); CGDataProviderRelease(dataProvider); UIImage *resultUIImage = [UIImage imageWithCGImage:imageRef]; // é‡Šæ”¾ CGImageRelease(imageRef); CGContextRelease(context); CGColorSpaceRelease(colorSpace); return resultUIImage;&#125; ç”Ÿæˆæ¡ç å›¾ç‰‡ 123456789101112131415- (UIImage *)generateBarCode:(NSString *)code width:(CGFloat)width height:(CGFloat)height &#123; CIImage *barcodeImage; NSData *data = [code dataUsingEncoding:NSISOLatin1StringEncoding allowLossyConversion:false]; CIFilter *filter = [CIFilter filterWithName:@"CICode128BarcodeGenerator"]; [filter setValue:data forKey:@"inputMessage"]; barcodeImage = [filter outputImage]; // æ¶ˆé™¤æ¨¡ç³Š CGFloat scaleX = width / barcodeImage.extent.size.width; // extent è¿”å›žå›¾ç‰‡çš„frame CGFloat scaleY = height / barcodeImage.extent.size.height; CIImage *transformedImage = [barcodeImage imageByApplyingTransform:CGAffineTransformScale(CGAffineTransformIdentity, scaleX, scaleY)]; return [UIImage imageWithCIImage:transformedImage];&#125; ä¿å­˜äºŒç»´ç 12345678910111213// å¼€å¯ä½å›¾ä¸Šä¸‹æ–‡UIGraphicsBeginImageContextWithOptions(self.imageView.bounds.size, NO, 0);// èŽ·å–ç»˜å›¾ä¸Šä¸‹æ–‡CGContextRef context = UIGraphicsGetCurrentContext();// å°†å›¾ç‰‡æ¸²æŸ“çš„ä¸Šä¸‹æ–‡ä¸­[self.imageView.layer renderInContext:context];// èŽ·å–ä¸Šä¸‹æ–‡ä¸­çš„å›¾ç‰‡UIImage *image = UIGraphicsGetImageFromCurrentImageContext();// å…³é—­ä½å›¾ä¸Šä¸‹æ–‡UIGraphicsEndImageContext();// ä¿å­˜å›¾ç‰‡UIImageWriteToSavedPhotosAlbum(image, self, @selector(image:didFinishSavingWithError:contextInfo:), nil); UIImageWriteToSavedPhotosAlbum æ–¹æ³•çš„æŒ‡å®šå›žè°ƒï¼Œç›‘æµ‹ä¿å­˜æ˜¯å¦æˆåŠŸ 123456789#pragma mark - æŒ‡å®šå›žè°ƒæ–¹æ³•- (void)image:(UIImage *)image didFinishSavingWithError:(NSError *)error contextInfo:(void *)contextInfo &#123; NSString *string; if(!error)&#123; NSLog(@"save success"); &#125;else&#123; NSLog(@"save failed"); &#125; &#125; çœ‹ä¸€å“ˆæ•ˆæžœå›¾ okï¼Œå°±è¿™äº›å§ã€‚Demoåœ°å€ï¼šhttps://github.com/gonghonglou/QRCodeDemo å†™åˆ°è¿™é‡Œä¼°è®¡æ¶‰åŠäº†äºŒç»´ç æ“ä½œçš„å¤§éƒ¨åˆ†å†…å®¹ï¼ŒæœŸæœ›å¯¹è¯¸å›æœ‰æ‰€å¸®åŠ©ã€‚ ç¥å¤§å®¶æ•²ç æ„‰å¿«ï¼ åŽè®° å°ç™½å‡ºæ‰‹ï¼Œè¯·å¤šæŒ‡æ•™ã€‚å¦‚è¨€æœ‰è¯¯ï¼Œè¿˜æœ›æ–§æ­£ï¼ è½¬è½½è¯·ä¿ç•™åŽŸæ–‡åœ°å€ï¼šhttp://gonghonglou.com/2016/07/24/QRCode]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ä¸½æ±Ÿä¹‹è¡Œ]]></title>
    <url>%2F2016%2F05%2F19%2Flijiang%2F</url>
    <content type="text"><![CDATA[æœ¬æ¥å°±æ‰“ç®—ä¸€åœºæ¯•ä¸šæ—…è¡Œå•Šï¼Œåªæ˜¯å› ä¸ºæ²¡æœ‰æ‰¾åˆ°å°ä¼™ä¼´åŒè¡Œæ‰€ä»¥è¿Ÿè¿Ÿæœªå®šã€‚æŸæ—¥å¤œï¼ŒYuå°RongåŒå­¦çªå‡ºå¥‡æƒ³æ‰“å·¥æ¢å®¿é‚€æ¸¸ä¸½æ±Ÿã€‚ä¸€æ‹è€Œå’Œï¼ æœ€åˆçš„æƒ³æ³•æ˜¯æ‰“å·¥æ¢å®¿äºŒåå¤©å·¦å³ï¼Œç„¶è€Œä¸½æ±Ÿå®¢æ ˆæ‹›ä¹‰å·¥å¤§éƒ½è¦å¥³å­©å­å•Šã€‚æžä¸æ‡‚çœ‹çœ‹å®¢æ ˆå®¶é—¨è€Œå·²å–½ï¼Œèº«å¼ºåŠ›å£®çš„å°ä¼™å­å°±è¿™ä¹ˆå—æ­§è§†å—ã€‚ã€‚ã€‚ æ‰€ä»¥Yuå°RongåŒå­¦é¡ºåˆ©æ‰¾åˆ°ä¸€å®¶æš–æš–çš„å®¢æ ˆåšä¹‰å·¥ï¼Œè€Œæˆ‘â€¦æ”¾å¼ƒå—ï¼ŸNOï¼è‹¦å¯»ä¹‰å·¥æ— æžœä¹‹åŽæžœæ–­é€‰æ‹©ä½å®¿é’æ—…ï¼Œä¹Ÿç®—ç©·æ¸¸ä¸½æ±Ÿå•¦ï¼ æœ‰æ„æ€çš„æ˜¯åœ¨æŸå›¢ä¸Šè®¢æˆ¿é—´æ—¶æŸé’æ—…æœ‰ä¸‰ç§æˆ¿é—´ï¼šæ··ä½æˆ¿é—´ã€ç”·ç”Ÿæˆ¿é—´ã€å¥³ç”Ÿæˆ¿é—´ï¼Œä»·æ ¼ç›¸åŒã€‚ä¸æ˜Žç™½è¯¥é’æ—…æ˜¯æŠ¥ä»¥ä»€ä¹ˆæ ·çš„æƒ³æ³•åŠ å…¥äº†æ··ä½æˆ¿é—´çš„å‘¢ï¼ˆåç¬‘ï¼‰å½“æˆ‘æŠŠè¿™ä»¶äº‹å‘ŠçŸ¥Yuå°RongåŒå­¦å¹¶å¾—çŸ¥æˆ‘è®¢çš„æ˜¯ç”·ç”Ÿæˆ¿é—´è€Œéžæ··ä½æˆ¿é—´æ—¶ç«Ÿç„¶åæ§½æˆ‘ï¼šæ³¨å­¤ç”Ÿï¼é¢ï¼Œå¥½åƒé”™è¿‡äº†ä»€ä¹ˆï¼Œæ´»è¯¥å•èº«ç‹—å•Šå“ˆå“ˆå“ˆ 12å·ï¼ï¼å‡ºå‘ä¸½æ±Ÿåç‚¹å‡ºé—¨ä»Žæµ¦ä¸œå¥”èµ´ä¸Šæµ·è™¹æ¡¥ï¼ŒåäºŒç‚¹åŠ¨è½¦å¼€å¾€æ­å·žï¼Œä¸‹åˆä¸¤ç‚¹æœºåœºå¤§å·´ä»Žæ­å·žä¸œç«™å¼€å¾€è§å±±æœºåœºã€‚å…­ç‚¹å››åèµ·é£žï¼Œæ—¶é—´è¿˜æ˜¯æŒºå……è¶³çš„ï¼ è§å±±æœºåœº ä¸‰å°æ—¶åŽä¸‰ä¹‰æœºåœºå’ŒæŸä¸ªå‚»å‚»å¥³å­© ä¸€ç¿»å¥”æ³¢ï¼Œå®‰é¡¿äº†Yuå°RongåŒå­¦åœ¨å®¢æ ˆï¼Œç„¶åŽèµ¶åˆ°é’æ—…å·²æ˜¯åäºŒç‚¹å¤šã€‚é’æ—…è™½è¯´æ˜¯å…­å¼ åºŠå´æ˜¯æˆ‘ä¸€äººä½è¿˜æ˜¯æ£’æ£’å“’ï¼å¯èƒ½çŽ°åœ¨æ˜¯æ—…æ¸¸æ·¡å­£çš„ç¼˜æ•…å§ã€‚ 13å·ï¼ï¼æŸæ²³å¤é•‡ä»Šå¤©æ˜¯ä¼‘é—²çš„ä¸€å¤©ã€‚è€Œä¸”æ„Ÿè§‰ä¸½æ±Ÿæ˜¯ä¸€ä¸ªæ…¢èŠ‚å¥çš„å¤é•‡ï¼Œå¥½å¤šäººæ¥æ—…æ¸¸åº¦å‡ï¼Œä¹Ÿæœ‰å¾ˆå¤šäººæ¥æ—…è¡Œä¼‘æ†©ã€‚ç›¸æ¯”ä¸Šæµ·çš„å¿«èŠ‚å¥ç”Ÿæ´»çªç„¶åˆ°è¿™é‡Œè¿˜æ˜¯æœ‰äº›ç¨ç¨ä¸é€‚åº”çš„ï¼Œæ˜¯é‚£ç§æ²¡æœ‰ä»Žå¿ƒåº•å®Œå…¨æ”¾æ¾çš„æ„Ÿè§‰ã€‚ä¸è¿‡å¥½ä¸å®¹æ˜“æ¥è¿™ä¸€è¶Ÿè¿˜æ˜¯éžå¸¸äº«å—è¿™é‡Œæƒ¬æ„ã€èˆ’é€‚ã€ä¼‘é—²çš„æ…¢èŠ‚å¥ç”Ÿæ´»çš„ã€‚æƒ³æƒ³æœ‰åŠæœˆå¤šçš„è¿™ç§æ—…è¡Œç”Ÿæ´»è¿˜æ˜¯è›®æ¿€åŠ¨çš„ðŸ˜„ æ—©æ™¨èµ·æ¥æ‰çœ‹æ¸…ä½çš„é™¢å­çš„çœŸé¢ç›®ï¼Œä¸é”™å“¦ã€‚ ä¸Šåˆå°±æ‚ é—²åœ°å¾…åœ¨å°ä¼™ä¼´åœ¨çš„å®¢æ ˆé‡Œï¼Œå¤§å¤§çš„é™¢å­ã€‚ åˆé¥­åŽæ¼«æ­¥äºŽæŸæ²³å¤é•‡çš„å„æ¡è¡—é“é‡Œï¼Œæˆ¿å±‹å¤§å¤šéƒ½æ˜¯æœ¨è´¨çš„ å¥½å¤šæ‰‹é¼“åº—ï¼Œè€Œä¸”éƒ½æ”¾ç€é‚£é¦–ç”± æœ€ç¾Žä¸½æ±Ÿæ‰‹é¼“å¥³å­© ç«èµ·æ¥çš„æ¬¢å¿«çš„ã€Šæˆ‘çš„å°å®è´ã€‹ å›žé’æ—…ä¼‘æ¯çš„è·¯ä¸Šè·¯è¿‡ä¸€å®¶å«å–œé¹Šçš„å°é…’å§ï¼Œå¥½åƒå¾ˆçƒ­é—¹çš„æ ·å­ï¼Œå°±åˆ°ä¸Šè¾¹åäº†ä¸€ä¼šã€‚æ·±å¤œï¼Œç‚¹ä¸€æ¯é¥®æ–™å¬å‡ é¦–æ­Œâ€¦â€¦ 14å·ï¼ï¼æ‹‰å¸‚æµ·åœ¨çº³è¥¿æ—ä¸­ï¼Œâ€œæ‹‰â€ä¸ºè’åï¼Œâ€œå¸‚â€ä¸ºæ–°ã€‚â€œæ‹‰å¸‚â€æ„ä¸ºæ–°çš„è’åã€‚æ‹‰å¸‚æµ·åœ¨å½“åœ°äººå£ä¸­ä¹Ÿç§°ä¸ºè€å¸‚æµ·ã€‚ä¸Šåˆåç‚¹åŠåŒ…è½¦å‰å¾€æ‹‰å¸‚æµ·é©¬åœºï¼Œè¿™è¾¹çœŸçš„æœ‰å¥½å¤šé©¬åœºï¼Œä¼šæœ‰å¾ˆå¤šæ¸¸å®¢æ¥éª‘é©¬ã€‚è¿™é‡Œçš„é©¬ä¸ªå¤´æ¯”è¾ƒçŸ®ï¼Œä¸è¿‡æ®é©¬å¤«è®²è¿™é‡Œçš„é©¬è„šåŠ›ç‰¹åˆ«å¥½ï¼Œæ“…è´Ÿé‡ã€‚ èŒ¶é©¬å¤é“ä¸Šæ•èŽ·è½¯å¦¹å­ä¸€åªï¼Œè¿™ä¹ˆç¾Žå¥½æƒ³ä¸Šå‰æ­è®ªå‘€ðŸ˜ ä¸­åˆåˆ°æ‹‰å¸‚æµ·æµ·ä¸Šä¼šæ‰€åƒè¿‡åˆé¥­åŽå°±å¼€å§‹åˆ’èˆ¹äº†å˜›ã€‚å¯æƒœä»Šå¤©é˜´å¤©ï¼Œä¸ç„¶å°±èƒ½çœ‹åˆ°æ‹‰å¸‚æµ·æ¸…æ¾ˆç¾Žä¸½çš„æ¹–é¢ä¸Šå€’æ˜ ç€è”šè“çš„å¤©ç©ºå’Œå¤©ç©ºé‡Œæ´ç™½çš„æ£‰èŠ±ç³– ä»—æ¡¨å¤©æ¶¯ï¼ ç¾Žä¸½æ¹–ç•” 15å·ï¼ï¼é›¨ä¸€æ•´å¤©éƒ½åœ¨ä¸‹é›¨ï¼Œä¸çŸ¥æ˜¯å› ä¸ºè¿˜æ²¡é€‚åº”ä¸½æ±Ÿçš„æ…¢èŠ‚å¥è¿˜æ˜¯å› ä¸ºä¸€ä¸ªäººçš„å­¤ç‹¬ï¼Œä»Šå¤©æ¸…æ™°çš„æ„Ÿè§‰åˆ°å¯¹è¿™é‡Œ æˆ‘æ²¡æœ‰å½’å±žæ„Ÿã€‚ç¾Žä¸½çš„ä¸½æ±Ÿã€‚ ï¼: Iâ€™m sorry.ï¼: For what?ï¼:ï¼: For this.Youâ€™re so beautiful,i canâ€™t control myself. 16å·ï¼ï¼ä¸½æ±Ÿå¤åŸŽä¸‡å¹¸ä»Šå¤©æ²¡ä¸‹é›¨ï¼Œå¯ä»¥åŽ»å¤åŸŽé€›ä¸€é€›ã€‚æ¥ä¸½æ±Ÿå·²æœ‰å‡ å¤©äº†ï¼Œä»Šå¤©æ‰åŽ»å¤åŸŽçŽ©äº†ã€‚å°¤å…¶æƒ³åŽ»çœ‹çœ‹å¤§å†°çš„å°å±‹ã€‚å¯¹äºŽå¤§å†°ï¼Œç›¸æ¯”è¯»è€…ç²‰ä¸æˆ‘æƒ³æˆ‘æ›´æ˜¯ã€Šé˜³å…‰å¿«è½¦é“ã€‹çš„è§‚ä¼—ï¼Œé‚£æ˜¯å„¿æ—¶çš„è®°å¿†ï¼Œæ¯å‘¨å…­çš„ç²¾å½©èŠ‚ç›®ï¼Œé™ªä¼´å¤§å†°åœ¨ã€Šé˜³å…‰å¿«è½¦é“ã€‹é‡Œä»Žå¤–æ™¯ä¸»æŒäººåˆ°èŠ‚ç›®æ‰›æŠŠå­ðŸ˜„ ä¸½æ±Ÿå¤åŸŽ æ™šä¸Šå›žé’æ—…è·¯è¿‡æ²¡æœ‰åå­—çš„æ‰‹é¼“åº—ï¼Œç¾Žç¾Žçš„è€æ¿å¨˜ æš–æš–çš„åœŸå®¶æ—å¦¹å­ã€‚å¾…äº†å¥½é•¿æ—¶é—´ï¼Œæ‰‹é¼“æ²¡æ‰“å‡ ä¸‹å€’æ˜¯èŠäº†å¥½ä¹…ï¼ŒåŸºæœ¬éƒ½æ˜¯è€æ¿å¨˜åœ¨è®²ï¼šè®²æ¥ä¸½æ±Ÿå‰åšè£…ä¿®è®¾è®¡æ—¶çš„å—¨ç¿»ç”Ÿæ´»ï¼›è®²å¦ˆå¦ˆæ²¡æœ‰æ–‡é‡‡å´æœ‰é“ç†çš„ç”Ÿæ„ä¹‹é“ï¼›è®²ç®—æ˜¯â€œå‰ç”·å‹â€çš„åˆ»éª¨ç»åŽ†ï¼›è®²å¿«è¦ç»“å©šçš„ç”·æœ‹å‹çš„ä¹ æ€§å’Œå¥¹ä»¬ä¹‹é—´ç›¸è¯†ç»åŽ†ç”Ÿæ´»å°äº‹è¿˜æœ‰è€æ¿å¨˜çˆ±åƒé†‹çš„å°æ€§å­ã€‚ç‡•å§ï¼Œä¸€ä¸ªæœ‰æ•…äº‹çš„æ‰‹é¼“è€æ¿å¨˜ï¼Œä¸ç”±å¾—è®©äººæ„Ÿè§‰äº²è¿‘ã€‚ä¸‹æ–‡æœ‰ç…§ç‰‡å“¦ï½ž 17å·ï¼ï¼å†æ¸¸å¤åŸŽä»Šå¤©æ˜¯ä¸ªå¥½å¤©æ°”ï¼Œæ€Žä¹ˆèˆå¾—ä¸å‡ºåŽ»ã€‚åœ¨ä¸½æ±Ÿçš„è¿™å‡ å¤©æ™´æœ—çš„å¤©ç©ºå°±æ˜¯æœ€ç¨€æœ‰ç¾Žä¸½çš„é£Žæ™¯ã€‚ ä¸“é—¨åˆ°å¤§å†°çš„å°å±‹é‡ŒåŽ»åäº†åï¼Œä¸€ç“¶é£ŽèŠ±é›ªæœˆï¼Œä¸€ä¸‹åˆã€‚å°å±‹é‡Œéƒ½æ˜¯æ¥è‡ªäº”æ¹–å››æµ·çš„æœ‹å‹ï¼Œè€Œä¸”å¤§éƒ½æ˜¯å¥³å­©å­å‘¢ã€‚é©»å”±æ­Œæ‰‹é—®å¤§å®¶æƒ³å¬ä»€ä¹ˆæ­Œï¼Œå¤§å®¶ç‚¹äº†ä¸€åœˆï¼Œä»–åªç­”ï¼šä¸ä¼šã€æ²¡å¬è¿‡ã€‚ä»–è¯´ä¸ç‚¹æ­Œçš„ï¼Œåªæ˜¯é‚£ä¹ˆéšå£é—®é—®233ï¼Œæƒ³èµ·ä»€ä¹ˆå”±ä»€ä¹ˆã€‚ä»–æƒ³èµ·äº†ç”œèœœèœœï¼Œå¤§å®¶é¼“æŽŒæœŸå¾…é‚£é¦–ç»å…¸è€æ­Œï¼Œåªæ˜¯ç¬¬äºŒå¥ä¾¿å”±å¾—å°å±‹é‡Œçš„å¥³å­©ä»¬çº¢é€äº†è„¸ï¼Œè¿™ä¸ªæ­Œæ‰‹å¥½æ±¡ðŸ˜„å¤§å¤šéƒ½æ˜¯æµæµªæ­Œæ‰‹çš„æ°‘è°£ä¹‹ç±»çš„æ­Œæ›²ï¼Œä¹Ÿå¥½å¤šä»–è‡ªå·±çš„åŽŸåˆ›æ­Œæ›²ã€‚ ä¸€æŠŠå‰ä»–å¼¹èµ·ï¼Œæ—è¾¹æ‰‹é¼“ä¼´å¥ï¼Œè½»å£°æ…¢è¯­ï¼Œè¾½äº¢é«˜æ­Œã€‚ ä¸½æ±Ÿå¤åŸŽå¾ˆå¤§ï¼Œæ˜¨å¤©åªé€›äº†ä¸€éƒ¨ä»½è€Œå·²ã€‚ä»Šå¤©åŽ»çš„æ—¶å€™å‘çŽ°å¥½å¤šæ‰‹é¼“åº—é‡Œçš„å¥³å­©éƒ½è´´åˆ«æ¼‚äº®å•Šï¼Œæ‰€ä»¥å¿ä¸ä½æŒ¨ä¸ªæ‹ä¸‹ç…§ç‰‡ï¼Œæ‰“ç®—åšä¸€åˆè¾‘ï¼Œå°±å« æœ€ç¾Žä¸½æ±Ÿæ‰‹é¼“å¥³å­© 18å·ï¼ï¼æŸæ²³é¼“ç¼˜åŽŸæœ¬æ˜¯æ‰“ç®—åœ¨è¿™é‡Œå¾…äºŒåå¤©å·¦å³çš„ï¼Œå¥ˆä½•å¤©å¤©ä¸‹é›¨è¿˜ç‰¹åˆ«å†·ï¼ŒåŠ ä¹‹Yuå°RongåŒå­¦ç”·ç¥¨ä¸æ¥äº†ï¼Œæ‰€ä»¥æ‰“ç®—æå‰å›žåŽ»å–½ã€‚ å› ä¸ºå¥½å¤šåœ°æ–¹æ²¡åŽ»ï¼Œå€’æ˜¯å‰©ä¸‹äº†è®¸å¤šè´¹ç”¨ï¼Œçœ‹åˆ°æŸæ²³è¡—é“ä¸Šå¥½å¤šæ‰‹é¼“åº—ï¼Œä¹°ä¸ªæ‰‹é¼“çŽ©çŽ©ä¹Ÿæ˜¯æžå¥½çš„ã€‚å…¶å®žå·²ç»åœ¨ç‡•å§é‚£çœ‹äº†å¥½å‡ å¤©äº†ï¼Œå¤§æ¦‚æœ‰äº†ä¸ªç›¸ä¸­çš„æ‰‹é¼“ï¼Œåœ¨ä»Šå¤©ä¹°å®šçš„ã€‚ æ¼‚äº®çš„è€æ¿å¨˜ï¼ï¼ç‡•å§ï¼š 19å·ï¼ï¼ç¦»å¼€ä½ æ—¶æ‰çˆ±ä¸Šä½ ä»Šå¤©å°±è¦æ»šå›žä¸Šæµ·äº†ï¼Œæ°å¥½å°±åœ¨ä»Šå¤©æ‰æ˜¯æ¥ä¸½æ±Ÿè¿™ä¹ˆå¤šå¤©å¤©æ°”æœ€å¥½çš„ä¸€å¤©ã€‚ ååœ¨æœºåœºå¤§å·´ä¸Šï¼Œæœ›ç€å¤´é¡¶ä¸Šçš„å¹¿è¢¤çš„è”šè“çš„å¤©ç©ºå’Œé‚£äº›å¤§å—å¤§å—çš„æ£‰èŠ±ç³–ç®€ç›´ç¾Žå“­äº†è¿œæ–¹çš„é›ªå±±ç¾Žçš„å¿ƒéƒ½è¦åŒ–äº†æ¥ä¸½æ±Ÿè¿™ä¹ˆä¹…ä»Žæ²¡åƒè¿™ä¸€åˆ»è§‰å¾—ä¸½æ±ŸåŽŸæ¥å¯ä»¥è¿™ä¹ˆç¾Žã€‚å¯æƒœäº†äº†æ‰‹æœºå¹¶ä¸èƒ½æ‹å‡ºé‚£æ ·çš„ç¾Žæ™¯ã€‚ ç¾Žä¸½çš„å¤©ç©ºï¼Œç¾Žçš„éƒ½ä¸èˆå¾—ç¦»å¼€äº†ã€‚ å½“ç¦»å¼€ä½ æ—¶ï¼Œæ‰å‘çŽ°çˆ±ä¸Šäº†ä½ ã€‚ï¼ï¼ï¼ï¼ä¸½æ±Ÿã€‚ æœ€åŽé™„æŸæ²³å‚æ™šå¤©ç©ºå›¾ä¸€å¼  æœ€åŽçš„æœ€åŽåˆ†äº«é˜³å…‰ä¸‹çš„å°èŠ±ä¸€ç»„ï¼š(æ‹æ‘„è€…ï¼šYuå°Rong) åŽ è®° : æœª ç» å… è®¸ è¯· å‹¿ è½¬ è½½ ! ! !]]></content>
      <categories>
        <category>Journey</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[è®°çŽ¯å´‡æ˜Žå²›éª‘è¡Œ]]></title>
    <url>%2F2016%2F05%2F10%2Fchongming-cycling%2F</url>
    <content type="text"><![CDATA[äº‹ä»¶ï¼šçŽ¯å´‡æ˜Žå²›éª‘è¡Œäººç‰©ï¼šåšä¸»ã€åšä¸»çš„å°ä¼™ä¼´æ—¶é—´ï¼šäº”ä¸€å°å‡åœ°ç‚¹ï¼šå´‡æ˜Žå²›æ­£æ–‡ï¼šçŽ°åœ¨å‘æ˜¯ä¸æœ‰ç‚¹æ™šäº†ï¼Ÿ é—­å˜´ï¼ åˆ—ä½æƒå½“æ˜¯ç¯‡çŽ¯å´‡æ˜Žå²›éª‘è¡Œçš„æ”»ç•¥æ¥çœ‹ä¹Ÿæœªå°ä¸å¯ã€‚ åšä¸»çš„è½¦å­ï¼Œç®—æ˜¯ä¸€æ¬¾å…¥é—¨çº§çš„å±±åœ°è½¦ï¼ï¼æ·å®‰ç‰¹ ATX 850ï¼Œæ²¹åŽ‹ç¢Ÿåˆ¹è¿˜æ˜¯è›®çˆ½çš„ðŸ˜„ 30å·æ—©ä¸Šçº¦å…«ç‚¹åŠå·¦å³ä»Žæµ¦ä¸œå‡ºå‘è‡³çŸ³æ´žå£ç å¤´ï¼Œ45km/2hã€‚ååä¸€ç‚¹çš„è½®æ¸¡ï¼ˆæ¯å°æ—¶ä¸€èˆªç­ï¼‰åˆ°å´‡æ˜Žå²›å—é—¨ç å¤´ï¼Œæ‹äº†å‡ å¼ ç…§åƒè¿‡åˆé¥­å¤§æ¦‚æœ‰ä¸€ç‚¹é’Ÿæ­£å¼å¼€å§‹äº†çŽ¯å´‡æ˜Žå²›çš„éª‘è¡Œã€‚ ç›´æŽ¥ä¸Šé™ˆæµ·å…¬è·¯ï¼Œä¸€æ¡å®½é˜”çš„çœé“ã€‚ ä¸è¿‡éª‘èµ·æ¥å¹¶ä¸èˆ’æœï¼Œå› ä¸ºè·¯ç‰¹åˆ«å®½æ‰€ä»¥ä¸æŒ¡é£Žï¼Œéª‘è¡Œä¸­ç¨å¾®æœ‰äº›é£Žéƒ½ä¼šæ˜Žæ˜¾æ„Ÿè§‰åˆ°é˜»åŠ›ï¼Œä¸”ç»å¸¸æœ‰ä¸Šå¡ã€‚å¤§çº¦ä¸€ç›´åœ¨22km/hï½ž25km/hä¹‹é—´çš„é€Ÿåº¦å·¡èˆªã€‚ å…¶å®žé™ˆæµ·å…¬è·¯ç›¸å½“é•¿ä¸€æ®µè·ç¦»éƒ½æ˜¯ä¸å…è®¸éžæœºåŠ¨è½¦è¡Œé©¶çš„ã€‚å½“ç„¶å¯ä»¥é€‰æ‹©å›¢åŸŽå…¬è·¯æ¥èµ°ï¼Œåªä¸è¿‡å›¢æˆå…¬è·¯è½¦è¾†è¦å¤šä¸€äº›éš¾å…æä¸èµ·é€Ÿåº¦æ¥ã€‚ è·ç¦»å—é—¨æ¸¯å¤§æ¦‚æœ‰ä¸‰å››åå…¬é‡Œçš„åœ°æ–¹åˆ°äº†å ¡é•‡ï¼Œä¼‘æ¯äº†åŠä¸ªå°æ—¶ï¼Œå†ä¸Šè½¦çš„æ—¶å€™ã€‚ã€‚ã€‚é‚£ä¸ªå±è‚¡ã€‚ã€‚ã€‚é‚£ä¸ªç–¼ã€‚ã€‚ã€‚ã€‚ æ‰€ä»¥è¯´éª‘è¡Œæœ€é‡è¦çš„æ˜¯åšå¼ºçš„å±è‚¡å•Šï¼ï¼ï¼ åœ¨è¿™æ¡è·¯ä¸Šå‡ºäº†ä¸ªå°çŠ¶å†µï¼Œæœ‰ä¸€æ®µè·¯å°ä¼™ä¼´åœ¨å‰é¢ç ´é£Žï¼Œæˆ‘è·Ÿçš„æ¯”è¾ƒè¿‘è€Œä¸”æ²¡æœ‰å¤ªå…³å¿ƒå‰æ–¹è·¯å†µï¼Œå°ä¼™ä¼´çš„è½¦å­çªç„¶èº²è¿‡ä¸€è¾†åœåœ¨è·¯è¾¹çš„ä¸‰è½®è½¦æ—¶æˆ‘æ²¡æ¥å¾—æ€¥ååº”ä¸€è½¦æ’žç¿»è¿‡åŽ»ã€‚ã€‚ã€‚ä¸è¿‡è¿˜å¥½åªæ˜¯ä¸€äº›æ“¦ä¼¤ä¸ç®—å¤ªä¸¥é‡ðŸ¤•ï¸ åªæ˜¯è†ç›–çš„ç¢°ä¼¤å¯¼è‡´é‚£ä¸ªä¸‹åˆå‰©ä¸‹çš„è·¯ç¨‹éª‘èµ·æ¥æ¯”è¾ƒåƒåŠ›ã€‚æ‰€ä»¥è¦å‘Šè¯«éª‘å‹ä»¬éª‘è¡Œä¸­å°½é‡ä¿æŒç²¾åŠ›é›†ä¸­ï¼Œæ³¨æ„å‰æ–¹è·¯å†µå°¤å…¶æ˜¯åœ¨æœ‰ä¼™ä¼´åœ¨å‰ç ´é£Žæ—¶ã€‚ äº”ç‚¹é’Ÿå·¦å³æŠµè¾¾é™ˆå®¶é•‡ï¼Œå› ä¸ºåˆ°çš„ç•¥æ—©ä¸€ç‚¹æ‰€ä»¥å¾ˆå¿«å°±æ‰¾åˆ°äº†æ—…é¦†ã€‚æé†’éª‘å‹ä»¬ç•™å®¿çš„è¯å°½é‡åˆ°é•‡ä¸­å¿ƒã€åŽ¿ä¸­å¿ƒä¸”ç¨æ—©ä¸€ç‚¹æ‰¾å®¾é¦†ï¼ŒèŠ‚å‡æ—¥æˆ¿æºè¿˜æ˜¯æŒºç´§å¼ çš„ã€‚ 1å·æ—©æ™¨å…«ç‚¹å·¦å³åƒè¿‡æ—©é¥­èµ¶å¾€ä¸œæ»©æ¹¿åœ°ï¼Œè·¯ä¸Šåˆåˆ°ä¸‰ä¸ªåŒè¡Œçš„éª‘å‹ï¼Œå…¶ä¸­ä¸€ä¸ªè¿˜æ˜¯éª‘è¿‡å·è—ï¼ŒçŽ¯è¿‡æµ·å—å²›çš„å‰è¾ˆå‘¢ã€‚ åå‡ å…¬é‡Œçš„è·¯ç¨‹ï¼Œä»Žé™ˆå®¶é•‡åŠå°æ—¶å°±èƒ½åˆ°ä¸œæ»©ã€‚æ‹äº†å‡ å¼ ç…§ï¼š å°æ¹–è¾¹çš„åº§é©¾ å¤©ç©ºä¸‹çš„å…„å¼Ÿä¿© æœ€é—æ†¾çš„ä¾¿æ˜¯æˆ‘ä»¬ç»•äº†ä¸€å¤§åœˆçš„è·¯å°±ä¸ºäº†åŽ»æµ·è¾¹ä¸€çœ‹ï¼Œç»“æžœåˆ°äº†æµ·è¾¹å¤§åçš„åœ°æ–¹å´è¢«é‡Žç”Ÿè‡ªç„¶ä¿æŠ¤åŒºçš„é—¨å«æ‹¦ä½äº†ï¼Œè·ç¦»æµ·è¾¹ä¸è¿‡å‡ ç™¾ç±³ã€‚ã€‚ã€‚å¤§åè¿˜æŒ¡ä½äº†æˆ‘ä»¬è¿œçœºçš„è§†çº¿ã€‚ã€‚ã€‚ ç»§ç»­çŽ¯å²›çš„è·¯ç¨‹ï¼Œä»Žä¸œæ»©èµ¶å¾€åŒ—æ²¿å…¬è·¯ï¼Œå‰©ä¸‹çš„ä¾¿æ˜¯ä¸€ç›´æ²¿ç€åŒ—æ²¿å…¬è·¯éª‘ç›´åˆ°é™ˆæµ·å…¬è·¯å›žå—é—¨æ¸¯äº†ã€‚å› ä¸ºå¤©æ°”é¢„æŠ¥è¯´2å·æ—©ä¸Šæœ‰é›¨ï¼Œæ‰€ä»¥æˆ‘ä»¬å†³å®šç›´æŽ¥éª‘åˆ°å—é—¨æ¸¯ç•™å®¿ï¼Œ1å·ä¸€å¤©ä¾¿éª‘äº†140å…¬é‡Œï¼ åŒ—æ²¿å…¬è·¯éª‘èµ·æ¥è¿˜æ˜¯ç›¸å½“çˆ½çš„ï¼Œä¸Šåˆå¤§æ¦‚åœ¨25km/hï½ž30km/hå·¡èˆªï¼Œä¸‹åˆå› ä¸ºè¦èµ¶åˆ°å—é—¨æ¸¯åŠ ä¸ŠåŒ—æ²¿å…¬è·¯è·¯å†µç›¸å½“å¥½æ‰€ä»¥ä¸€ç›´åœ¨35km/hå·¦å³å·¡èˆªï¼Œç®€ç›´é…¸çˆ½ï¼ ä¸è¿‡å½“æ‹åˆ°é™ˆæµ·å…¬è·¯åŽå› ä¸ºé€†é£Žã€ä¸Šå¡å†åŠ ä¸Šå·²ç»è¿žç»­éª‘äº†ä¸€ç™¾å¤šå…¬é‡Œï¼Œæ‰€ä»¥è¿™æ®µè·¯å°±è‹¦é€¼äº†ã€‚ã€‚ã€‚ è¿™æ˜¯æˆ‘ä»¬çŽ¯å²›çš„è½¨è¿¹ï¼š çŽ¯å²›æ€»è·¯çº¿ï¼šä»Žå—é—¨æ¸¯æ²¿é™ˆæµ·å…¬è·¯ä¸€è·¯å‘ä¸œå—æ–¹å‘åˆ°é™ˆå®¶é•‡ï¼Œä½ä¸€æ™šç¬¬äºŒå¤©åˆ°éƒ½ä¸œæ»©ç‹‚äº†ä¸€åœˆï¼Œç„¶åŽæ²¿åŒ—æ²¿å…¬è·¯å‘è¥¿åŒ—æ–¹å‘æ‹åˆ°é™ˆæµ·å…¬è·¯ï¼Œå†æ²¿é™ˆæµ·å…¬è·¯åˆ°å—é—¨æ¸¯ã€‚ 2å·æ—©ä¸Šååç‚¹åŠçš„è½®æ¸¡å›žä¸Šæµ·ï¼Œå†ç»çº¦45km/2hçš„è·¯ç¨‹åˆ°å®¶ã€‚ äº”ä¸€çŽ¯å´‡æ˜Žå²›éª‘è¡Œï¼Œç¬¬ä¸€æ¬¡è¿œé€”éª‘è¡Œæ­£å¼ç»“æŸï¼Œæ„Ÿè§‰è‰¯å¥½ï¼ åŽè®°ä»€ä¹ˆï¼Œä½ è¯´è¿™å½“ä¸€ç¯‡æ”»ç•¥æ¥çœ‹çš„è¯ä¹Ÿå¤ªé€Šäº†ï¼Ÿä½œä¸ºä¸€åç å†œå‡ºèº«çš„éª‘è¡Œæ‰‹ï¼Œä¸èƒ½å¿ä½ ï¼ è¿™é‡Œæœ‰ä¸€ä»½.gpxæ–‡ä»¶ ðŸ‘‰ç‚¹å‡»ä¸‹è½½è®°å½•äº†çŽ¯å´‡æ˜Žå²›çš„éª‘è¡Œè½¨è¿¹ï¼Œå°†å®ƒå¯¼å…¥åˆ°æ”¯æŒ gpx æ ¼å¼çš„è½¯ä»¶é‡Œå°±å¯ä»¥äº†ï¼Œæˆ‘ç”¨çš„æ˜¯ã€Œè¡Œè€…ã€ï¼Œå¤§å®¶å–œæ¬¢ç”¨ä»€ä¹ˆè½¯ä»¶å¯ä»¥è‡ªè¡Œ Googleï½ž è½¬è½½è¯·ä¿ç•™åŽŸæ–‡åœ°å€ï¼šhttp://gonghonglou.com/2016/05/10/chongming-cycling]]></content>
      <categories>
        <category>Journey</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Macä¸Šæ­å»ºApache Tomcat ï¼‹ MySQL]]></title>
    <url>%2F2016%2F04%2F01%2Fbuild-tomcat%2F</url>
    <content type="text"><![CDATA[å› è¿žæŽ¥å…¬å¸é¡¹ç›®çš„æµ‹è¯•æœåŠ¡å™¨å„ç§ä¸ä¾¿æ‰€ä»¥æ­äº†ä¸ªæœ¬åœ°æœåŠ¡å™¨Apache Tomcatï¼Œæ•°æ®åº“ç”¨çš„MySQLã€‚å†™ä¸‹è¿‡ç¨‹ä¸€æ¥æ€»ç»“ï¼ŒäºŒæ¥åˆ†äº«ï¼Œå¸Œæœ›èƒ½å¸®åˆ°è¯¸ä½ä¸€äºŒï¼Œæ¥ä»‹ç»éœ€è¦ä¸‹è½½ç”¨åˆ°çš„å·¥å…·å§ã€‚ JavaçŽ¯å¢ƒç‚¹å‡»ä¸‹è½½ï¼šjdk-7u79-macosx-x64.dmg ä¸‹è½½ä¹‹åŽä¸€è·¯ç‚¹å‡»å®‰è£…å³å¯ MySQLæ•°æ®åº“ç‚¹å‡»ä¸‹è½½ï¼šmysql-5.6.29-osx10.8-x86_64 ä¸‹è½½ä¹‹åŽåŒæ ·ä¸€è·¯ç‚¹å‡»å®‰è£…å³å¯ï¼Œé»˜è®¤çš„å®‰è£…è·¯å¾„ä¸º /usr/local/mysql-5.6.29-osx10.8-x86_64 æ­¤æ—¶ï¼Œåœ¨ç³»ç»Ÿåå¥½è®¾ç½®çš„æœ€ä¸‹æ–¹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ç‚¹å‡»MySQLï¼Œç„¶åŽç‚¹å‡» Start MySQL Server å¼€å¯æ•°æ®åº“æœåŠ¡ /Users/user/Desktop/BuildTomcat:mysql.png é˜¿å¸•å¥‡æœåŠ¡å™¨ç‚¹å‡»ä¸‹è½½ï¼šapache-tomcat-7.0.68.zip ä¸‹è½½è§£åŽ‹åŽæ”¾åˆ°ä»»ä¸€ç›®å½•ä¸­ï¼Œæˆ‘é€‰æ‹©çš„æ˜¯MySQLçš„é»˜è®¤å®‰è£…ç›®å½•ä¸‹ /usr/local/ ç»ˆç«¯ cd åˆ°é˜¿å¸•å¥‡æœåŠ¡å™¨æ‰€åœ¨ç›®å½•çš„ bin ç›®å½•ä¸‹ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š $ ./startup.sh // å¼€å¯æœåŠ¡å™¨/Users/user/Desktop/mysql.png $ ./shutdown.sh // å…³é—­æœåŠ¡å™¨ æ–°ä¸‹è½½çš„tomcatåœ¨å¯åŠ¨æ—¶ä¼šæŠ¥é”™ï¼š ./startup.sh: Permission denied è¿™æ˜¯å› ä¸ºæƒé™é—®é¢˜ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å³å¯è§£å†³ï¼š $ chmod u+x *.sh //è¡¨ç¤ºå¯¹å½“å‰ç›®å½•ä¸‹çš„*.shæ–‡ä»¶çš„æ‰€æœ‰è€…å¢žåŠ å¯æ‰§è¡Œæƒé™ å†æ¬¡æ‰§è¡Œå¼€å¯æœåŠ¡å™¨å‘½ä»¤å³å¯ã€‚æˆåŠŸå¼€å¯æœåŠ¡å™¨åŽï¼Œæµè§ˆå™¨æ‰“å¼€ http://localhost:8080 å‡ºçŽ°å¦‚ä¸‹ç•Œé¢è¡¨ç¤ºå¼€å¯æˆåŠŸï¼š å¦‚ä¸Šå›¾ç‚¹å‡»Manager Appç™»å½•éœ€è¦è´¦å·å¯†ç ï¼Œç‚¹å‡»å–æ¶ˆä¼šæœ‰è§£é‡Šã€‚å³æ‰“å¼€/usr/local/apache-tomcat-7.0.68/confç›®å½•ä¸‹çš„tomcat-users.xmlæ–‡ä»¶ï¼Œåœ¨ä¸‹æ–¹æ·»åŠ é…ç½®ç”¨æˆ·åå¯†ç å¦‚ï¼š &lt;role rolename=&quot;manager-gui&quot;/&gt; &lt;user username=&quot;tomcat_name&quot; password=&quot;tomcat_password&quot; roles=&quot;manager-gui&quot;/&gt; Sequel Proç‚¹å‡»ä¸‹è½½mysqlçš„å›¾å½¢åŒ–å·¥å…·ï¼šsequel-pro-1.1.1.dmg å®‰è£…æˆåŠŸåŽæ‰“å¼€ï¼Œè®¾ç½®å¦‚ä¸‹ï¼š Nameéšæ„ï¼ŒMySQLåˆå§‹ç”¨æˆ·åä¸ºroot å¯†ç ä¸ºç©ºï¼Œå› ä¸ºåˆå§‹å¹¶æ²¡æœ‰æ•°æ®åº“æ‰€ä»¥Databaseä¹Ÿä¸ºç©ºã€‚ ç‚¹å‡»Connectè¿›å…¥åŽ 1ï¼šå·¦ä¸Šè§’é€‰æ‹©Add Database...ï¼Œå¡«å…¥ä¸€ä¸ªåå­—å¦‚troyï¼Œç‚¹å‡»add 2ï¼šSequel Proèœå•æ é€‰æ‹©Databaseâ€“&gt;User Accounts...,ç»™ root ç”¨æˆ·æ·»åŠ ç”¨æˆ·åå¯†ç ï¼Œç‚¹å‡»Apply è¿™æ ·åœ¨ä¸‹æ¬¡ç™»å½•æ—¶å°±è¦æŠŠPasswordå’ŒDatabaseå¡«ä¸Šå†è¿žæŽ¥ æ·»åŠ æ•°æ®å°†è‡ªå·±çš„.sqlæ–‡ä»¶ç”¨Sequel Proæ‰“å¼€å¹¶è¿è¡Œï¼Œè¿™æ ·åœ¨æ•°æ®åº“ä¸­å°±æœ‰äº†æ•°æ® å°†è‡ªå·±çš„.warçš„jaråŒ…æ·»åŠ åˆ°/usr/local/apache-tomcat-7.0.68/webappsç›®å½•ä¸‹ï¼Œè¿™æ ·å°±æœ‰äº†æ‰§è¡Œç¨‹åº ç»ˆç«¯ cd åˆ°é˜¿å¸•å¥‡æœåŠ¡å™¨æ‰€åœ¨ç›®å½•çš„ bin ç›®å½•ä¸‹ï¼Œå¼€å¯æœåŠ¡å™¨å¯æ‰§è¡Œå¦‚ä¸‹ä»»ä¸€å‘½ä»¤ï¼š $ ./startup.sh // å•çº¯å¼€å¯æœåŠ¡å™¨ $ ./catalina.sh run // å¼€å¯æœåŠ¡å™¨ï¼ŒæŽ§åˆ¶å°å¯æ‰“å°æœåŠ¡å™¨æ•°æ® åˆ°è¿™é‡Œæœ¬åœ°æœåŠ¡å™¨å°±å¼€å¯äº† æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼ŒæŸ¥çœ‹æœåŠ¡å™¨åœ¨å±€åŸŸç½‘ä¸­çš„åœ°å€ï¼š $ ifconfig è¿™æ ·ä½ çš„æ‰‹æœºç­‰è®¾å¤‡ä¹Ÿå¯ä»¥è¿žæŽ¥åˆ°æœ¬åœ°æœåŠ¡å™¨äº† æ€»ç»“ä¸€ä¸‹ jdk-7u79-macosx-x64.dmg javaçŽ¯å¢ƒ mysql-5.6.29-osx10.9-x86_64.dmg mysqlæ•°æ®åº“ apache-tomcat-7.0.68.zip é˜¿å¸•å¥‡æœåŠ¡å™¨ sequel-pro-1.1.1.dmg mysqlçš„å›¾å½¢åŒ–å·¥å…· troy_2016-03-25.sql sqlè¯­å¥ï¼Œæ”¾åœ¨ Sequel Proä¸­æ‰§è¡Œï¼Œç”Ÿæˆæ•°æ®ï¼‰ rest.war è¿è¡Œç¨‹åºï¼Œæ”¾åœ¨ apache-tomcat-7.0.68/webapps ç›®å½•ä¸‹ å¼€å¯æœåŠ¡å™¨ æ„‰å¿«çš„çŽ©è€ åŽè®°è½¬è½½è¯·ä¿ç•™åŽŸæ–‡åœ°å€ï¼šhttp://gonghonglou.com/2016/04/01/build-tomcat]]></content>
      <categories>
        <category>Technology</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[è§£å†³OS X 10.11ä¹‹åŽCocoaPodsçš„å‡çº§é—®é¢˜]]></title>
    <url>%2F2016%2F04%2F01%2Fupdate-pods-que%2F</url>
    <content type="text"><![CDATA[é—®é¢˜æè¿°ï¼šOS X 10.11ä¹‹åŽå‡çº§CocoaPodsï¼Œæ‰§è¡Œå‘½ä»¤ï¼š $ sudo gem update cocoapods // æ›´æ–°è‡³æœ€æ–°ç‰ˆ $ sudo gem update cocoapods --pre // æˆ–è€… æ›´æ–°è‡³æµ‹è¯•ç‰ˆ æŠ¥å¦‚ä¸‹é”™è¯¯ï¼š ERROR: While executing gem ... (Errno::EPERM) Operation not permitted - /usr/bin/pod è§£å†³æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ›´æ–°ï¼š $ sudo gem install -n /usr/local/bin cocoapods // æ›´æ–°è‡³æœ€æ–°ç‰ˆ $ sudo gem install -n /usr/local/bin cocoapods --pre // æˆ–è€… æ›´æ–°è‡³é¢„è§ˆç‰ˆ è¿™ç§è§£å†³æ–¹æ³•æœ€å¼€å§‹çš„sudo gem update cocoapods å’Œ sudo gem update cocoapods --preå‡çº§å‘½ä»¤æ˜¯ä¸èƒ½ç”¨çš„ï¼Œè‹¥æƒ³ä¸€åˆ‡æ¢å¤æ­£å¸¸è¯·å°è¯•è§£å†³æ–¹æ¡ˆäºŒã€‚ è§£å†³æ–¹æ¡ˆäºŒï¼šæŽ¨å€’é‡æ¥ã€‚ã€‚ã€‚å®‰è£…Homebrew ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot; å®‰è£…Rubyï¼š brew install ruby å‡çº§CocoaPodsï¼Œæ‰§è¡Œå‘½ä»¤ï¼š $ sudo gem install cocoapods // æ›´æ–°è‡³æœ€æ–°ç‰ˆ $ sudo gem install cocoapods --pre // æˆ–è€… æ›´æ–°è‡³æµ‹è¯•ç‰ˆ æ­¤åŽï¼Œä¸€åˆ‡OKï½ž åŽè®° ä¸Šä¸€ç¯‡æ–‡ç« å…³äºŽCocoaPodsçš„è¯¦ç»†ä»‹ç»ï¼šiOSçš„åº“ä¾èµ–ç®¡ç†å·¥å…·CocoaPods è½¬è½½è¯·ä¿ç•™åŽŸæ–‡åœ°å€ï¼šhttp://gonghonglou.com/2016/04/01/update-pods-que]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOSçš„åº“ä¾èµ–ç®¡ç†å·¥å…·CocoaPods]]></title>
    <url>%2F2016%2F04%2F01%2FCocoaPods%2F</url>
    <content type="text"><![CDATA[å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ï¼åœ¨iOSå¼€å‘ä¸­ CocoaPods ä½œä¸ºåº“ä¾èµ–ç®¡ç†å·¥å…·å°±æ˜¯ä¸€æŠŠåˆ©å™¨ã€‚ æœ‰äº†CocoaPodsä½ å†ä¹Ÿä¸éœ€è¦æ‰‹åŠ¨å°†éœ€è¦çš„ç¬¬ä¸‰æ–¹åº“æ‹–è¿›ä½ çš„å·¥ç¨‹ã€æ·»åŠ ç¬¬ä¸‰æ–¹åº“æ‰€ä¾èµ–çš„frameworkã€è®¾ç½®å¦‚-fno-objc-arcç­‰ç¼–è¯‘å‚æ•°ã€æ‰‹åŠ¨ç®¡ç†è¿™äº›åº“çš„æ›´æ–°ï¼Œå½“æŸä¸ªç¬¬ä¸‰æ–¹åº“æœ‰ä¾èµ–å…¶ä»–çš„åº“è¿˜è¦ç»§ç»­æ‹–ã€æ‹–ã€æ‹–â€¦â€¦ æˆ‘ä»¬åªéœ€è¦å°†æ‰€éœ€è¦çš„ç¬¬ä¸‰æ–¹åº“å£°æ˜Žåˆ°ä¸€ä¸ªåä¸ºPodfileæ–‡ä»¶ä¸­ï¼Œç„¶åŽæ‰§è¡ŒPod installå‘½ä»¤å°±OKäº†ï¼ŒCocoaPodså°±ä¼šè‡ªåŠ¨åŽ»ä¸‹è½½æˆ‘ä»¬æ‰€éœ€è¦åº“ï¼Œå¹¶ä¸ºæˆ‘çš„å·¥ç¨‹è®¾ç½®å¥½ç›¸åº”çš„ç³»ç»Ÿä¾èµ–å’Œç¼–è¯‘å‚æ•°ã€‚ åªèƒ½è¯´ï¼Œå¥½ç”¨åˆ°å“­ï½ž å®‰è£…CocoaPodsCocoaPodsä¾èµ–äºŽRubyçŽ¯å¢ƒï¼Œåˆšå¥½Macä¸‹è‡ªå¸¦Rubyï¼Œä½¿ç”¨Rubyçš„gemå‘½ä»¤å³å¯å®‰è£…CocoaPodsã€‚ä¸ºé˜²æ­¢å› gemå¤ªè€è€Œå¼•å‘é—®é¢˜ï¼Œå»ºè®®æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å…ˆæ›´æ–°gemï¼š 1$ sudo gem update --system æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…CocoaPodsï¼š 1$ sudo gem install cocoapods å¦‚æžœæ‰§è¡Œä¸Šè¿°å‘½ä»¤åŽæ²¡æœ‰ååº”ï¼Œé‚£æ˜¯å› ä¸ºRubyçš„è½¯ä»¶æº https://rubygems.org ä½¿ç”¨çš„æ˜¯äºšé©¬é€Šçš„äº‘æœåŠ¡è€Œè¢«å¢™äº†ï¼ˆGFWçš„ä¼Ÿå¤§ã€‚ã€‚ã€‚ï¼‰å¯ä»¥ç”¨æ·˜å®çš„Rubyé•œåƒæ¥è®¿é—®cocoapodsï¼Œä¾æ¬¡æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å°†å®˜æ–¹çš„Rubyæºæ›¿æ¢æˆå›½å†…æ·˜å®çš„æº 12# $ gem sources --remove https://rubygems.org/# $ gem sources -a https://ruby.taobao.org/ æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤éªŒè¯Rubyé•œåƒçš„ç¡®æ˜¯taobaoçš„ï¼š 1# $ gem sources -l å‡ºçŽ°å¦‚ä¸‹æ–‡å­—æ‰è¯´æ˜Žä¸Šé¢çš„å‘½ä»¤æ˜¯æ‰§è¡ŒæˆåŠŸçš„ï¼š 123# *** CURRENT SOURCES ***## https://ruby.taobao.org/ æ­¤æ—¶ï¼Œå†æ¬¡æ‰§è¡Œgemå‘½ä»¤å®‰è£…CocoaPodsï¼š 12$ sudo gem install cocoapods$ pod setup ç¨ç­‰ç‰‡åˆ» å³å¯å®‰è£…æˆåŠŸã€‚ æ³¨ï¼š pod setup æ˜¯Cocoapodså°†å®ƒçš„ä¿¡æ¯ä¸‹è½½åˆ° ~/.cocoapods/repos ç›®å½•ä¸‹ã€‚å³ä½¿åœ¨å®‰è£…æ—¶ä¸æ‰§è¡Œæ­¤å‘½ä»¤ï¼Œåœ¨åˆæ¬¡æ‰§è¡Œ pod install å‘½ä»¤æ—¶ï¼Œç³»ç»Ÿä¹Ÿä¼šè‡ªåŠ¨æ‰§è¡Œ pod setup â€”â€”10.27æ›´æ–° ä»¥ä¸‹â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”ruby.taobao.org åœæ­¢æ›´æ–°äº†ï¼Œä½¿ç”¨ cocoapods çš„åŒå­¦ï¼Œè¯·æ›´æ–°åˆ° ruby china çš„æºã€‚æ›´æ–°æ–¹æ³•ï¼šä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹é•œåƒæºï¼š 1$ gem sources -l æ›´æ”¹é•œåƒæºï¼š 123$ gem sources --add https://gems.ruby-china.org/ --remove https://rubygems.org/or$ gem sources --add https://gems.ruby-china.org/ --remove https://ruby.taobao.org/ â€”â€”10.27æ›´æ–° ä»¥ä¸Šâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”å‡çº§CocoaPodså‡çº§CocoaPodséžå¸¸ç®€å•ï¼Œä½¿ç”¨Rubyçš„gemå‘½ä»¤ï¼š 123$ sudo gem update cocoapods // æ›´æ–°è‡³æœ€æ–°ç‰ˆor$ sudo gem update cocoapods --pre // æ›´æ–°è‡³é¢„è§ˆç‰ˆ å½“ç„¶æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ä¹Ÿå¯ä»¥æ›´æ–°ï¼š 123$ sudo gem install cocoapods // æ›´æ–°è‡³æœ€æ–°ç‰ˆor$ sudo gem install cocoapods --pre // æ›´æ–°è‡³é¢„è§ˆç‰ˆ æ³¨ï¼šOS X 10.11ä¹‹åŽå‡çº§CocoaPodsä¼šæœ‰é—®é¢˜ã€‚è§£å†³æ–¹æ¡ˆå‚è§ä¸‹ä¸€ç¯‡åšå®¢ï¼šè§£å†³OS X 10.11ä¹‹åŽCocoaPodsçš„å‡çº§é—®é¢˜ é™çº§CocoaPodsæœ‰æ—¶æˆ‘ä»¬éœ€è¦é™ä½ŽCocoaPodsç‰ˆæœ¬æ¥è§£å†³æŸäº›ç¬¬ä¸‰æ–¹åº“çš„å…¼å®¹é—®é¢˜ï¼Œä¾‹å¦‚RestKitä¸å…¼å®¹CocoaPodsçš„0.39.0ç‰ˆæœ¬ï¼Œé™çº§åˆ°0.38.2å°±OKäº†ã€‚ ç§»é™¤RubyGemsä¸­çš„Cocoapodsç¨‹åºåŒ…æŸ¥çœ‹gemsä¸­æœ¬åœ°ç¨‹åºåŒ…ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š1$ gem list è¾“å‡ºå¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536*** LOCAL GEMS ***activesupport (4.2.5.2) bigdecimal (1.2.8) claide (1.0.0.beta.1, 0.9.1) cocoapods (1.0.0.beta.4, 0.39.0) cocoapods-core (1.0.0.beta.4, 0.39.0) cocoapods-deintegrate (1.0.0.beta.1) cocoapods-downloader (1.0.0.beta.1, 0.9.3) cocoapods-plugins (1.0.0.beta.1, 0.4.2) cocoapods-search (1.0.0.beta.1, 0.1.0) cocoapods-stats (1.0.0.beta.3, 0.6.2) cocoapods-trunk (1.0.0.beta.2, 0.6.4) cocoapods-try (1.0.0.beta.2, 0.5.1) colored (1.2) did_you_mean (1.0.0) escape (0.0.4) fourflusher (0.3.0) fuzzy_match (2.0.4) i18n (0.7.0) io-console (0.4.5) json (1.8.3) minitest (5.8.3) molinillo (0.4.4) nap (1.1.0) net-telnet (0.1.1) netrc (0.7.8) power_assert (0.2.6) psych (2.0.17) rake (10.4.2) rdoc (4.2.1) rubygems-update (2.6.1) test-unit (3.1.5) thread_safe (0.3.5) tzinfo (1.2.2) xcodeproj (1.0.0.beta.3, 0.28.2) å…¶ä¸­åŒ…å«çš„CocoaPodsç‰ˆæœ¬ï¼š1cocoapods (1.0.0.beta.4, 0.39.0) ç§»é™¤æŒ‡å®šç‰ˆæœ¬cocoapodså¦‚1.0.0.beta.4ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š 1$ sudo gem uninstall cocoapods -v 1.0.0.beta.4 æˆåŠŸåˆ é™¤åˆ™è¾“å‡ºï¼š 1Successfully uninstalled cocoapods-1.0.0.beta.4 è¿˜æœ‰ä¸€ä¸ª0.39.0ç‰ˆæœ¬ï¼Œç§»é™¤ç¨‹åºåŒ…ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š 1$ sudo gem uninstall cocoapods -v 0.39.0 å½“ç§»é™¤æœ€åŽä¸€ä¸ªç‰ˆæœ¬æ—¶ï¼Œè¯¢é—®ï¼š 1234Remove executables: pod, sandbox-pod in addition to the gem? [Yn] æŒ‰ä¸‹å›žè½¦é”®åˆ é™¤podã€‚æŸ¥çœ‹CocoaPodsç»„ä»¶çš„å®‰è£…ç›®å½•ï¼Œæ‰§è¡Œå‘½ä»¤$ which podæ‰€å¾—ç›®å½•ä¸‹çš„podæ–‡ä»¶éšå³åˆ é™¤ã€‚ å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„Cocoapodsç¨‹åºåŒ…å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„CocoaPods å¦‚0.39.0ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š1$ sudo gem install cocoapods -v 0.39.0 æ³¨ï¼šè‹¥ä¸æŒ‡å®šç‰ˆæœ¬ï¼Œå³å‘½ä»¤å¦‚sudo gem install cocoapodsåˆ™é»˜è®¤å®‰è£…æœ€æ–°ç‰ˆã€‚ å®‰è£…æˆåŠŸåŽï¼Œæ‰§è¡Œå‘½ä»¤æŸ¥çœ‹ç‰ˆæœ¬å·ï¼š 1$ pod --version è¾“å‡ºï¼š 10.39.0 ä½¿ç”¨CocoaPodsæœç´¢ç¬¬ä¸‰æ–¹åº“ä¸ºåˆ¤æ–­æŸç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚AFNetworkingï¼‰æ˜¯å¦æ”¯æŒCocoaPodsï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ¥æœç´¢ï¼š 1$ pod search AFNetworking è‹¥å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œåˆ™å¯ç”¨CocoaPodsç®¡ç†AFNetworking åˆ›å»ºPodfileçš„æ–‡ä»¶CocoaPodså°±å¯ä»¥æ ¹æ®Podfileæ–‡ä»¶é‡Œçš„å†…å®¹æ¥å¸®ä½ ä¸‹è½½ä½ æ‰€éœ€è¦çš„åº“ã€‚ç‚¹å‡»å‰å¾€CocoaPodså®˜æ–¹å¯¹Podfileæ–‡ä»¶çš„ä»‹ç»ã€‚ç»ˆç«¯cdåˆ°ä½ çš„é¡¹ç›®æ‰€åœ¨ç›®å½•ä¸‹ï¼Œåˆ›å»ºPodfileæ–‡ä»¶ï¼š 1$ vim Podfile æŒ‰ä¸‹ié”®è¿›å…¥è¾“å…¥çŠ¶æ€ï¼Œåœ¨Podfileæ–‡ä»¶é‡Œè¾“å…¥ä»¥ä¸‹æ–‡å­—ï¼š12345platform :ios, '8.0' target 'Your_App_Name' dopod 'AFNetworking', '~&gt; 3.0'end æŒ‰ä¸‹escé”®é€€å‡ºè¾“å…¥ã€‚ç„¶åŽä¿å­˜é€€å‡ºï¼Œå‘½ä»¤æ˜¯:wqã€‚ä½ å½“ç„¶å¯ä»¥ä½¿ç”¨vimä¹‹å¤–çš„ç¼–è¾‘è½¯ä»¶æ¥ç¼–è¾‘Podfileæ–‡ä»¶ã€‚ æ³¨ï¼šcocoapods-1.0.0.betaç‰ˆæœ¬åŽè§„å®šPodfileæ–‡ä»¶å¿…é¡»å¦‚ä¸Šæ‰€ç¤ºæ ¼å¼ï¼ˆåŠ ä¸Štargetï¼‰ å½“ç„¶ï¼Œé‡‡ç”¨åˆ›å»ºPodfileæ–‡ä»¶çš„å¦ä¸€ç§æ–¹å¼ï¼Œç»ˆç«¯cdåˆ°ä½ çš„é¡¹ç›®æ‰€åœ¨ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤ pod init ä¼šè‡ªåŠ¨ç”Ÿæˆæ ¼å¼ï¼Œè‡ªå·±è¯•ä¸€ä¸‹ä½ ä¼šå–œæ¬¢çš„ï½ž ç»ˆç«¯cdåˆ°ä½ çš„é¡¹ç›®æ‰€åœ¨ç›®å½•ä¸‹æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ¥åˆ©ç”¨CocoPodsä¸‹è½½ç¬¬ä¸‰æ–¹åº“ï¼š 1$ pod install å¦‚ä¸‹å›¾æ‰€ç¤ºåˆ™ä¸‹è½½æˆåŠŸï¼š æç¤ºï¼š[!] Please close any current Xcode sessions and use Your_App_Name.xcworkspace for this project from now on. æ‰“å¼€Your_App_Name.xcworkspace å·¥ç¨‹ä¹‹åŽä¼šçœ‹åˆ° Pods æ–‡ä»¶ï¼ŒAFNetwokingå·²ç»æˆåŠŸå¯¼å…¥é¡¹ç›®äº†ã€‚ ä½ æˆ–è®¸åº”å½“ç‚¹å‡»å‰å¾€CocoaPodså®˜ç½‘æŸ¥çœ‹å¯¹pod install vs. pod updateçš„ä»‹ç»ã€‚ æ³¨ï¼šå½“ä½  clone åˆ«äººçš„é¡¹ç›®åˆ°æœ¬åœ°åŽä¹Ÿéœ€è¦ç»ˆç«¯cdåˆ°é¡¹ç›®æ‰€åœ¨ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤ $ pod install å…³äºŽPodfile.lockçš„æ–‡ä»¶æ‰§è¡Œpod installä¹‹åŽï¼ŒCocoaPodsä¼šç”Ÿæˆä¸€ä¸ªåä¸ºPodfile.lockçš„æ–‡ä»¶ã€‚å¹¶é”å®šå½“å‰å„ä¾èµ–åº“çš„ç‰ˆæœ¬ï¼Œä¹‹åŽå¦‚æžœå¤šæ¬¡æ‰§è¡Œpod installæˆ–è€…å›¢é˜Ÿä¸­çš„å…¶å®ƒäººcheckä¸‹æ¥è¿™ä»½åŒ…å«Podfile.lockæ–‡ä»¶çš„å·¥ç¨‹åŽå†æ‰§è¡Œpod installå‘½ä»¤æ—¶ï¼ŒèŽ·å–ä¸‹æ¥çš„Podsä¾èµ–åº“çš„ç‰ˆæœ¬å°±å’Œæœ€å¼€å§‹ç”¨æˆ·èŽ·å–åˆ°çš„ç‰ˆæœ¬ä¸€è‡´ã€‚å¦‚æžœæ²¡æœ‰Podfile.lockæ–‡ä»¶ï¼Œæ‰§è¡Œpod installå‘½ä»¤ä¼šèŽ·å–ç¬¬ä¸‰æ–¹åº“çš„æœ€æ–°ç‰ˆæœ¬ï¼Œè¿™å°±æœ‰å¯èƒ½é€ æˆåŒä¸€ä¸ªå›¢é˜Ÿä½¿ç”¨çš„ä¾èµ–åº“ç‰ˆæœ¬ä¸ä¸€è‡´ï¼Œè¿™å¯¹å›¢é˜Ÿåä½œçš„å±å®³æ— ç–‘æ˜¯ç¾éš¾æ€§çš„ï¼åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æžœå›¢é˜Ÿæƒ³ä½¿ç”¨å½“å‰æœ€æ–°ç‰ˆæœ¬çš„ä¾èµ–åº“ï¼Œæœ‰ä¸¤ç§æ–¹æ¡ˆå¯ä¿®æ”¹Podfile.lockçš„çºªå½•ï¼š æ›´æ”¹Podfileä¸­å„ä¾èµ–åº“çš„ç‰ˆæœ¬ æ‰§è¡Œpod updateå‘½ä»¤ é‰´äºŽPodfile.lockæ–‡ä»¶å¯¹å›¢é˜Ÿåä½œå¦‚æ­¤é‡è¦ï¼Œæˆ‘ä»¬åº”è¯¥å°†å®ƒæ·»åŠ åˆ°ç‰ˆæœ¬æŽ§åˆ¶é‡Œã€‚ ç‚¹å‡»å‰å¾€CocoaPodså®˜ç½‘æŸ¥çœ‹å¯¹Podfile.lockçš„ä»‹ç»ã€‚ è¡¥å……ï¼šæœ‰æ—¶æ‰§è¡Œpod updateå‘½ä»¤ä¼šç‰¹åˆ«æ…¢ï¼Œå¯ä»¥å°è¯•ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š 1$ pod update --verbose --no-repo-update pod installå‘½ä»¤åŒç†ï¼š1$ pod install --verbose --no-repo-update å‘å¸ƒè‡ªå·±çš„å¼€æºæ¡†æž¶åˆ°CocoaPodsä½ éœ€è¦å¦‚ä¸‹å›¾åˆ›å»ºä¸€ä¸ªFrameworkæ¥æ‰“é€ ä½ è‡ªå·±çš„å¼€æºæ¡†æž¶ åœ¨å·¥ç¨‹ç›®å½•ä¸‹æ·»åŠ ä¸€ä»½å¼€æºåè®®æ–‡ä»¶ï¼Œä¸€èˆ¬ä¸ºâ€œLICENSEâ€ï¼Œåœ¨ github ä¸Šæ–°å»ºä»“åº“æ—¶å¯ä»¥åŒæ—¶æ–°å»º README.md æ–‡ä»¶åŠ LICENSE æ–‡ä»¶ã€‚ åœ¨å¼€å§‹ä¹‹å‰ä½ åº”å½“ä½¿ç”¨é‚®ç®±è´¦å·æ³¨å†Œ CocoaPodsï¼š 1$ pod trunk register my_name@example.com 'my_name' --description='macbook pro' éšåŽä¼šæ”¶åˆ°ä¸€ä»½éªŒè¯é‚®ä»¶ï¼Œç‚¹å‡»é“¾æŽ¥è¿›è¡ŒéªŒè¯ï¼Œä¹‹åŽé€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹æ³¨å†Œç»“æžœï¼š 1$ pod trunk me ç»“æžœåº”ä¸ºï¼š 12345678- Name: my_name- Email: my_name@example.com- Since: August 28th, 05:45- Pods: - my_framework_name- Sessions: - August 28th, 05:45 - January 3rd, 2018 10:00. IP: 116.226.129.252 Description: macbook pro åŠ ä¸‹æ¥å°±æ˜¯æ­£å¼å¼€å§‹æŽ¨é€è‡ªå·±çš„æ¡†æž¶åˆ° CocoaPodsï¼Œå‘å¸ƒè‡ªå·±çš„å¼€æºæ¡†æž¶åˆ°CocoaPodsåŒæ ·éœ€è¦ä¸€ä¸ªç±»ä¼¼Podfileçš„æ–‡ä»¶æ¥å‘Šè¯‰CocoaPodsæˆ‘ä»¬å¼€æºåº“çš„åç§°ã€ç‰ˆæœ¬ã€ä½œè€…ã€æè¿°ã€åœ°å€ã€æ‰€éœ€çš„frameworkã€ä¾èµ–åº“ç­‰ï¼Œè¿™ä¸ªæ–‡ä»¶å«my_framework_name.podspecï¼Œå¼€å§‹åˆ›å»ºè¿™ä¸ªæ–‡ä»¶ ç»ˆç«¯cdåˆ°å·¥ç¨‹ç›®å½•ä¸‹ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š 1$ pod spec create my_framework_name è¿™æ ·åœ¨ä½ çš„å·¥ç¨‹ç›®å½•ä¸‹ä¼šç”Ÿæˆä¸€ä¸ªmy_framework_name.podspecæ–‡ä»¶ï¼Œå¤§æ¦‚å†…å®¹ä¸ºï¼ˆå°†å¯¹åº”åç§°ä¿®æ”¹ä¸ºä½ è‡ªå·±çš„ï¼‰ï¼š 12345678910111213141516171819Pod::Spec.new do |s| s.name = "DJLSplitCollectionView" s.summary = "It is my first framework." s.version = "0.0.1" s.license = &#123; :type =&gt; 'MIT', :file =&gt; 'LICENSE' &#125; s.author = &#123; "gonghonglou" =&gt; "gonghonglou@gmail.com" &#125; s.social_media_url = 'http://gonghonglou.com' s.homepage = "https://github.com/gonghonglou/DJLSplitCollectionView" s.platform = :ios, '8.0' s.ios.deployment_target = '8.0' s.source = &#123; :git =&gt; "https://github.com/gonghonglou/DJLSplitCollectionView.git", :tag =&gt; s.version.to_s &#125; s.requires_arc = true s.source_files = 'DJLSplitCollectionView/*.&#123;h,m&#125;' s.public_header_files = 'DJLSplitCollectionView/*.&#123;h&#125;' s.framework = "UIKit"end ç„¶åŽæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ 12$ git tag 0.0.1 // ç»™æ¡†æž¶æ‰“ä¸Š tag$ git push origin --tags // å°† tag æŽ¨é€åˆ° github æ£€æŸ¥ podspec è¯­æ³•å’Œé¡¹ç›®æ˜¯å¦æ­£å¸¸ç¼–è¯‘ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š 1$ pod spec lint my_framework_name.podspec ç¡®ä¿æ²¡æœ‰ä»»ä½• error å’Œ warning ï¼Œç„¶åŽæŽ¨é€ podspec åˆ° CocoaPods çš„ä¸»ä»“åº“å°±å¯ä»¥äº† 1$ pod trunk push my_framework_name.podspec // æäº¤åˆ° CocoaPods ä¸­å¿ƒä»“åº“ æˆåŠŸåŽç»“æžœåº”è¯¥ä¸ºï¼š 1234567891011121314Updating spec repo `master`Validating podspec -&gt; DJLSplitCollectionView (0.0.1)Updating spec repo `master`-------------------------------------------------------------------------------- ðŸŽ‰ Congrats ðŸš€ DJLSplitCollectionView (0.0.1) successfully published ðŸ“… August 28th, 09:39 ðŸŒŽ https://cocoapods.org/pods/DJLSplitCollectionView ðŸ‘ Tell your friends!-------------------------------------------------------------------------------- å¦‚å›¾ï¼š å¤§åŠŸå‘Šæˆï¼Œå‡ ç§’æˆ–è€…å‡ åˆ†é’ŸåŽ pod search my_framework_name æœç´¢ä¸€ä¸‹å§ï½žå¦‚æžœæœä¸åˆ°çš„è¯ï¼Œå»ºè®®æ‰§è¡Œå¦‚ä¸‹æ–¹æ³•ï¼š12rm ~/Library/Caches/CocoaPods/search_index.jsonpod search my_framework_name åŽè®° å°ç™½å‡ºæ‰‹ï¼Œè¯·å¤šæŒ‡æ•™ã€‚å¦‚è¨€æœ‰è¯¯ï¼Œè¿˜æœ›æ–§æ­£ï¼ è½¬è½½è¯·ä¿ç•™åŽŸæ–‡åœ°å€ï¼šhttp://gonghonglou.com/2016/04/01/CocoaPods Reference Using CocoaPods CocoaPodså®‰è£…å’Œä½¿ç”¨æ•™ç¨‹ ç”¨CocoaPodsåšiOSç¨‹åºçš„ä¾èµ–ç®¡ç† å¦‚ä½•æ‰“é€ ä¸€ä¸ªè®©äººæ„‰å¿«çš„æ¡†æž¶]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[åˆè¯†ReactiveCocoa]]></title>
    <url>%2F2016%2F03%2F17%2Fmeet-ReactiveCocoa%2F</url>
    <content type="text"><![CDATA[ReactiveCocoa æ˜¯ä¸€ä¸ªObjective-C æ¡†æž¶ï¼Œå— Functional Reactive Programmingçš„å¯å‘ã€‚å®ƒæä¾›äº†ä¸€ç³»åˆ—ç”¨æ¥ç»„åˆå’Œè½¬æ¢å€¼æµçš„APIã€‚ å¦‚æžœä½ æ—©å·²ç†Ÿæ‚‰äº†å‡½æ•°å“åº”å¼ç¼–ç¨‹æˆ–è€…çŸ¥é“ReactiveCocoaçš„åŸºæœ¬å‰æï¼Œçœ‹çœ‹Documentationè¿™ä¸ªæ–‡ä»¶å¤¹é‡Œçš„framework overviewç­‰æ–‡ä»¶æ›´æ·±ä¸€æ­¥æ¥äº†è§£å®ƒæ˜¯æ€Žæ ·åœ¨å®žè·µä¸­å·¥ä½œçš„ã€‚ ä»‹ç»ReactiveCocoaå—functional reactive programmingçš„å¯å‘ã€‚åœ¨é‚£äº›èƒ½è¢«æ›¿æ¢å’Œä¿®æ”¹çš„åœ°æ–¹ï¼ŒRACæä¾›ä¿¡å·(ç”±RACSignalä»£è¡¨)æ¥æ•èŽ·å½“å‰å’Œå°†æ¥çš„å€¼è€Œä¸æ˜¯ä½¿ç”¨å¯å˜çš„å˜é‡ã€‚ é€šè¿‡é“¾æŽ¥ï¼Œç»„åˆï¼Œå’Œåé¦ˆçš„ä¿¡å·ï¼Œè½¯ä»¶å¯ä»¥ä¸éœ€è¦å†™é‚£äº›æŒç»­è§‚å¯Ÿå’Œæ›´æ–°valueçš„ä»£ç ã€‚ ä¾‹å¦‚ï¼Œä¸€ä¸ªæ–‡æœ¬æ¡†èƒ½å¤Ÿæ ¹æ®å®ƒçš„æ”¹å˜è¢«ç»‘å®šåˆ°æœ€åŽä¸€æ¬¡çš„å€¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨é¢å¤–çš„ä»£ç æ¯ç§’åŽ»ç›‘æŽ§æ—¶é’Ÿå’Œæ›´æ–°æ–‡æœ¬æ¡†ã€‚è¿™ç‚¹è·ŸKVOå¾ˆåƒï¼Œä¸è¿‡æ˜¯ä½¿ç”¨äº†blockï¼Œè€Œéž-observeValueForKeyPath:ofObject:change:context: ä¿¡å·ä¹Ÿå¯ä»¥è¿›è¡Œå¼‚æ­¥æ“ä½œï¼Œå°±åƒfutures and promisesã€‚è¿™æžå¤§çš„ç®€åŒ–äº†å¼‚æ­¥è½¯ä»¶ä¸­ç½‘ç»œè¿žæŽ¥çš„ä»£ç ã€‚ RACçš„é‡å¤§ä¼˜åŠ¿ä¹‹ä¸€å°±æ˜¯å®ƒæä¾›ä¿¡å·(signal)è¿™ç§æ–¹å¼æ¥ç»Ÿä¸€çš„å¤„ç†æ‰€æœ‰å¼‚æ­¥çš„è¡Œä¸ºï¼ŒåŒ…æ‹¬ä»£ç†æ–¹æ³•ã€block å›žè°ƒã€target-action æœºåˆ¶ã€é€šçŸ¥å’ŒKVOã€‚ è¿™é‡Œæ˜¯ç®€å•çš„ä¾‹å­ï¼š 1234567// å½“self.usernameæ”¹å˜æ—¶ï¼Œæ‰“å°æ–°çš„åå­—åˆ°æŽ§åˆ¶å°//// RACObserve(self, username)åˆ›å»ºä¸€ä¸ªæ–°çš„RACSignalï¼Œå½“å‰self.usernameçš„å€¼å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå‘é€æ–°å€¼ç»™newName// -subscribeNext: å½“ä¿¡å·å‘é€å€¼æ—¶å°†è§¦å‘block[RACObserve(self, username) subscribeNext:^(NSString *newName) &#123; NSLog(@"%@", newName);&#125;]; ä¸ŽKVO é€šçŸ¥ä¸åŒçš„æ˜¯ä¿¡å·èƒ½å¤Ÿè¿›è¡Œç»Ÿä¸€çš„é“¾å¼æ“ä½œï¼š 12345678910// åªæœ‰å½“åå­—çš„å¼€å¤´ä¸º"j"æ—¶æ‰æ‰“å°//// -filter åªæœ‰å½“blockè¿”å›žYESæ—¶æ‰ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„RACSignalå‘é€ä¸€ä¸ªæ–°å€¼[[RACObserve(self, username) filter:^(NSString *newName) &#123; return [newName hasPrefix:@"j"]; &#125;] subscribeNext:^(NSString *newName) &#123; NSLog(@"%@", newName); &#125;]; ä¿¡å·ä¹Ÿèƒ½è¢«ç”¨æ¥æ´¾ç”ŸçŠ¶æ€ã€‚åœ¨å“åº”æ–°å€¼ä¸­RACä»£æ›¿è§‚å¯Ÿå±žæ€§å’Œè®¾ç½®å…¶ä»–çš„å±žæ€§ï¼Œèƒ½å¤Ÿåœ¨ä¿¡å·å’Œè¿è¡Œå‘¨æœŸå†…ä¼ è¾¾å±žæ€§ï¼š 1234567891011// å½“self.password å’Œ self.passwordConfirmationç›¸åŒæ—¶åˆ›å»ºä¸€ä¸ªå•å‘çš„bindingä½¿å¾—self.createEnabledä¸ºtrue//// RAC() æ˜¯ä¸€ä¸ªå®æŒ‡ä»¤ä½¿å¾—bindingçœ‹èµ·æ¥nicer// // +combineLatest:reduce: å»ºä¸€ä¸ªä¿¡å·æ•°ç»„// å½“ä»»ä¸€ä¸ªä¿¡å·çš„æœ€åŽä¸€ä¸ªå€¼å‘ç”Ÿæ”¹å˜æ—¶è§¦å‘è¿™ä¸ªblockï¼Œè¿”å›žä¸€ä¸ªæ–°çš„RACSignalï¼Œå°†blockè¿”å›žçš„å€¼ä½œä¸ºvalueså‘é€å‡ºåŽ»RAC(self, createEnabled) = [RACSignal combineLatest:@[ RACObserve(self, password), RACObserve(self, passwordConfirmation) ] reduce:^(NSString *password, NSString *passwordConfirm) &#123; return @([passwordConfirm isEqualToString:password]); &#125;]; ä¿¡å·ä¸ä»…æ˜¯åœ¨KVOä¸Šï¼Œè¿˜èƒ½åœ¨å»ºç«‹åœ¨éšç€æ—¶é—´è€Œæ”¹å˜çš„å€¼æµä¸Šã€‚ä¾‹å¦‚ï¼Œå®ƒä»¬å¯ä»¥ä»£è¡¨æŒ‰é’®ç‚¹å‡»ï¼š 123456789// å½“æŒ‰é’®è¢«ç‚¹å‡»æ—¶æ‰“å°ä¿¡æ¯//// RACCommandåˆ›å»ºä¿¡å·åŽ»è¡¨ç¤ºUIè¡Œä¸ºã€‚ä¾‹å¦‚ï¼Œæ¯ä¸€ä¸ªä¿¡å·å¯ä»¥è¡¨ç¤ºä¸€ä¸ªæŒ‰é’®çš„ç‚¹å‡»ã€ä¸Žå®ƒç›¸å…³è”çš„é™„åŠ å·¥ä½œ//// -rac_commandæ˜¯å°è£…çš„NSButtonæ–¹æ³•. å½“æŒ‰é’®è¢«ç‚¹å‡»æ—¶è§¦å‘è¯¥å‘½ä»¤self.button.rac_command = [[RACCommand alloc] initWithSignalBlock:^(id _) &#123; NSLog(@"button was pressed!"); return [RACSignal empty];&#125;]; æˆ–è€…æ˜¯å¼‚æ­¥ç½‘ç»œæ“ä½œï¼š 123456789101112131415161718// è¿žæŽ¥"Log in"æŒ‰é’®ç»™ç½‘ç»œç™»å½•//// å½“ç™»å½•å‘½ä»¤æ‰§è¡Œæ—¶è¿è¡Œblockï¼Œå¼€å§‹ç™»å½•è¿›åº¦self.loginCommand = [[RACCommand alloc] initWithSignalBlock:^(id sender) &#123; // å‡è®¾å½“ç½‘ç»œè¯·æ±‚å®Œæˆæ—¶ -logIn æ–¹æ³•è¿”å›žä¸€ä¸ªä¿¡å·å‘é€ä¸€ä¸ªvalue return [client logIn];&#125;];// -executionSignals æ¯æ¬¡æ‰§è¡Œè¯¥å‘½ä»¤æ—¶ï¼Œè¿™ä¸ªæ–¹æ³•è¿”å›žä¸€ä¸ªä¿¡å·ï¼ŒåŒ…æ‹¬ä»¥å‰çš„blockè¿”å›žçš„ä¿¡å·[self.loginCommand.executionSignals subscribeNext:^(RACSignal *loginSignal) &#123; // æˆåŠŸç™»å½•æ—¶æ‰“å°ä¿¡æ¯ [loginSignal subscribeCompleted:^&#123; NSLog(@"Logged in successfully!"); &#125;];&#125;];// æŒ‰é’®è¢«ç‚¹å‡»æ—¶æ‰§è¡Œç™»å½•å‘½ä»¤self.loginButton.rac_command = self.loginCommand; ä¿¡å·ä¹Ÿå¯ä»¥ä»£è¡¨å®šæ—¶å™¨ï¼Œå…¶ä»–çš„UIäº‹ä»¶ï¼Œæˆ–è€…åˆ«çš„ä»€ä¹ˆéšæ—¶é—´è€Œæ”¹å˜çš„äº‹ä»¶ã€‚ åœ¨å¼‚æ­¥æ“ä½œæ–¹é¢ï¼Œé€šè¿‡é“¾æŽ¥å’Œè½¬æ¢ä¿¡å·å¯ä»¥å»ºç«‹æ›´å¤æ‚çš„è¡Œä¸ºã€‚åœ¨ä¸€ç»„å®Œæ•´çš„æ“ä½œä¹‹åŽæ›´ç®€å•çš„æ¥æ‰§è¡Œå·¥ä½œï¼š 12345678910// æ‰§è¡Œ2ä¸ªç½‘ç»œæ“ä½œï¼Œå½“å®ƒä»¬éƒ½å®Œæˆæ—¶æ‰“å°ä¿¡æ¯åˆ°æŽ§åˆ¶å°//// +merge: å½“æ•°ç»„é‡Œçš„æ‰€æœ‰ä¿¡å·å®Œæˆæ—¶ï¼Œè¿”å›žä¸€ä¸ªæ–°çš„RACSignal//// -subscribeCompleted: å½“ä¿¡å·å®Œæˆæ—¶å°†æ‰§è¡Œè¿™ä¸ªblock[[RACSignal merge:@[ [client fetchUserRepos], [client fetchOrgRepos] ]] subscribeCompleted:^&#123; NSLog(@"They're both done!"); &#125;]; ä¿¡å·å¯ä»¥è¢«é“¾æŽ¥åˆ°é¡ºåºæ‰§è¡Œå¼‚æ­¥æ“ä½œï¼Œè€Œä¸æ˜¯ä½¿ç”¨ä¸€å †blockå›žè°ƒã€‚é€šå¸¸è¿™æ ·ç®€å•çš„æ¥ä½¿ç”¨futures and promisesï¼š 123456789101112131415161718192021// ç”¨æˆ·ç™»å½•ï¼Œä¸‹è½½ç¼“å­˜ä¿¡æ¯ï¼ŒèŽ·å–æœåŠ¡å™¨ä¿¡æ¯ã€‚éƒ½å®ŒæˆåŽå°†ä¿¡æ¯æ‰“å°åˆ°æŽ§åˆ¶å°//// å‡è®¾ç™»å½•ä¹‹åŽ -logInUser æ–¹æ³•è¿”å›žä¸€ä¸ªä¿¡å·//// -flattenMap: å½“ä¿¡å·å‘é€ä¸€ä¸ªvalueæ—¶è§¦å‘è¿™ä¸ªblock// å¹¶ä¸”è¿”å›žä¸€ä¸ªæ–°çš„RACSignalæ¥æ•´åˆä»Žblockè¿”å›žçš„æ‰€æœ‰çš„ä¿¡å·åˆ°ä¸€ä¸ªå•ä¸€ä¿¡å·ä¸­[[[[client logInUser] flattenMap:^(User *user) &#123; // ä¸‹è½½ç¼“å­˜ä¿¡æ¯ï¼Œç»™ç”¨æˆ·è¿”å›žä¸€ä¸ªä¿¡å· return [client loadCachedMessagesForUser:user]; &#125;] flattenMap:^(NSArray *messages) &#123; // Return a signal that fetches any remaining messages. return [client fetchMessagesAfterMessage:messages.lastObject]; &#125;] subscribeNext:^(NSArray *newMessages) &#123; NSLog(@"New messages: %@", newMessages); &#125; completed:^&#123; NSLog(@"Fetched all messages."); &#125;]; RACç”šè‡³å¯ä»¥ç®€å•çš„å»ºç«‹åœ¨ä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„ç»“æžœä¸Šï¼š 1234567891011121314151617// åˆ›å»ºä¸€ä¸ªå•å‘çš„bindingï¼Œè®© self.imageView.image æ¥æ”¾ç½®ä¸‹è½½ä¸‹æ¥çš„userçš„å¤´åƒ//// å‡è®¾ -fetchUserWithUsername: æ–¹æ³•è¿”å›žä¸€ä¸ªä¿¡å·å‘é€ç»™user//// -deliverOn: åˆ›å»ºæ–°çš„ä¿¡å·åœ¨å…¶ä»–çš„é˜Ÿåˆ—ä¸­è¿›è¡Œä»–ä»¬çš„å·¥ä½œ// åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ­¤æ–¹æ³•è¢«ç”¨æ¥å°†å·¥ä½œè½¬ç§»åˆ°åŽå°é˜Ÿåˆ—å’Œå›žåˆ°ä¸»çº¿ç¨‹//// -map: æ¯ä¸ªuserè°ƒç”¨è¿™ä¸ªblockï¼ŒèŽ·å–å¹¶ä¸”è¿”å›žä¸€ä¸ªæ–°çš„RACSignalï¼Œå¹¶ä¸”å°†ä»Žblockè¿”å›žçš„å€¼å‘é€å‡ºåŽ»RAC(self.imageView, image) = [[[[client fetchUserWithUsername:@"joshaber"] deliverOn:[RACScheduler scheduler]] map:^(User *user) &#123; // ä¸‹è½½å¤´åƒ (åœ¨åŽå°é˜Ÿåˆ—ä¸­è¿›è¡Œ). return [[NSImage alloc] initWithContentsOfURL:user.avatarURL]; &#125;] // æ­¤æ—¶è¿™ä¸ªä»»åŠ¡å°†åœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œ deliverOn:RACScheduler.mainThreadScheduler]; è¿™æ˜¯ä¸€äº›ä½¿ç”¨RACçš„ç¤ºèŒƒæ“ä½œï¼Œä½†æ˜¯å®ƒå¹¶ä¸èƒ½è¯´æ˜ŽRACä¸ºä»€ä¹ˆå¦‚æ­¤å¼ºå¤§ã€‚æ›´å¤šç¤ºä¾‹ä»£ç å‚è§C-41 æˆ– GroceryList,è¿™äº›æ˜¯ä½¿ç”¨ReactiveCocoaç¼–å†™çš„iOS APPã€‚åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹Documentationä¸­å¯ä»¥æŸ¥åˆ°æ›´å¤šçš„å…³äºŽRACçš„ä¿¡æ¯ã€‚ ä½¿ç”¨ReactiveCocoaä¹ä¸€çœ‹ReactiveCocoaæ˜¯éžå¸¸æŠ½è±¡çš„ï¼Œå¾ˆéš¾ç†è§£è¯¥æ€Žæ ·å°†å®ƒåº”ç”¨åˆ°å…·ä½“çš„é—®é¢˜ä¸Šã€‚ è¿™æœ‰ä¸€äº›ç¤ºä¾‹æ¥å±•ç¤ºRACçš„ä¼˜åŠ¿ å¤„ç†å¼‚æ­¥æˆ–äº‹ä»¶é©±åŠ¨çš„æ•°æ®æºè®¸å¤šCocoaç¼–ç¨‹çš„é‡ç‚¹æ˜¯å¯¹ç”¨æˆ·äº‹ä»¶çš„ååº”æˆ–åº”ç”¨çŠ¶æ€çš„å˜åŒ–ã€‚å¤„ç†è¿™äº›äº‹ä»¶çš„ä»£ç å¾ˆå¿«å˜å¾—éžå¸¸å¤æ‚çš„å°±åƒæ„å¤§åˆ©é¢ä¸€æ ·ï¼Œä¼´éšç€è®¸å¤šå›žè°ƒå‡½æ•°å’ŒçŠ¶æ€å˜é‡å¤„ç†é¡ºåºçš„é—®é¢˜ã€‚ è¡¨é¢ä¸Šçœ‹èµ·æ¥æ¨¡å¼ä¸åŒï¼Œæ¯”å¦‚UIå›žè°ƒï¼Œç½‘ç»œå“åº”å’ŒKVOé€šçŸ¥ï¼Œå®žé™…ä¸Šæœ‰å¾ˆå¤šå…±åŒä¹‹å¤„ã€‚RACSignalç»Ÿä¸€äº†æ‰€æœ‰çš„è¿™äº›ä¸åŒçš„APIï¼Œä½¿ä»–ä»¬å¯ä»¥ç»„åˆåœ¨ä¸€èµ·ï¼Œå¹¶ä»¥åŒæ ·çš„æ–¹å¼æ“çºµã€‚ ä¾‹å¦‚è¿™æ ·çš„ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546static void *ObservationContext = &amp;ObservationContext;- (void)viewDidLoad &#123; [super viewDidLoad]; [LoginManager.sharedManager addObserver:self forKeyPath:@"loggingIn" options:NSKeyValueObservingOptionInitial context:&amp;ObservationContext]; [NSNotificationCenter.defaultCenter addObserver:self selector:@selector(loggedOut:) name:UserDidLogOutNotification object:LoginManager.sharedManager]; [self.usernameTextField addTarget:self action:@selector(updateLogInButton) forControlEvents:UIControlEventEditingChanged]; [self.passwordTextField addTarget:self action:@selector(updateLogInButton) forControlEvents:UIControlEventEditingChanged]; [self.logInButton addTarget:self action:@selector(logInPressed:) forControlEvents:UIControlEventTouchUpInside];&#125;- (void)dealloc &#123; [LoginManager.sharedManager removeObserver:self forKeyPath:@"loggingIn" context:ObservationContext]; [NSNotificationCenter.defaultCenter removeObserver:self];&#125;- (void)updateLogInButton &#123; BOOL textFieldsNonEmpty = self.usernameTextField.text.length &gt; 0 &amp;&amp; self.passwordTextField.text.length &gt; 0; BOOL readyToLogIn = !LoginManager.sharedManager.isLoggingIn &amp;&amp; !self.loggedIn; self.logInButton.enabled = textFieldsNonEmpty &amp;&amp; readyToLogIn;&#125;- (IBAction)logInPressed:(UIButton *)sender &#123; [[LoginManager sharedManager] logInWithUsername:self.usernameTextField.text password:self.passwordTextField.text success:^&#123; self.loggedIn = YES; &#125; failure:^(NSError *error) &#123; [self presentError:error]; &#125;];&#125;- (void)loggedOut:(NSNotification *)notification &#123; self.loggedIn = NO;&#125;- (void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary *)change context:(void *)context &#123; if (context == ObservationContext) &#123; [self updateLogInButton]; &#125; else &#123; [super observeValueForKeyPath:keyPath ofObject:object change:change context:context]; &#125;&#125; â€¦ å¯ä»¥ç”¨RACè¿™æ ·çš„è¡¨ç¤ºï¼š 1234567891011121314151617181920212223242526272829303132333435- (void)viewDidLoad &#123; [super viewDidLoad]; @weakify(self); RAC(self.logInButton, enabled) = [RACSignal combineLatest:@[ self.usernameTextField.rac_textSignal, self.passwordTextField.rac_textSignal, RACObserve(LoginManager.sharedManager, loggingIn), RACObserve(self, loggedIn) ] reduce:^(NSString *username, NSString *password, NSNumber *loggingIn, NSNumber *loggedIn) &#123; return @(username.length &gt; 0 &amp;&amp; password.length &gt; 0 &amp;&amp; !loggingIn.boolValue &amp;&amp; !loggedIn.boolValue); &#125;]; [[self.logInButton rac_signalForControlEvents:UIControlEventTouchUpInside] subscribeNext:^(UIButton *sender) &#123; @strongify(self); RACSignal *loginSignal = [LoginManager.sharedManager logInWithUsername:self.usernameTextField.text password:self.passwordTextField.text]; [loginSignal subscribeError:^(NSError *error) &#123; @strongify(self); [self presentError:error]; &#125; completed:^&#123; @strongify(self); self.loggedIn = YES; &#125;]; &#125;]; RAC(self, loggedIn) = [[NSNotificationCenter.defaultCenter rac_addObserverForName:UserDidLogOutNotification object:nil] mapReplace:@NO];&#125; é“¾æŽ¥ä¾èµ–æ“ä½œä¾èµ–åœ¨ç½‘ç»œè¯·æ±‚ä¸­æ˜¯å¸¸è§çš„ï¼Œåœ¨ä¸‹ä¸€ä¸ªè¯·æ±‚å»ºç«‹ä¹‹å‰ï¼Œéœ€è¦å®Œæˆå½“å‰å¯¹æœåŠ¡å™¨çš„è¯·æ±‚ï¼Œæ¯”å¦‚ï¼š 12345678910111213[client logInWithSuccess:^&#123; [client loadCachedMessagesWithSuccess:^(NSArray *messages) &#123; [client fetchMessagesAfterMessage:messages.lastObject success:^(NSArray *nextMessages) &#123; NSLog(@"Fetched all messages."); &#125; failure:^(NSError *error) &#123; [self presentError:error]; &#125;]; &#125; failure:^(NSError *error) &#123; [self presentError:error]; &#125;];&#125; failure:^(NSError *error) &#123; [self presentError:error];&#125;]; åœ¨ReactiveCocoaä¸­å¯ä»¥è¿™æ ·ç®€å•çš„å®žçŽ°ï¼š 123456789101112[[[[client logIn] then:^&#123; return [client loadCachedMessages]; &#125;] flattenMap:^(NSArray *messages) &#123; return [client fetchMessagesAfterMessage:messages.lastObject]; &#125;] subscribeError:^(NSError *error) &#123; [self presentError:error]; &#125; completed:^&#123; NSLog(@"Fetched all messages."); &#125;]; å¹¶è¡Œç‹¬ç«‹å·¥ä½œä¸Žç‹¬ç«‹çš„æ•°æ®é›†åˆå¹¶è¡Œå·¥ä½œï¼Œç„¶åŽå°†å®ƒä»¬åˆå¹¶æˆä¸€ä¸ªnon-trivialå‡½æ•°åˆ°Cocoaï¼Œå¹¶ç»å¸¸æ¶‰åŠå¤§é‡çš„åŒæ­¥ï¼š 123456789101112131415161718192021222324252627__block NSArray *databaseObjects;__block NSArray *fileContents; NSOperationQueue *backgroundQueue = [[NSOperationQueue alloc] init];NSBlockOperation *databaseOperation = [NSBlockOperation blockOperationWithBlock:^&#123; databaseObjects = [databaseClient fetchObjectsMatchingPredicate:predicate];&#125;];NSBlockOperation *filesOperation = [NSBlockOperation blockOperationWithBlock:^&#123; NSMutableArray *filesInProgress = [NSMutableArray array]; for (NSString *path in files) &#123; [filesInProgress addObject:[NSData dataWithContentsOfFile:path]]; &#125; fileContents = [filesInProgress copy];&#125;]; NSBlockOperation *finishOperation = [NSBlockOperation blockOperationWithBlock:^&#123; [self finishProcessingDatabaseObjects:databaseObjects fileContents:fileContents]; NSLog(@"Done processing");&#125;]; [finishOperation addDependency:databaseOperation];[finishOperation addDependency:filesOperation];[backgroundQueue addOperation:databaseOperation];[backgroundQueue addOperation:filesOperation];[backgroundQueue addOperation:finishOperation]; ä¸Šé¢çš„ä»£ç å¯ä»¥ç”¨ç®€å•çš„åˆæˆä¿¡å·æ¥æ¸…ç†å’Œä¼˜åŒ–ï¼š 1234567891011121314151617181920212223RACSignal *databaseSignal = [[databaseClient fetchObjectsMatchingPredicate:predicate] subscribeOn:[RACScheduler scheduler]];RACSignal *fileSignal = [RACSignal startEagerlyWithScheduler:[RACScheduler scheduler] block:^(id&lt;RACSubscriber&gt; subscriber) &#123; NSMutableArray *filesInProgress = [NSMutableArray array]; for (NSString *path in files) &#123; [filesInProgress addObject:[NSData dataWithContentsOfFile:path]]; &#125; [subscriber sendNext:[filesInProgress copy]]; [subscriber sendCompleted];&#125;];[[RACSignal combineLatest:@[ databaseSignal, fileSignal ] reduce:^ id (NSArray *databaseObjects, NSArray *fileContents) &#123; [self finishProcessingDatabaseObjects:databaseObjects fileContents:fileContents]; return nil; &#125;] subscribeCompleted:^&#123; NSLog(@"Done processing"); &#125;]; ç®€åŒ–collectionè½¬æ¢é«˜é˜¶å‡½æ•°æ¯”å¦‚ map, filter, fold/reduceåœ¨Foundationä¸­æ˜¯éžå¸¸ç¼ºå°‘çš„ï¼Œå¯¼è‡´å¾ªçŽ¯ä¸­çš„ä»£ç åƒè¿™æ ·ï¼š 123456789NSMutableArray *results = [NSMutableArray array];for (NSString *str in strings) &#123; if (str.length &lt; 2) &#123; continue; &#125; NSString *newString = [str stringByAppendingString:@"foobar"]; [results addObject:newString];&#125; RACSequenceå…è®¸æ‰€æœ‰Cocoa collectionåœ¨ç»Ÿä¸€çš„å’Œå£°æ˜Žçš„æ–¹å¼ä¸‹è¢«æ“ä½œï¼š 1234567RACSequence *results = [[strings.rac_sequence filter:^ BOOL (NSString *str) &#123; return str.length &gt;= 2; &#125;] map:^(NSString *str) &#123; return [str stringByAppendingString:@"foobar"]; &#125;]; åŽè®° ä»¥ä¸Šæ–‡ç« æ‘˜è¯‘è‡ªReactiveCocoaçš„Objective-Cå®˜æ–¹æ–‡æ¡£ReactiveCocoa Documentation ä»¥ä¸Šå†…å®¹ä»‹ç»äº†RACçš„åŸºæœ¬ç”¨æ³•ï¼Œä»…é™äºŽä½¿ç”¨ï¼Œæ‰€ä»¥å¢™è£‚å»ºè®®ä»”ç»†å­¦ä¹ ä¸‹èŠ‚çš„å‚è€ƒé“¾æŽ¥ï¼Œäº†è§£RACåŽŸç†åŠé«˜é˜¶ç”¨æ³•ã€‚ å°ç™½å‡ºæ‰‹ï¼Œè¯·å¤šæŒ‡æ•™ã€‚å¦‚è¨€æœ‰è¯¯ï¼Œè¿˜æœ›æ–§æ­£ï¼ è½¬è½½è¯·ä¿ç•™åŽŸæ–‡åœ°å€ï¼šhttp://gonghonglou.com/2016/03/17/meet-ReactiveCocoa Reference ReactiveCocoaçš„Objective-Cå®˜æ–¹æ–‡æ¡£ReactiveCocoa Documentation é›·çº¯é”‹çš„ReactiveCocoa v2.5 æºç è§£æžä¹‹æž¶æž„æ€»è§ˆ å–äº†ä¸ªå³¥çš„æœ€å¿«è®©ä½ ä¸Šæ‰‹ReactiveCocoaä¹‹åŸºç¡€ç¯‡ å’Œ æœ€å¿«è®©ä½ ä¸Šæ‰‹ReactiveCocoaä¹‹è¿›é˜¶ç¯‡ æŽå¿ çš„ReactiveCocoaä¸ŽFunctional Reactive Programming å”å·§çš„ReactiveCocoa è®¨è®ºä¼š]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOSå¼€å‘tipsä¹‹æ—¥æœŸä¸Žæ˜ŸæœŸçš„å¯¹åº”]]></title>
    <url>%2F2016%2F03%2F03%2Fdate-week%2F</url>
    <content type="text"><![CDATA[å‰è¨€å‰æ®µæ—¶é—´ç»ƒæ‰‹æ¨¡æ‹Ÿæ ¡å›­appå†™äº†ä¸ªDemoï¼Œå…¶ä¸­åœ¨å†™è¯¾ç¨‹è¡¨çš„ç•Œé¢æ—¶ï¼ŒåŠ ä¸Šäº†å½“å‰æ—¥æœŸï¼Œä¸ºäº†è®©æ—¥æœŸä¸Žæ˜ŸæœŸå¯¹åº”ä¹Ÿæ˜¯å‰åŽæŠ˜è…¾äº†å¥½å‡ æ¬¡ï¼Œä¸»è¦è¿˜æ˜¯å¯¹æ—¥æœŸçš„æƒ…å†µæ€è€ƒçš„ä¸å¤Ÿå…¨é¢å§ï¼ˆæ¯”å¦‚åˆ¤æ–­æ¯æœˆå¤©æ•°å’Œæœˆåˆæœˆæœ«çš„äº¤æ›¿ï¼‰ï¼Œä¸è¿‡æœ€ç»ˆè¿˜æ˜¯å®Œæˆéœ€æ±‚ã€‚æœ€åŽæ„å¤–å‘çŽ°ç®€ä¾¿æ–¹æ³•ï¼Œå†™ä¸‹æ¥åˆ†äº«ã€‚ å¯¹æ ¡å›­appçš„Demoæœ‰å…´è¶£çš„è¯ï¼Œè¯·ç§»é©¾GitHub: QLU-BlogDemo æ­£æ–‡é¦–å…ˆçœ‹ä¸€ä¸‹æ¨¡æ ·å§ï¼ˆå¦‚å›¾ä¸­çº¢æ¡†æ‰€ç¤ºï¼‰æœ€åŸºæœ¬çš„ï¼šèŽ·å–å½“å‰æ—¥æœŸçš„æ–¹æ³• 12345678910111213141516171819// èŽ·å–å½“å‰æ—¶é—´NSDate *senddate = [NSDate date];NSDateFormatter *dateformatter = [[NSDateFormatter alloc] init];[dateformatter setDateFormat:@"yyy"];NSString *yearString = [dateformatter stringFromDate:senddate];[dateformatter setDateFormat:@"MM"];NSString *monthString = [dateformatter stringFromDate:senddate];[dateformatter setDateFormat:@"dd"];NSString *dayString = [dateformatter stringFromDate:senddate];[dateformatter setDateFormat:@"EEE"]; NSString *weekString = [dateformatter stringFromDate:senddate];NSLog(@"-%@",weekString);int year = [yearString intValue];NSLog(@"-%d", year);int month = [monthString intValue];NSLog(@"--%d", month);int day = [dayString intValue];NSLog(@"---%d", day); çœ‹æ‰“å°ç»“æžœï¼šç„¶åŽå°±æ˜¯æŠŠèŽ·å–åˆ°çš„æ—¥æœŸæ”¾åˆ°å¯¹åº”æ˜ŸæœŸä¸ŠåŽ»äº†,éœ€è¦æ ¼å¤–æ³¨æ„çš„è¦åˆ¤æ–­çš„å‡ ç‚¹ï¼š ä¸åŒæœˆçš„å¤©æ•° æœˆåº•æ—¶ï¼Œæ˜¾ç¤ºä¸‹ä¸ªæœˆæœˆåˆçš„æ—¥æœŸ æœˆåˆæ—¶ï¼Œæ˜¾ç¤ºä¸Šä¸ªæœˆæœˆåº•çš„æ—¥æœŸ é¦–å…ˆèŽ·å–ä¸åŒæœˆçš„å¤©æ•°,å¹¶æŠ½ç¦»æˆç±»æ–¹æ³•æ–¹ä¾¿åŽè¾¹è°ƒç”¨ 123456789101112131415// èŽ·å–æŸå¹´æŸæœˆæ€»å…±å¤šå°‘å¤© + (int)getDaysInMonth:(int)year month:(int)imonth &#123; // imonth == 0çš„æƒ…å†µæ˜¯åº”å¯¹åœ¨CourseViewControlleré‡Œmonth-1çš„æƒ…å†µ if((imonth == 0)||(imonth == 1)||(imonth == 3)||(imonth == 5)||(imonth == 7)||(imonth == 8)||(imonth == 10)||(imonth == 12)) return 31; if((imonth == 4)||(imonth == 6)||(imonth == 9)||(imonth == 11)) return 30; if((year%4 == 1)||(year%4 == 2)||(year%4 == 3)) return 28; if(year%400 == 0) return 29; if(year%100 == 0) return 28; return 29; &#125; æ”¾ç½®labelçš„æ–¹æ³•ï¼Œåœ¨labelä¸Šå†™ä¸‹æ—¥æœŸ 123456789// æ·»åŠ æ—¥æœŸ- (void)setDateLabel:(CGRect)rect number:(NSString *)number&#123; UILabel *label = [[UILabel alloc] initWithFrame:rect]; label.textColor = [UIColor colorWithRed:100.0/255 green: 73.0/255 blue:250.0/255 alpha:1]; label.textAlignment = NSTextAlignmentCenter; label.text = number; label.font = [UIFont systemFontOfSize:14]; [self.view addSubview:label];&#125; å¼€å§‹åˆ¤æ–­ã€‚æ‹¿åˆ°å‘¨ä¸€æ˜¯å‡ å·åŽé¢çš„æ—¥æ•°é€’å¢žå°±OKäº†ï¼Œæ³¨æ„æœˆæœ«æœˆåˆäº¤æ›¿çš„ç‰¹æ®Šæƒ…å†µï¼ˆçœ‹æœºæ™ºå¦‚æˆ‘ï¼Œèµ°èµ·) 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849// åˆ¤æ–­å½“å‰å¤©æ˜¯å‘¨å‡ ï¼Œä»Žè€Œè®¡ç®—å‡ºå½“å‘¨çš„å‘¨ä¸€æ˜¯å‡ å·ï¼ˆè´Ÿæ•°è¡¨ç¤ºä¸Šä¸ªæœˆæœˆæœ«ï¼‰if ([weekString isEqual: @"å‘¨ä¸€"]) &#123; day = day - 1; // å› ä¸ºä¸‹é¢æœ‰ day++;&#125; else if ([weekString isEqual:@"å‘¨äºŒ"]) &#123; day = day - 2;&#125; else if ([weekString isEqual:@"å‘¨ä¸‰"]) &#123; day = day - 3;&#125; else if ([weekString isEqual:@"å‘¨å››"]) &#123; day = day - 4;&#125; else if ([weekString isEqual:@"å‘¨äº”"]) &#123; day = day - 5;&#125; else if ([weekString isEqual:@"å‘¨å…­"]) &#123; day = day - 6;&#125; else if ([weekString isEqual:@"å‘¨æ—¥"]) &#123; day = day - 7;&#125; if (day&lt;0) &#123; // æœˆåˆæ—¶æ˜¾ç¤ºä¸Šä¸ªæœˆæœˆæœ«çš„æ—¥æœŸ for (int i = 0; i &lt; 7; i++) &#123; // ä¸Šä¸ªæœˆæœ«å¾€åŽçš„æœˆåˆæ•°å­— int days = [GetDays getDaysInMonth:year month:month-1]; day++; if (day &gt; days) &#123; day = 0; day++; &#125; // æœˆåˆä¹‹å‰çš„æœˆæœ«æ•°å­— switch (day) &#123; case 0: day = days; break; case -1: day = days-1; break; case -2: day = days-2; break; case -3: day = days-3; break; case -4: day = days-4; break; case -5: day = days-5; break; default: break; &#125; [self setDateLabel:CGRectMake(i*((self.view.frame.size.width-33.5)/7+0.5)+30.5, kTopY, (self.view.frame.size.width-33.5)/7, 15) number:[NSString stringWithFormat:@"%d", day]]; &#125;&#125; else &#123; // æœˆæœ« for (int i = 0; i &lt; 7; i++) &#123; int days = [GetDays getDaysInMonth:year month:month]; day++; if (day &gt; days) &#123; day = 0; day++; &#125; [self setDateLabel:CGRectMake(i*((self.view.frame.size.width-33.5)/7+0.5)+30.5, kTopY, (self.view.frame.size.width-33.5)/7, 15) number:[NSString stringWithFormat:@"%d", day]]; &#125;&#125; åŠ³å¿ƒåŠ³åŠ›ï¼Œå¤§åŠŸå‘Šæˆã€‚æŽ¥ä¸‹æ¥å°Lè¦å‘Šè¯‰å¤§å®¶ï¼Œä¸Šè¾¹çš„åˆ¤æ–­çœ‹çœ‹å°±å¥½äº†ï¼ˆå“­å§ï¼‰æˆ‘ä»¬è¿˜æœ‰so so so easyçš„æ–¹æ³•ï¼ˆå˜¿ï¼‰ æ–¹æ³•æŽ¨èï¼šèŽ·å–å‡ å¹´å‡ æœˆå‡ æ—¥åŽçš„æ—¥æœŸ,å¹¶æŠ½ç¦»æˆç±»æ–¹æ³•æ–¹ä¾¿åŽè¾¹è°ƒç”¨ 1234567891011121314151617181920/** * èŽ·å–å‡ å¹´å‡ æœˆå‡ æ—¥åŽçš„æ—¥æœŸï¼Œ0è¡¨ç¤ºå½“å¤©ï¼Œè´Ÿæ•°è¡¨ç¤ºä¹‹å‰ * è¿™é‡Œåªè¦å–åˆ°æ—¥å°±å¥½äº†ï¼Œå¹´æœˆç½®0ï¼Œè¡¨ç¤ºå½“å¹´å½“æœˆ */+ (int)getOneDay:(int)day &#123; int year = 0, month = 0; NSCalendar *calendar = [[NSCalendar alloc] initWithCalendarIdentifier:NSCalendarIdentifierGregorian]; NSDateComponents *comps = nil; comps = [calendar components:NSCalendarUnitYear|NSCalendarUnitMonth|NSCalendarUnitDay fromDate:[NSDate date]]; NSDateComponents *adcomps = [[NSDateComponents alloc] init]; [adcomps setYear:year]; [adcomps setMonth:month]; [adcomps setDay:day]; NSDate *newdate = [calendar dateByAddingComponents:adcomps toDate:[NSDate date] options:0]; NSDateFormatter *formatter = [[NSDateFormatter alloc] init]; [formatter setDateFormat:@"dd"]; NSString * dayString = [formatter stringFromDate:newdate]; return [dayString intValue];&#125; é‡ç‚¹æ¥äº†ï¼š 123456789101112131415161718192021// åˆ¤æ–­å½“å‰å¤©æ˜¯å‘¨å‡ ï¼Œä»Žè€Œè®¡ç®—å‡ºå½“å‘¨çš„å‘¨ä¸€æ˜¯å‡ å·ï¼ˆè´Ÿæ•°è¡¨ç¤ºä¸Šä¸ªæœˆæœˆæœ«ï¼‰if ([weekString isEqual: @"å‘¨ä¸€"]) &#123; day = 0; // å› ä¸ºä¸‹é¢æœ‰ day++;&#125; else if ([weekString isEqual:@"å‘¨äºŒ"]) &#123; day = -1;&#125; else if ([weekString isEqual:@"å‘¨ä¸‰"]) &#123; day = -2;&#125; else if ([weekString isEqual:@"å‘¨å››"]) &#123; day = -3;&#125; else if ([weekString isEqual:@"å‘¨äº”"]) &#123; day = -4;&#125; else if ([weekString isEqual:@"å‘¨å…­"]) &#123; day = -5;&#125; else if ([weekString isEqual:@"å‘¨æ—¥"]) &#123; day = -6;&#125;// æ”¾ç½®æ—¥æœŸfor (int i = 0; i &lt; 7; i++) &#123; [self setDateLabel:CGRectMake(i*((self.view.frame.size.width-33.5)/7+0.5)+30.5, kTopY, (self.view.frame.size.width-33.5)/7, 15) number:[NSString stringWithFormat:@"%d", [GetOneDay getOneDay:day++]]];&#125; å¦‚æ­¤æ‰æ˜¯ä¸‡äº‹å¤§å‰ï¼æ¯”ä¸Šè¾¹çš„åˆ¤æ–­ç®€å•äº†è®¸å¤šï¼Œä¸è¿‡ä¸Šè¾¹çš„åˆ¤æ–­ä¹Ÿæ˜¯ä¸€ç§æ€è·¯ï¼Œæ‰€ä»¥è®°å½•ä¸‹æ¥ï¼Œç»™å¤§å®¶ä¸€ä¸ªå€Ÿé‰´ï¼ åŽè®°å°ç™½å‡ºæ‰‹ï¼Œè¯·å¤šæŒ‡æ•™ã€‚å¦‚è¨€æœ‰è¯¯ï¼Œè¿˜æœ›æ–§æ­£ï¼ è½¬è½½è¯·ä¿ç•™åŽŸæ–‡åœ°å€ï¼šhttp://gonghonglou.com/2016/03/03/date-week è¿ç§»æ–‡ç«  é¦–å‘äºŽ2015-10-13]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ç”±ä¸¢å¤±ä¸€éƒ¨iPhone6å¼•å‘çš„ç¥¸ç«¯]]></title>
    <url>%2F2016%2F03%2F03%2Fprotect-apple-id%2F</url>
    <content type="text"><![CDATA[å‰è¨€ï¼šåˆšä»Žå”®åŽæ‹¿åˆ°Mac å›žå­¦æ ¡çš„å…¬äº¤è½¦ä¸Šã€‚è®°å½•ä¸‹è¿™æ‚²æƒ¨çš„ç»åŽ†å‘Šè¯«å„ä½æžœå‹ç¯‡å¹…ç•¥é•¿ï¼Œæ€•æœ‰äº›è¯»è€…çœ‹ä¸ä¸‹åŽ»é‚å°†å‘Šè¯«å…ˆå†™åœ¨å‰é¢ï¼š ä¸ºä¿æŠ¤æ‰‹æœºï¼Œåœ¨iPhoneè®¾ç½®â€“iCloudé‡Œæœ‰æŸ¥æ‰¾æˆ‘çš„iPhoneåŠŸèƒ½ï¼Œç¡®ä¿å¼€å¯ï¼ˆé»˜è®¤å¼€å¯ï¼‰ä¸‡ä¸€ä¸å¹¸æ‰‹æœºä¸¢å¤±ï¼Œå°½å¿«ç™»å½•iCloudå®˜ç½‘æˆ–åœ¨æŸ¥æ‰¾æˆ‘çš„iPhone appé‡Œå°†iPhoneè®¾ä¸ºä¸¢å¤±æ¨¡å¼æˆ–é”å®šiPhoneï¼Œä¸ºä¿æŠ¤éšç§å¯é€‰æŠ¹æŽ‰iPhoneï¼ˆä¼šåˆ é™¤iPhoneé‡Œçš„æ‰€æœ‰æ•°æ®ï¼Œä¸å¯é€†ï¼‰ Macå’ŒiPadä¸€æ ·å¦‚æ­¤ æ‰‹æœºåœ¨ä¸¢å¤±æ¨¡å¼ä¸‹ï¼Œé”å±ç•Œé¢ä¼šæ˜¾ç¤ºä½ è®¾ç½®çš„ä¸€ä¸ªè”ç³»å·ç ã€‚è‹¥æ˜¯å¥½å¿ƒäººé€è¿˜æ‰‹æœºè‡ªç„¶å¤§å–œã€‚ä½†ä¹Ÿè¦æé˜²é’“é±¼ç½‘ç«™ï¼Œä¼ªé€ Appleèº«ä»½ç»™ä½ å‘çŸ­ä¿¡æˆ–é‚®ä»¶ï¼Œéª—å–iCloudå¯†ç ï¼ˆlzå·²ä¸Šå½“ç¾žè€»å“­æ™•åœ¨åŽ•æ‰€ï¼‰ ä¸‡ä¸€ä¸å¹¸iCloudå¯†ç æ³„æ¼ï¼Œè¯·åŠæ—¶ä¿®æ”¹Apple IDçš„éªŒè¯é—®é¢˜å’ŒApple IDçš„å¯†ç ã€‚åˆ‡å‹¿ä»¥ä¸ºåªæ”¹å¯†ç ä¸‡äº‹å¤§å‰ï¼Œç›—å–ä½ çš„å¯†ç å°±èƒ½èŽ·å–ä½ çš„éªŒè¯é—®é¢˜çš„ç­”æ¡ˆï¼Œæœ‰äº†éªŒè¯é—®é¢˜ç­”æ¡ˆå°±èƒ½æŸ¥çœ‹ä½ æ›´æ”¹çš„å¯†ç ï¼ˆæ€•ï¼‰å¹¶ä¸”å¯ä»¥è¿œç¨‹æ“ä½œï¼ˆé”å®šã€æŠ¹æŽ‰â€¦ï¼‰ä½ çš„è®¾å¤‡ï¼ˆlzå·²å—å®³äºŒæ¬¡å“­æ™•åœ¨åŽ•æ‰€ï¼‰ ä¸ºé˜²ä¸‡ä¸€ï¼Œå»ºè®®åœ¨iCloudçš„ç®¡ç†æˆ‘çš„Apple IDé‡Œå¼€å¯ä¸¤æ­¥éªŒè¯ï¼Œæ­¤åŽè¦æ“ä½œè¿œç¨‹å‘½ä»¤å°±éœ€è¦çŸ­ä¿¡éªŒè¯ç å†åŠ ä¸Šå¯†ç æˆ–éªŒè¯é—®é¢˜ã€‚ï¼ˆå¼€å¯ä¸¤æ­¥éªŒè¯ä¼šç»™ä½ ä¸€ä»½å­—æ¯åŠ æ•°å­—çš„å¯†é’¥ï¼Œå¾ˆé‡è¦ï¼Œæ˜¯ä½ ä¸¢å¤±å¯†ç æˆ–æ‰‹æœºå¡åŽçš„å”¯ä¸€å‡­è¯ï¼Œåˆ‡è®°ä¿å­˜å¥½ï¼‰ é‚£ä¹ˆæ•…äº‹æ˜¯è¿™æ ·çš„ï¼šäº‹æƒ…å‘ç”Ÿåœ¨15å¹´10æœˆ8å·ï¼Œå´å¹¶éžèµ·å§‹äºŽè¿™ä¸ªæ—¥æœŸã€‚8å·ä¸Šåˆå¦‚å¾€å¸¸ä¸€æ ·æ‰“å¼€Macå‡†å¤‡ç å­—ï¼Œè”ç½‘ä¹‹åŽå¼¹å‡ºä¸€ä¸ªæç¤ºiCloudä»€ä¹ˆçš„å¯¹è¯æ¡†ï¼Œç‚¹äº†ç¡®å®šMacå°±é‡å¯äº†ï¼Œé‡å¯ä¹‹åŽç«Ÿå‡ºçŽ°è¿™æ ·çš„ç•Œé¢ï¼šè¿™æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿåˆšå¼€å§‹å››ä¸ªæ–¹æ¡†ä¸Šæç¤ºï¼šè¾“å…¥é”å®šæ­¤ç³»ç»Ÿçš„PINç æ¥è§£é”ã€‚whatï¼ŸPINç ï¼Ÿæˆ‘æ²¡æœ‰å•Šï¼Œå´©æºƒï¼ç™¾åº¦ä¸€äº›æç¤ºè¯´æŒ‰ä½optioné”®é‡æ–°å¼€æœºã€‚ç„¶åŽå‡ºçŽ°äº†ä¸€ä¸ªé”å¤´ï¼ˆè¿™å°±æ˜¯å›ºä»¶é”ï¼‰å¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨ï¼Œé‚æ‹¨æ‰“4006-272273ï¼ˆè‹¹æžœæŠ€æœ¯æ”¯æŒçƒ­çº¿ï¼‰å¯»åŠ©AppleCareï¼Œä¸€ç³»åˆ—é—®ç­”ä¹‹åŽå¤§æ¦‚æ˜Žç™½äº†åº”è¯¥æ˜¯iCloudå¯†ç æ³„æ¼ï¼ŒMacè¢«è¿œç¨‹æ¶æ„é”å®šã€‚å®¢æœè¯¢é—®æˆ‘çš„Apple IDæ˜¯å’Œåˆ«äººå…±ç”¨è¿˜æ˜¯æ€Žæ ·æ³„æ¼è¿‡ï¼Œæ‰å›žæƒ³èµ·7æœˆä»½å¤±çªƒä¸€éƒ¨iPhone6ï¼ˆæ–°æœºã€å¿ƒç—›ï¼‰ è¿™å°±æ˜¯æ•…äº‹çš„èµ·ç‚¹ï¼šå¤±çªƒiPhoneåŽéšå³ç™»å½•iCloudå°†iPhone6è®¾ä¸ºä¸¢å¤±æ¨¡å¼ï¼ˆè¿™æ—¶å¯ç•™ä¸‹ä¸€ä¸ªè”ç³»æ–¹å¼æ˜¾ç¤ºåœ¨æ‰‹æœºè§£é”å±å¹•ä¸Šï¼‰å‡ å¤©åŽæ”¶åˆ°ä¸€æ¡çŸ­ä¿¡ï¼ˆæ¥è‡ªé¦™æ¸¯å·ç ï¼‰ä»¥è‹¹æžœçš„èº«ä»½ï¼Œå¤§ä½“æ„æ€è¯´ æ‚¨çš„iPhoneåœ¨è‹¹æžœå”®åŽç”³è¯·æ¢æœºï¼Œå› å‡­è¯ä¿¡æ¯ä¸ç¬¦è¢«Appleå”®åŽæˆªä¸‹ï¼Œè‹¥æƒ…å†µç¬¦å®žè¯·ç™»å½• iCloudç½‘ç«™ï¼ˆä¸€æ®µç½‘å€ï¼‰ç”³è¯·æ‰£æœºï¼Œç¡®è®¤ä¿¡æ¯åŽAppleä¼šè”ç³»è­¦å¯Ÿäº¤è¿˜æ‰‹æœºã€‚ã€‚ã€‚ã€‚ã€‚ ä¸€å¼€å§‹æ²¡æ³¨æ„æ˜¯å› ä¸ºå¯¹äºŽæ‰¾å›žæ‰‹æœºå·²ç»ä¸æŠ±å¸Œæœ›äº†ï¼ˆå°½ç®¡æˆ‘è¿˜æ²¡æœ‰é”å®šiPhoneï¼Œæ±—ï¼‰åŽæ¥çœ‹åˆ°å¯ç”³è¯·æ‰£æœºï¼ˆå…¶å®žä¸€å¼€å§‹æ˜¯çŸ­ä¿¡å¤ªé•¿æ²¡çœ‹æ‡‚ï¼Œç¬‘ï¼‰å› ä¸ºå¤±çªƒåŽå·²æŠ¥è­¦ï¼Œåˆçœ‹åˆ°å¸Œæœ›çš„æˆ‘å†…å¿ƒæ˜¯é¸¡å†»çš„ã€‚ç„¶åŽå°±ä¸Šç½‘ç™»å½•â€iCoud.comâ€(å’Œå¹³å¸¸ç™»å½•æ—¶çš„iCloudç•Œé¢ä¸€ä¸ªæ¨¡æ ·)ç†Ÿç»ƒè¾“å…¥å¸å·å¯†ç ï¼Œç™»å½•ä¹‹åŽæ‰¾åŠå¤©å¹¶æ²¡æœ‰æ‰¾å›žiPhoneå•Šï¼Œé‚ç”µè¯Appleå®¢æœè¢«æƒ¨ç—›å‘ŠçŸ¥ï¼šè¿™æ˜¯é’“é±¼ç½‘ç«™éª—å–Apple IDå¯†ç çš„å¸¸è§æ‰‹æ³•ã€‚èµ¶ç´§åˆ°iCloudå®˜ç½‘æŸ¥çœ‹æˆ‘çš„è®¾å¤‡ï¼Œå·²ä¸è§iPhone6çš„è¸ªå½±ï¼ˆå“­ï¼‰è¿™é‡Œè¦è¯´å®¢æœæ€åº¦å¾ˆå¥½ï¼Œåœ¨æˆ‘ä¼ è¾¾äº†æ”¶åˆ°çš„çŸ­ä¿¡åŽï¼Œä»–ä»¬é¦–å…ˆå…³æ³¨çš„æ˜¯æˆ‘æ˜¯å¦å·²è¾“å…¥äº†ç™»å½•å¯†ç ã€‚ å¦‚æ­¤çœ‹æ¥ä¾¿æ˜¯é‚£æ—¶å€™æ³„æ¼çš„iCloudå¯†ç äº†ã€‚ä¹‹åŽä¸€ç›´æ²¡æœ‰æ”¹å¯†ç ï¼ˆæ±—ï¼‰è€Œå¯æ¶çš„ç›—çªƒè€…åœ¨ç›—å–æˆ‘çš„iCloudå¯†ç åŽç«Ÿé»˜é»˜è›°ä¼è‡³ä»Šæˆ‘åœ¨6å·æ™š12ç‚¹å·¦å³å› ä¸º6sçš„æŸåŽŸå› åœ¨æ‰‹æœºä¸Šä¿®æ”¹äº†iCloudå¯†ç ï¼Œåœ¨Macè¢«é”åŽå‘çŽ°ä¸€ä»½iCloudé‚®ä»¶æç¤ºæˆ‘çš„Macåœ¨7å·ä¸‹åˆå…«ç‚¹å¤šçš„æ—¶å€™è¢«é”å®šã€‚ä»¥æ­¤æŽ¨æ–­åº”è¯¥æ˜¯æˆ‘æ”¹å¯†ç çš„è¡Œä¸ºè§¦åŠ¨äº†ç›—çªƒè€…æ‰€ä»¥è¿œç¨‹é”å®šäº†æˆ‘çš„Macï¼Œä¹‹å‰æˆ‘ä»¥ä¸ºæ”¹å¯†ç åœ¨Macè¢«é”ä¹‹å‰è´¦å·åº”è¯¥æ˜¯å®‰å…¨çš„ï¼ŒåŽæ¥æ‰çŸ¥å¹¶éžå¦‚æ­¤ï¼ˆå¦‚å‰è¨€æ‰€è¿°ï¼‰å‰åŽæ‰“äº†å››äº”æ¬¡400ï¼Œæœ‰ä¸€æ¬¡ä¸ºæŸ¥çœ‹Apple IDçš„åŠ¨æ€è¦è½¬æŽ¥Appleçš„æœ€é«˜çº§åˆ«å®‰å…¨éƒ¨é—¨ï¼Œè½¬æŽ¥ç­‰å¾…ä¸€ä¸ªåŠå°æ—¶æ²¡æŽ¥é€šï¼ˆæ±—ï¼‰ä¸è¿‡å®¢æœä»¬çš„æ€åº¦éƒ½ç‰¹åˆ«çƒ­æƒ…ï¼Œè¿™ç‚¹å¾ˆæ¬£æ…°ï¼åªæ˜¯å¥¹ä»¬è²Œä¼¼å¯¹PINç ä»€ä¹ˆçš„ä¹Ÿè¯´ä¸å¤ªæ¸…ï¼Œå¤§æ¦‚è®¤å®šä¸ºè¢«äººè¿œç¨‹æ¶æ„é”å®šäº†ã€‚ è§£å†³æ–¹æ¡ˆï¼šåˆ°å”®åŽè§£é”ï¼Œèµ¶åˆ°å¸‚é‡Œï¼Œå”®åŽæ€åº¦ä¹Ÿå¾ˆå¥½ï¼Œåªæ˜¯ä»–ä»¬ä¹Ÿè¯´ä¸æ¸…æ¥šPINç ä»€ä¹ˆçš„ï¼Œä»Šå¤©å–Macæ—¶ä¸€ä½æŠ€æœ¯å¤§å“¥æ€»ç®—ç»™è®²æ˜Žç™½æ€Žä¹ˆå›žäº‹ï¼Œè§£é‡Šå¦‚ä¸‹ï¼š1ï¼‰åœ¨æŸ¥æ‰¾æˆ‘çš„iPhoneé‡Œé”å®šæˆ‘çš„iPhoneæˆ–iPadå¯é€šè¿‡å¯†ç è§£é”ï¼Œè‹¥å¿˜è®°å¯†ç å¯å‘è‹¹æžœç”³è¯·è§£é”ï¼ˆéœ€è¦è®¾å¤‡çš„è´­ä¹°å‡­è¯ï¼Œå¿…é¡»è¦ä¸”æœ‰æ•ˆï¼‰2ï¼‰ä½†æ˜¯ï¼Œé”å®šMacæ—¶ä¼šè¾“å…¥ä¸€ä¸ªå¯†ç ï¼Œè¿™ä¸ªå¯†ç å°±æ˜¯ä¸Šé¢æåˆ°çš„PINç  è¾“å…¥PINç å¯ä»¥è¿›å…¥ç³»ç»Ÿä½†æ˜¯ä¸èƒ½è¿›è¡Œæ›´æ”¹ç¡¬ç›˜æ“ä½œ è‹¥æ˜¯å¿˜è®°PINç æˆ–è€…æ˜¯è¢«æ¶æ„é”å®šçš„ï¼ŒæŒ‰ç»„åˆé”®Command+Option+P+Rå¯ä»¥æ¸…ç©ºPINç ç„¶åŽè¿›å…¥ç³»ç»Ÿä½†ä»ç„¶ä¸èƒ½è¿›è¡Œæ›´æ”¹ç¡¬ç›˜æ“ä½œã€‚ å¼€æœºæ—¶æŒ‰ä½optioné”®è¿›å…¥ç£ç›˜åˆ†åŒºæ—¶å°±ä¼šå‡ºçŽ°å›ºä»¶é”ï¼Œåœ¨è¿™é‡Œè¾“å…¥PINç ä¹Ÿå¯ä»¥è¿›å…¥ç³»ç»Ÿä»ç„¶ä¸èƒ½è¿›è¡Œæ›´æ”¹ç¡¬ç›˜æ“ä½œã€‚æ€Žæ ·æ‰èƒ½è§£å¼€å›ºä»¶é”ï¼Œåªæœ‰åŽ»å”®åŽäº†ï¼Œä»–ä»¬å‘Appleæä¾›å›ºä»¶é”çš„ä¿¡æ¯ï¼ŒAppleåšä¸€ä¸ªè§£å¯†åŒ…å‘å›žæ¥è§£é”ï¼ŒæµŽå—å”®åŽèŠ±è´¹300å¤§æ´‹ï¼Œå€’æ˜¯ä¸è´µå¯æ˜¯å¿ƒç—›ï¼ˆå“­ï¼‰ ä¸ºä¿å®‰å…¨ï¼Œä½ ä¹Ÿå¯ä»¥ä¸ºä½ çš„MacåŠ ä¸Šå›ºä»¶é”ï¼Œè‡ªè¡Œç™¾åº¦ï¼ˆç”šç”¨ï¼Œå¿˜äº†å¿ƒæƒ…å°±ä¸å¥½äº†ã€‚ã€‚ã€‚ï¼‰ æœ€åŽä¸å¹¸ä¸­çš„ä¸‡å¹¸æ˜¯ï¼Œç›—çªƒè€…æˆ–è®¸å…ˆç‚¹çš„é”å®šMacè¿™ä¸€ä¸å¯é€†çš„è¿‡ç¨‹å¯¼è‡´æŠ¹æŽ‰Macä¸å¯ç”¨ï¼Œåˆæˆ–è€…å…¶ä»–çš„ç½‘ç»œè¿žæŽ¥ä»€ä¹ˆçš„åŽŸå› æ€»ä¹‹æˆ‘çš„ç¡¬ç›˜èµ„æ–™æ²¡æœ‰è¢«æŠ¹ã€‚æŠ€æœ¯å¤§å“¥è¯´ä¹‹å‰è§£æŽ‰çš„å‡ ä¸ªå›ºä»¶é”æ‰“å¼€åŽæ•°æ®éƒ½æ˜¯è¢«æŠ¹æŽ‰çš„ï¼Œè¿žç³»ç»Ÿéƒ½æ²¡äº†ï¼ˆåº†å¹¸ï¼‰å‘çŽ°èµ„æ–™è¿˜åœ¨æ—¶å¿ƒæƒ…æ˜¯æ— æ³•ç”¨è¯­è¨€è¡¨è¾¾çš„ï¼Œå°±ç”¨å¾®åšä¸Šä¸€å¸…å“¥çš„è¡¨æƒ…æ¥è¡¨è¾¾å§ å†æ¬¡å‘Šè¯«å¹¿å¤§æžœå‹ï¼š åœ¨ä¿æŠ¤å¥½è‡ªå·±appleè®¾å¤‡çš„åŒæ—¶æ›´è¦ä¿æŠ¤å¥½è‡ªå·±çš„Apple IDå¯†ç ï¼Œæœ€å¥½å¼€å¯ä¸¤æ­¥éªŒè¯ã€‚ å¯¹äºŽé‡è¦æ–‡ä»¶åŠæ—¶åšå¥½å¤‡ä»½ï¼ŒAppleçš„é”åšçš„å¾ˆå¼ºå¤§ï¼Œæžå¥½çš„ä¿æŠ¤äº†æˆ‘ä»¬çš„è®¾å¤‡å’Œæ•°æ®ï¼Œå¯æ˜¯ä¸€æ—¦æ³„éœ²iCloudå¯†ç ä¼¤å®³ä¹Ÿä¼šå¾ˆè‡´å‘½ å¯¹äºŽå¤‡ä»½ï¼ŒMacä¸Šæœ‰Time Machineå¤‡ä»½å·¥å…·ç”šæ˜¯å¥½ç”¨ï¼Œå¬èµ·æ¥ï¼ˆå˜¿ï¼‰ä¹Ÿæ˜¯å”®åŽçš„æŠ€æœ¯å¤§å“¥å‘ŠçŸ¥çš„ï¼Œæ„Ÿè°¢AppleCareå’ŒAppleå”®åŽçš„å¥½æ€åº¦ã€‚ åŽè®°è½¬è½½è¯·ä¿ç•™åŽŸæ–‡åœ°å€ï¼šhttp://gonghonglou.com/2016/03/03/protect-apple-id è¿ç§»æ–‡ç«  é¦–å‘äºŽ2015-10-10]]></content>
      <categories>
        <category>Life</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Macä¸Šæ­å»ºåŸºäºŽGitHubçš„Hexoåšå®¢]]></title>
    <url>%2F2016%2F02%2F03%2Ffirstblog%2F</url>
    <content type="text"><![CDATA[è¿™æ˜¯ä¸€ç¯‡è¯¦ç»†æ–‡ç« æ¥è®²è¿°ç”¨Macæ­å»ºHexoåšå®¢äºŽGithubä¸Šçš„å®Œæ•´åŽ†ç¨‹ï¼Œ ä¹Ÿæ˜¯è¸©äº†æ— æ•°çš„å‘æ­èµ·æ¥çš„ï¼ŒçŽ°åœ¨å†™ä¸‹äº›ç»éªŒæ¥åˆ†äº«ï¼Œå¸Œæœ›èƒ½å¸®å¤§å®¶å°‘è¸©äº›å‘ã€‚ æ›¾ä¹°è¿‡ä¸€æ¬¾é˜¿é‡Œçš„äº‘è™šæ‹Ÿä¸»æœºï¼ŒåŽæ¥æ‰å‘çŽ°ä¸èƒ½è‡ªå·±è£…è½¯ä»¶åªèƒ½ä¸Šä¼ ç½‘ç«™ç¨‹åºï¼Œé™¤éžå¦ä¹°ECSï¼Œå¯¹äºŽç¬¬ä¸€ä¸ªæœˆçš„å®žä¹ å·¥èµ„è¿˜æ²¡æ‹¿åˆ°æ‰‹çš„æˆ‘æƒ³æƒ³è¿˜æ˜¯ç®—äº†ï¼Œå…ˆç”¨Wordpressæ­èµ·æ¥çŽ©çŽ©å§ã€‚ç„¶è€Œåœ¨ä¸Šä¼ ç½‘ç«™ç¨‹åºä¸­å‡ æ¬¡å¤±è´¥ï¼Œæœ¬å°±è§‰å¾—æ²¡åŠ²ï¼Œé‚ä¸€æ€’è½¬å‘Githubã€‚å¥½äº†ï¼ŒåºŸè¯å°‘è¯´ï¼Œå¼€å§‹å§ã€‚ çŽ¯å¢ƒé…ç½®Hexoå®˜ç½‘ä¸Šæœ¬å°±æœ‰å¯¹Hexoå®‰è£…åŠä½¿ç”¨çš„è¯¦ç»†ä»‹ç»ï¼Œå¢™è£‚æŽ¨èã€‚è¿™é‡Œæ¥è®²è¿°è‡ªå·±å®‰è£…çš„äº²èº«æ­¥éª¤ï¼Œæˆ–æœ‰åŒºåˆ«ã€‚ 1.Node.jsç”¨æ¥ç”Ÿæˆé™æ€é¡µé¢ã€‚ç§»æ­¥Node.jså®˜ç½‘ï¼Œä¸‹è½½v5.5.0 Stable ä¸€è·¯å®‰è£…å³å¯ã€‚ 2.Gitç”¨æ¥å°†æœ¬åœ°Hexoå†…å®¹æäº¤åˆ°Githubä¸Šã€‚Xcodeè‡ªå¸¦Gitï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚å¦‚æžœæ²¡æœ‰Xcodeå¯ä»¥å‚è€ƒHexoå®˜ç½‘ä¸Šçš„å®‰è£…æ–¹æ³•ã€‚ å®‰è£…Hexoå½“Node.jså’ŒGitéƒ½å®‰è£…å¥½åŽå°±å¯ä»¥æ­£å¼å®‰è£…Hexoäº†ï¼Œç»ˆç«¯æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š1$ sudo npm install -g hexo è¾“å…¥ç®¡ç†å‘˜å¯†ç ï¼ˆMacç™»å½•å¯†ç ï¼‰å³å¼€å§‹å®‰è£… (sudo:linuxç³»ç»Ÿç®¡ç†æŒ‡ä»¤ -g:å…¨å±€å®‰è£…) æ³¨æ„å‘ä¸€ï¼šHexoå®˜ç½‘ä¸Šçš„å®‰è£…å‘½ä»¤æ˜¯$ npm install -g hexo-cliï¼Œå®‰è£…æ—¶ä¸è¦å¿˜è®°å‰é¢åŠ ä¸Šsudoï¼Œå¦åˆ™ä¼šå› ä¸ºæƒé™é—®é¢˜æŠ¥é”™ã€‚ åˆå§‹åŒ–ç»ˆç«¯cdåˆ°ä¸€ä¸ªä½ é€‰å®šçš„ç›®å½•ï¼Œæ‰§è¡Œhexo initå‘½ä»¤ï¼š 1$ hexo init blog blogæ˜¯ä½ å»ºç«‹çš„æ–‡ä»¶å¤¹åç§°ã€‚cdåˆ°blogæ–‡ä»¶å¤¹ä¸‹ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå®‰è£…npmï¼š1$ npm install æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå¼€å¯hexoæœåŠ¡å™¨ï¼š1$ hexo s æ­¤æ—¶ï¼Œæµè§ˆå™¨ä¸­æ‰“å¼€ç½‘å€http://localhost:4000ï¼Œèƒ½çœ‹åˆ°å¦‚ä¸‹é¡µé¢ï¼š æœ¬åœ°è®¾ç½®å¥½åŽï¼ŒæŽ¥ä¸‹æ¥å¼€å§‹å…³è”Githubã€‚ å…³è”Github1.åˆ›å»ºä»“åº“ç™»å½•ä½ çš„Githubå¸å·ï¼Œæ–°å»ºä»“åº“ï¼Œåä¸ºç”¨æˆ·å.github.ioå›ºå®šå†™æ³•ï¼Œå¦‚gonghonglou.github.ioå³ä¸‹å›¾ä¸­1æ‰€ç¤ºï¼š æœ¬åœ°çš„blogæ–‡ä»¶å¤¹ä¸‹å†…å®¹ä¸ºï¼š1234567_config.yml db.json node_modules package.jsonscaffoldssourcethemes ç»ˆç«¯cdåˆ°blogæ–‡ä»¶å¤¹ä¸‹ï¼Œvimæ‰“å¼€_config.ymlï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š1$ vim _config.yml æ‰“å¼€åŽå¾€ä¸‹æ»‘åˆ°æœ€åŽï¼Œä¿®æ”¹æˆä¸‹è¾¹çš„æ ·å­ï¼š1234deploy: type: git repository: https://github.com/gonghonglou/gonghonglou.github.io.git branch: master ä½ éœ€è¦å°†repositoryåŽgonghonglouæ¢æˆä½ è‡ªå·±çš„ç”¨æˆ·åï¼Œåœ°å€åœ¨ä¸Šå›¾2ä½ç½®èŽ·å–ã€‚hexo 3.1.1ç‰ˆæœ¬åŽtype:å€¼ä¸ºgitã€‚ æ³¨æ„å‘äºŒï¼šåœ¨é…ç½®æ‰€æœ‰çš„_config.ymlæ–‡ä»¶æ—¶ï¼ˆåŒ…æ‹¬themeä¸­çš„ï¼‰ï¼Œåœ¨æ‰€æœ‰çš„å†’å·:åŽè¾¹éƒ½è¦åŠ ä¸€ä¸ªç©ºæ ¼ï¼Œå¦åˆ™æ‰§è¡Œhexoå‘½ä»¤ä¼šæŠ¥é”™ï¼Œåˆ‡è®° åˆ‡è®° åœ¨blogæ–‡ä»¶å¤¹ç›®å½•ä¸‹æ‰§è¡Œç”Ÿæˆé™æ€é¡µé¢å‘½ä»¤ï¼š1$ hexo generate æˆ–è€…ï¼šhexo g æ­¤æ—¶è‹¥å‡ºçŽ°å¦‚ä¸‹æŠ¥é”™ï¼š ERROR Local hexo not found in ~/blog ERROR Try runing: 'npm install hexo --save' åˆ™æ‰§è¡Œå‘½ä»¤ï¼š npm install hexo --save è‹¥æ— æŠ¥é”™ï¼Œè‡ªè¡Œå¿½ç•¥æ­¤æ­¥éª¤ã€‚ å†æ‰§è¡Œé…ç½®å‘½ä»¤ï¼š1$ hexo deploy æˆ–è€…ï¼šhexo d æ³¨æ„å‘ä¸‰ï¼šè‹¥æ‰§è¡Œå‘½ä»¤hexo deployä»ç„¶æŠ¥é”™ï¼šæ— æ³•è¿žæŽ¥gitæˆ–æ‰¾ä¸åˆ°gitï¼Œåˆ™æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ¥å®‰è£…hexo-deployer-gitï¼š $ npm install hexo-deployer-git --save å†æ¬¡æ‰§è¡Œhexo generateå’Œhexo deployå‘½ä»¤ã€‚ è‹¥ä½ æœªå…³è”Githubï¼Œåˆ™æ‰§è¡Œhexo deployå‘½ä»¤æ—¶ç»ˆç«¯ä¼šæç¤ºä½ è¾“å…¥Githubçš„ç”¨æˆ·åå’Œå¯†ç ï¼Œå³12Username for 'https://github.com':Password for 'https://github.com': hexo deployå‘½ä»¤æ‰§è¡ŒæˆåŠŸåŽï¼Œæµè§ˆå™¨ä¸­æ‰“å¼€ç½‘å€http://gonghonglou.github.ioï¼ˆå°†gonghonglouæ¢æˆä½ çš„ç”¨æˆ·åï¼‰èƒ½çœ‹åˆ°å’Œæ‰“å¼€http://localhost:4000æ—¶ä¸€æ ·çš„é¡µé¢ã€‚ ä¸ºé¿å…æ¯æ¬¡è¾“å…¥Githubç”¨æˆ·åå’Œå¯†ç çš„éº»çƒ¦ï¼Œå¯å‚ç…§ç¬¬äºŒèŠ‚æ–¹æ³• 2.æ·»åŠ ssh keyåˆ°Github1.1.æ£€æŸ¥SSH keysæ˜¯å¦å­˜åœ¨Githubæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œæ£€æŸ¥SSH keysæ˜¯å¦å­˜åœ¨ã€‚å¦‚æžœæœ‰æ–‡ä»¶id_rsa.pubæˆ–id_dsa.pubï¼Œåˆ™ç›´æŽ¥è¿›å…¥æ­¥éª¤1.3å°†SSH keyæ·»åŠ åˆ°Githubä¸­ï¼Œå¦åˆ™è¿›å…¥ä¸‹ä¸€æ­¥ç”ŸæˆSSH keyã€‚1$ ls -al ~/.ssh 1.2.ç”Ÿæˆæ–°çš„ssh keyæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ç”Ÿæˆpublic/private rsa key pairï¼Œæ³¨æ„å°†your_email@example.comæ¢æˆä½ è‡ªå·±æ³¨å†ŒGithubçš„é‚®ç®±åœ°å€ã€‚1$ ssh-keygen -t rsa -C "your_email@example.com" é»˜è®¤ä¼šåœ¨ç›¸åº”è·¯å¾„ä¸‹ï¼ˆ~/.ssh/id_rsa.pubï¼‰ç”Ÿæˆid_rsaå’Œid_rsa.pubä¸¤ä¸ªæ–‡ä»¶ã€‚ 1.3.å°†ssh keyæ·»åŠ åˆ°Githubä¸­Findå‰å¾€æ–‡ä»¶å¤¹~/.ssh/id_rsa.pubæ‰“å¼€id_rsa.pubæ–‡ä»¶ï¼Œé‡Œé¢çš„ä¿¡æ¯å³ä¸ºSSH keyï¼Œå°†è¿™äº›ä¿¡æ¯å¤åˆ¶åˆ°Githubçš„Add SSH keyé¡µé¢å³å¯ã€‚ è¿›å…¥Github â€“&gt; Settings â€“&gt; SSH keys â€“&gt; add SSH key: Titleé‡Œä»»æ„æ·»ä¸€ä¸ªæ ‡é¢˜ï¼Œå°†å¤åˆ¶çš„å†…å®¹ç²˜è´´åˆ°Keyé‡Œï¼Œç‚¹å‡»ä¸‹æ–¹Add keyç»¿è‰²æŒ‰é’®å³å¯ã€‚ 3.å‘å¸ƒæ–‡ç« ç»ˆç«¯cdåˆ°blogæ–‡ä»¶å¤¹ä¸‹ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ–°å»ºæ–‡ç« ï¼š1$ hexo new "postName" åä¸ºpostName.mdçš„æ–‡ä»¶ä¼šå»ºåœ¨ç›®å½•/blog/source/_postsä¸‹ï¼ŒpostNameæ˜¯æ–‡ä»¶åï¼Œä¸ºæ–¹ä¾¿é“¾æŽ¥ä¸å»ºè®®æŽºæ‚æ±‰å­—ã€‚ä½ å½“ç„¶å¯ä»¥ç”¨vimæ¥ç¼–è¾‘æ–‡ç« ã€‚æˆ‘åœ¨ç”¨Mouç¼–è¾‘å™¨ï¼Œæ”¯æŒé¢„è§ˆï¼Œè™½ç„¶å…¶é¢„è§ˆä¸»é¢˜å¹¶éžæˆ‘å–œæ¬¢ï¼Œå¦‚æžœä½ æœ‰å¥½ç”¨çš„markdownç¼–è¾‘å™¨è¯·æŽ¨èç»™æˆ‘ï¼Œæ„Ÿæ¿€ä¸å°½ï¼ æ–‡ç« ç¼–è¾‘å®ŒæˆåŽï¼Œç»ˆç«¯cdåˆ°blogæ–‡ä»¶å¤¹ä¸‹ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ¥å‘å¸ƒï¼š123hexo generate //ç”Ÿæˆé™æ€é¡µé¢hexo deploy //å°†æ–‡ç« éƒ¨ç½²åˆ°Github è‡³æ­¤ï¼ŒMacä¸Šæ­å»ºåŸºäºŽGithubçš„Hexoåšå®¢å°±å®Œæˆäº†ã€‚ä¸‹é¢çš„å†…å®¹æ˜¯ä»‹ç»å®‰è£…themeå’Œç»‘å®šä¸ªäººåŸŸåï¼Œå¦‚æžœæœ‰å…´è¶£ä¸”è¿˜æœ‰è€å¿ƒçš„è¯ï¼Œè¯·ç»§ç»­å§ã€‚ å®‰è£…themeä½ å¯ä»¥åˆ°Hexoå®˜ç½‘ä¸»é¢˜é¡µåŽ»æœå¯»è‡ªå·±å–œæ¬¢çš„themeã€‚è¿™é‡Œä»¥hexo-theme-nextä¸ºä¾‹ ç»ˆç«¯cdåˆ° blog ç›®å½•ä¸‹æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š1$ git clone https://github.com/iissnan/hexo-theme-next themes/next å°†blogç›®å½•ä¸‹_config.ymlé‡Œthemeçš„åç§°landscapeä¿®æ”¹ä¸ºnext ç»ˆç«¯cdåˆ°blogç›®å½•ä¸‹æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤(æ¯æ¬¡éƒ¨ç½²æ–‡ç« çš„æ­¥éª¤)ï¼š12345$ hexo clean //æ¸…é™¤ç¼“å­˜æ–‡ä»¶ (db.json) å’Œå·²ç”Ÿæˆçš„é™æ€æ–‡ä»¶ (public)$ hexo g //ç”Ÿæˆç¼“å­˜å’Œé™æ€æ–‡ä»¶$ hexo d //é‡æ–°éƒ¨ç½²åˆ°æœåŠ¡å™¨ è‡³äºŽæ›´æ”¹themeå†…å®¹æ¯”å¦‚åç§°ã€æè¿°ã€å¤´åƒç­‰åŽ»ä¿®æ”¹blog/_config.ymlæ–‡ä»¶å’Œblog/themes/next/_config.ymlæ–‡ä»¶ä¸­å¯¹åº”çš„å±žæ€§åç§°å³å¯ï¼Œ ä¸è¦å¿˜è®°å†’å·:åŽåŠ ç©ºæ ¼ã€‚ NexT ä½¿ç”¨æ–‡æ¡£é‡Œæœ‰æžè¯¦ç»†çš„ä»‹ç»ã€‚ ç»‘å®šä¸ªäººåŸŸåçŽ°åœ¨ä½¿ç”¨çš„åŸŸåæ˜¯Githubæä¾›çš„äºŒçº§åŸŸåï¼Œä¹Ÿå¯ä»¥ç»‘å®šä¸ºè‡ªå·±çš„ä¸ªæ€§åŸŸåã€‚è´­ä¹°åŸŸåï¼Œå¯ä»¥åˆ°GoDaddyå®˜ç½‘ï¼Œç½‘å‹äº²åˆ‡ç§°å‘¼ä¸ºï¼šç‹—çˆ¹ï¼Œä¹Ÿå¯ä»¥åˆ°é˜¿é‡Œä¸‡ç½‘è´­ä¹°ã€‚æˆ‘æ˜¯åœ¨ä¸‡ç½‘ä¹°çš„ï¼Œå¯ç›´æŽ¥åœ¨å…¶ç½‘ç«™åšåŸŸåè§£æžã€‚ 1.Githubç«¯åœ¨/blog/themes/next/sourceç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶åä¸ºï¼šCNAMEæ–‡ä»¶ï¼Œæ³¨æ„æ²¡æœ‰åŽç¼€åï¼ç›´æŽ¥å°†è‡ªå·±çš„åŸŸåå¦‚ï¼šgonghonglou.comå†™å…¥ã€‚ ç»ˆç«¯cdåˆ°blogç›®å½•ä¸‹æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤é‡æ–°éƒ¨ç½²ï¼š12345$ hexo clean$ hexo g$ hexo d æ³¨æ„å‘å››ï¼šç½‘ä¸Šè®¸å¤šéƒ½æ˜¯è¯´åœ¨Githubä¸Šç›´æŽ¥æ–°å»ºCNAMEæ–‡ä»¶ï¼Œå¦‚æžœè¿™æ ·çš„è¯ï¼Œåœ¨ä½ ä¸‹ä¸€æ¬¡æ‰§è¡Œhexo déƒ¨ç½²å‘½ä»¤åŽCNAMEæ–‡ä»¶å°±æ¶ˆå¤±äº†ï¼Œå› ä¸ºæœ¬åœ°æ²¡æœ‰æ­¤æ–‡ä»¶å˜›ã€‚ 2.åŸŸåè§£æžå¦‚æžœå°†åŸŸåæŒ‡å‘ä¸€ä¸ªåŸŸåï¼Œå®žçŽ°ä¸Žè¢«æŒ‡å‘åŸŸåç›¸åŒçš„è®¿é—®æ•ˆæžœï¼Œéœ€è¦å¢žåŠ CNAMEè®°å½•ã€‚ç™»å½•ä¸‡ç½‘ï¼Œåœ¨ä½ è´­ä¹°çš„åŸŸååŽè¾¹ç‚¹å‡»ï¼šè§£æž â€“&gt; æ·»åŠ è§£æž è®°å½•ç±»åž‹ï¼šCNAME ä¸»æœºè®°å½•ï¼šå°†åŸŸåè§£æžä¸ºexample.comï¼ˆä¸å¸¦wwwï¼‰ï¼Œå¡«å†™@æˆ–è€…ä¸å¡«å†™ è®°å½•å€¼ï¼šgonghonglou.github.io. (ä¸è¦å¿˜è®°æœ€åŽçš„.ï¼Œgonghonglouæ”¹ä¸ºä½ è‡ªå·±çš„ç”¨æˆ·å)ï¼Œç‚¹å‡»ä¿å­˜å³å¯ï¼Œå¦‚ä¸‹å›¾ï¼š æ­¤æ—¶ï¼Œç‚¹å‡»è®¿é—®http://gonghonglou.comå’Œè®¿é—®http://gonghonglou.github.ioæ•ˆæžœä¸€è‡´ã€‚ å¤§åŠŸå‘Šæˆï¼ â€”â€”11.10æ›´æ–° ä»¥ä¸‹â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”1ã€è§£å†³ deploy åŽåšå®¢ç©ºç™½é—®é¢˜æ˜¨æ™šæ›´æ–°äº†ä¸€ä¸‹ blog åšäº†ä¸ªéƒ¨ç½²ï¼Œç»“æžœblogå°±æŒ‚äº†ï¼Œæ‰“å¼€ gonghonglou.com é¡µé¢æ˜¾ç¤ºä¸€ç‰‡ç©ºç™½ã€‚ç„¶è€Œ hexo s å¼€å¯æœ¬åœ°æœåŠ¡å™¨ localhost:4000 è®¿é—®æ˜¯æ²¡é—®é¢˜çš„ã€‚ä¸Šç½‘æŸ¥äº†ä¸€ä¸‹ï¼ŒåŽŸæ¥æ˜¯ GitHub Pages ç¦æ­¢äº† source/vendors ç›®å½•çš„è®¿é—®ã€‚Github åœ¨ 11 æœˆ 3 æ—¥æ›´æ–°äº†ç‰ˆæœ¬ã€‚å…¶ä¸­åŒ…æ‹¬å‡çº§äº† Jekyll åˆ° 3.3ã€‚Jekyll ä¸ºäº†åŠ å¿«æž„å»ºé€Ÿåº¦ï¼Œå¿½ç•¥ vendor å’Œ node_modules æ–‡ä»¶å¤¹ã€‚æ‰€ä»¥éƒ¨ç½²åˆ° GitHub åŽï¼Œè¯†åˆ«ä¸åˆ°æœ¬åœ°ä¸‹çš„çš„è¿™ä¸ªæ–‡ä»¶å¤¹ blog/themes/next/source/vendorï¼Œä½ åªéœ€è¦ç»™è¿™ä¸ªæ–‡ä»¶å¤¹æ¢ä¸ªåå­—å†é‡æ–°éƒ¨ç½²ä¸€æ¬¡å°± OK äº†ã€‚nexT åœ¨ GitHub ä¸Šçš„ isusses å·²ç»ç»™å‡ºäº†è§£å†³æ–¹æ¡ˆï¼š#1214 è¿˜æœ‰å¦ä¸€ç§è§£å†³æ–¹æ¡ˆå°±æ˜¯å‡çº§ nexT ä¸»é¢˜ï¼Œcd åˆ° blog/themes/next/ ä¸‹æ‰§è¡Œå‘½ä»¤ git pull æ›´æ–°ã€‚ç„¶è€Œï¼Œæœ‰å¯èƒ½å‡çº§åŽå¤šè¯´è¯„è®ºç­‰ç¬¬ä¸‰æ–¹å·¥å…·ä¼šå¤±æ•ˆï¼Œæ…Žç”¨ã€‚ 2ã€å°†ä¸ªäººåšå®¢åŒæ—¶éƒ¨ç½²åˆ° GitHub å’Œ Coding1ã€é¦–å…ˆåˆ° Coding ä¸Šæ³¨å†Œå¹¶å¼€ä¸€ä¸ªé¡¹ç›®ï¼Œé¡¹ç›®åç§°å’Œç”¨æˆ·ä¸ªæ€§åŽç¼€ç›¸åŒï¼ˆæ–¹ä¾¿äºŒçº§åŸŸåè®¿é—®åšå®¢ï¼‰ï¼Œæ‹¿åˆ°é¡¹ç›®çš„ https åœ°å€ 2ã€æ‰“å¼€æœ¬åœ° blog ç›®å½•ä¸‹çš„ _config.yml æ–‡ä»¶ï¼Œä¿®æ”¹å¦‚ä¸‹123456deploy: type: git repository: github: https://github.com/gonghonglou/gonghonglou.github.io.git coding: https://git.coding.net/gonghonglou/gonghonglou.git branch: master 3ã€cd åˆ°æœ¬åœ° blog/source ç›®å½•ä¸‹æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ–°å»º Staticfile æ–‡ä»¶1$ touch Staticfile #åå­—å¿…é¡»æ˜¯Staticfile åŽŸå› æ˜¯ coding.net éœ€è¦ä»¥è¿™ä¸ªæ–‡ä»¶æ¥ä½œä¸ºé™æ€æ–‡ä»¶éƒ¨ç½²çš„æ ‡å¿—ï¼Œå°±æ˜¯è¯´çœ‹åˆ°è¿™ä¸ª Staticfile å°±çŸ¥é“æŒ‰ç…§é™æ€æ–‡ä»¶æ¥å‘å¸ƒã€‚ 4ã€æ‰§è¡Œå‘å¸ƒå‘½ä»¤ hexo g ã€ hexo d 5ã€ä¸ªäººåŸŸåæ·»åŠ ä¸¤æ¡ CNAME è§£æžã€‚å°† gonghonglou.github.io. è§£æžä¸º [æµ·å¤–] ï¼Œå°† gonghonglou.coding.me. è§£æžä¸º [é»˜è®¤] è¿™æ ·å°±æ˜¯ä¸ºäº†ä»Žå›½å†…è®¿é—® gonghonglou.com å°±æ˜¯è®¿é—® Coding ä¸Šçš„åšå®¢é¡¹ç›®ï¼Œä»Žå›½å¤–è®¿é—® gonghonglou.com å°±æ˜¯è®¿é—® GitHub ä¸Šçš„åšå®¢é¡¹ç›®ã€‚ 6ã€åˆ° Coding ä¸Šçš„åšå®¢é¡¹ç›®ä¸»é¡µï¼Œç‚¹å‡» PagesæœåŠ¡ è¾“å…¥éƒ¨ç½²åˆ†æ”¯ master ç«‹å³å¼€å¯ è¿™æ ·å°±å¯ä»¥è®¿é—®è‡ªå·±åœ¨ Coding ä¸Šçš„ä¸ªäººåšå®¢äº† gonghonglou.coding.me/gonghonglou å¦‚æžœåƒè¿™æ ·ä½ çš„ç”¨æˆ·åŽç¼€åä¸Žåšå®¢é¡¹ç›®åç§°ç›¸åŒä½ è¿˜å¯ä»¥çœç•¥é¡¹ç›®åç§°ç›´æŽ¥è®¿é—® gonghonglou.coding.me 7ã€æ·»åŠ åŸŸåç»‘å®šï¼Œè¾“å…¥ä¸ªäººåŸŸåå°± OK äº†ï¼Œå¯èƒ½éœ€è¦è€å¿ƒç­‰å¾…å‡ åˆ†é’Ÿï¼Œè¿™æ ·åœ¨å›½å†…è®¿é—®è‡ªå·±çš„åšå®¢å°±å¿«å¾—å¤šäº†ã€‚ è¯•äº†ä¸€ä¸‹åœ¨å›½å†…è®¿é—® gonghonglou.com æ‹¦ä¸ä½ è¦é£žèµ·æ¥äº†ðŸ˜‚ â€”â€”11.10æ›´æ–° ä»¥ä¸Šâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”åŽè®°ä»¥ä¸Šä¾¿æ˜¯æˆ‘æ­å»ºä¸Žä½³æœŸçš„ä¸ªäººåšå®¢(gonghonglou.com)çš„å…¨è¿‡ç¨‹ï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ï¼Œæ¬¢è¿Žåæ§½ï½ž è½¬è½½è¯·ä¿ç•™åŽŸæ–‡åœ°å€ï¼šhttp://gonghonglou.com/2016/02/03/firstblog Reference Hexoå®˜ç½‘ HEXO å¦‚ä½•ç”ŸæˆSSH key]]></content>
      <categories>
        <category>Technology</category>
      </categories>
  </entry>
</search>