<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  <link href="//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">



<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.5.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="与佳期的个人博客" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.5.0" />






<meta name="description" content="当我还是小白时（比现在更白的时候）对于 UITableViewCell 的行高问题还是比较头疼的，当然这个算是 iOS 开发中相当基础的内容了，但是当时的我就想过，将 UITableViewCell 的行高问题解决了一定写一篇总结博客，所以就有了这篇博客。尽管拖了这。么。久。。。
iOS 的界面中，UITableView 应该是用的最多的控件之一了吧：微信列表、聊天记录、朋友圈、微博 time l">
<meta property="og:type" content="article">
<meta property="og:title" content="UITableViewCell计算行高的几种方式">
<meta property="og:url" content="http://gonghonglou.com/2017/07/05/cell-height/index.html">
<meta property="og:site_name" content="与佳期的个人博客">
<meta property="og:description" content="当我还是小白时（比现在更白的时候）对于 UITableViewCell 的行高问题还是比较头疼的，当然这个算是 iOS 开发中相当基础的内容了，但是当时的我就想过，将 UITableViewCell 的行高问题解决了一定写一篇总结博客，所以就有了这篇博客。尽管拖了这。么。久。。。
iOS 的界面中，UITableView 应该是用的最多的控件之一了吧：微信列表、聊天记录、朋友圈、微博 time l">
<meta property="og:image" content="http://image.gonghonglou.com/CellHeight/cell_label_layout.png">
<meta property="og:image" content="http://image.gonghonglou.com/CellHeight/cell_delegate.png">
<meta property="og:image" content="http://image.gonghonglou.com/CellHeight/cell_label_fream.png">
<meta property="og:updated_time" content="2017-07-05T09:40:18.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="UITableViewCell计算行高的几种方式">
<meta name="twitter:description" content="当我还是小白时（比现在更白的时候）对于 UITableViewCell 的行高问题还是比较头疼的，当然这个算是 iOS 开发中相当基础的内容了，但是当时的我就想过，将 UITableViewCell 的行高问题解决了一定写一篇总结博客，所以就有了这篇博客。尽管拖了这。么。久。。。
iOS 的界面中，UITableView 应该是用的最多的控件之一了吧：微信列表、聊天记录、朋友圈、微博 time l">
<meta name="twitter:image" content="http://image.gonghonglou.com/CellHeight/cell_label_layout.png">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"hide"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 6245606597867865000,
      author: '博主'
    }
  };
</script>

  <title> UITableViewCell计算行高的几种方式 | 与佳期的个人博客 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">与佳期的个人博客</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">登白薠兮骋望，与佳期兮夕张。</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th fa-fw"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-user fa-fw"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                UITableViewCell计算行高的几种方式
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-07-05T15:03:59+08:00" content="2017-07-05">
              2017-07-05
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>当我还是小白时（比现在更白的时候）对于 UITableViewCell 的行高问题还是比较头疼的，当然这个算是 iOS 开发中相当基础的内容了，但是当时的我就想过，将 UITableViewCell 的行高问题解决了一定写一篇总结博客，所以就有了这篇博客。尽管拖了这。么。久。。。</p>
<p>iOS 的界面中，UITableView 应该是用的最多的控件之一了吧：微信列表、聊天记录、朋友圈、微博 time line。。。哪哪离不开 UITableView。而 UITableView 则是由 UITableViewCell 组成的，这些 cell 有的行高是固定的，大部分则需要根据内容反计算行高来展示。本篇博客则来介绍 UITableViewCell 计算行高的几种方式。</p>
<h1 id="固定行高"><a href="#固定行高" class="headerlink" title="固定行高"></a>固定行高</h1><p>有相当一部分 UITableView 的行高是固定的，这种 cell 在代码书写和代码性能上相比而言就简单了许多，有以下两种方式设定行高：</p>
<h2 id="统一设定"><a href="#统一设定" class="headerlink" title="统一设定"></a>统一设定</h2><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">self</span>.tableView.rowHeight = <span class="number">44</span>; <span class="regexp">//</span> 系统自带的 cell 的行高大概就是 <span class="number">44</span></span><br></pre></td></tr></table></figure>
<ul>
<li>优点：这种方式最为简单。</li>
<li>缺点：相对的对 tableView 的可控性也最弱，它会将 tableView 所有的 cell 高度统一设置为 44。</li>
</ul>
<h2 id="通过代理设定"><a href="#通过代理设定" class="headerlink" title="通过代理设定"></a>通过代理设定</h2><p>通过实现 UITableViewDelegate 方法，同样可以控制 tableView 的行高。</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">-</span> (CGFloat)<span class="selector-tag">tableView</span><span class="selector-pseudo">:(UITableView</span> *)<span class="selector-tag">tableView</span> <span class="selector-tag">heightForRowAtIndexPath</span><span class="selector-pseudo">:(NSIndexPath</span> *)<span class="selector-tag">indexPath</span> &#123;</span><br><span class="line">    <span class="comment">// 1.</span></span><br><span class="line">    <span class="comment">// return 44;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 2.</span></span><br><span class="line">    <span class="comment">// if (tableView == self.tableView1) &#123;</span></span><br><span class="line">    <span class="comment">// 	return 44;</span></span><br><span class="line">    <span class="comment">// &#125; else &#123;</span></span><br><span class="line">    <span class="comment">// 	return 88;</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 3.</span></span><br><span class="line">    <span class="selector-tag">if</span> (indexPath.row == <span class="number">1</span>) &#123;</span><br><span class="line">        return 44;</span><br><span class="line">    &#125; <span class="selector-tag">else</span> &#123;</span><br><span class="line">        return 88;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>优点：采用这种实现代理的方法可以对不同的 tableView 、tableView 中不同的 section、row，进行判断分别设置，可控性更强。</li>
<li>缺点：因为在每次展示 cell 时都会调用了一次该代理方法，所以较于第一种方法一些性能损耗。</li>
</ul>
<p>这个缺点在苹果介绍  <code>rowHeight</code> 属性的文档里也有指明：</p>
<blockquote>
<p>There are performance implications to using tableView:heightForRowAtIndexPath: instead of rowHeight. Every time a table view is displayed, it calls tableView:heightForRowAtIndexPath: on the delegate for each of its rows, which can result in a significant performance problem with table views having a large number of rows (approximately 1000 or more).</p>
</blockquote>
<p>所以，如果你的 tableView 的行高是统一的、固定的，那么最好采用第一种方法，直接设置 rowHeight。</p>
<h1 id="不定行高"><a href="#不定行高" class="headerlink" title="不定行高"></a>不定行高</h1><p>固定行高的 tableView 已经算是小儿科了，但是也属于 UITableViewCell 行高的范畴，所以还是简单提了一下。<br>那么，当 tableView 的行高不固定时，有以下几种计算方式。</p>
<h2 id="估算行高"><a href="#估算行高" class="headerlink" title="估算行高"></a>估算行高</h2><p>其实，UITableView 的 <code>rowHeight</code> 可以设置为 <code>UITableViewAutomaticDimension</code>，顾名思义，cell 可以设置为自动计算行高。然而，仅仅将 rowHeight 设置为 UITableViewAutomaticDimension 对自计算行高是不起效的，这时候就需要另一个属性：<code>estimatedRowHeight</code>。</p>
<p>iOS8 苹果推出了 self-sizing 的概念。UITableView 在 iOS7 就增加了一个属性： <code>estimatedRowHeight</code> ，苹果是这样描述的：</p>
<blockquote>
<p>Providing a nonnegative estimate of the height of rows can improve the performance of loading the table view. If the table contains variable height rows, it might be expensive to calculate all their heights when the table loads. Using estimation allows you to defer some of the cost of geometry calculation from load time to scrolling time.<br><code>When you create a self-sizing table view cell, you need to set this property and use constraints to define the cell’s size.</code><br>The default value is 0, which means there is no estimate.</p>
</blockquote>
<p>你可以使用这个属性来给 cell 估算行高，但是默认值为 0，不会进行估算。<br>所以如果想开启估算行高的话，必须设置 estimatedRowHeight，如：</p>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">self</span>.<span class="built_in">table</span>View.estimatedRowHeight = <span class="number">60</span>;</span><br><span class="line"><span class="literal">self</span>.<span class="built_in">table</span>View.rowHeight = UITableViewAutomaticDimension;</span><br></pre></td></tr></table></figure>
<p>将 estimatedRowHeight 设置为一个大概的估计行高值即可，没有严格的限制。比如你的 cell 高度大概在 50 到 100 之间，那么你可以将 estimatedRowHeight 设置为 75；<br>rowHeight 的默认值为 UITableViewAutomaticDimension，所以第二行可以省略。</p>
<p>然后就是对你的 cell 进行布局设置，这里以 <a href="https://github.com/SnapKit/Masonry" target="_blank" rel="external">Masonry</a> 为例（AutoLayout 的话，这个框架大家应该都在用吧？～）<br>伪代码如下：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">- (instancetype)initWithStyle:(<span class="built_in">UITableViewCellStyle</span>)style reuseIdentifier:(<span class="built_in">NSString</span> *)reuseIdentifier &#123;</span><br><span class="line">    <span class="keyword">self</span> = [<span class="keyword">super</span> initWithStyle:style reuseIdentifier:reuseIdentifier];</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>) &#123;</span><br><span class="line">        __<span class="keyword">weak</span> __<span class="keyword">typeof</span>(<span class="keyword">self</span>)weakSelf = <span class="keyword">self</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">UILabel</span> *label1 = [<span class="built_in">UILabel</span> new];</span><br><span class="line">        [<span class="keyword">self</span>.contentView addSubview:label1];</span><br><span class="line">        [label1 mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">            __<span class="keyword">strong</span> __<span class="keyword">typeof</span>(weakSelf)strongSelf = weakSelf;</span><br><span class="line">            make.top.equalTo(strongSelf.contentView).with.offset(<span class="number">10</span>);</span><br><span class="line">            make.left.equalTo(strongSelf.contentView).with.offset(<span class="number">10</span>);</span><br><span class="line">            make.right.equalTo(strongSelf.contentView).with.offset(<span class="number">-10</span>);</span><br><span class="line">            make.height.mas_equalTo(<span class="number">22</span>); <span class="comment">// ①</span></span><br><span class="line">        &#125;];</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">UILabel</span> *label2 = [<span class="built_in">UILabel</span> new];</span><br><span class="line">        [label2 setNumberOfLines:<span class="number">0</span>];</span><br><span class="line">        [<span class="keyword">self</span>.contentView addSubview:label2];</span><br><span class="line">        [label2 mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">            __<span class="keyword">strong</span> __<span class="keyword">typeof</span>(weakSelf)strongSelf = weakSelf;</span><br><span class="line">            make.top.equalTo(label1.mas_bottom).with.offset(<span class="number">10</span>);</span><br><span class="line">            make.left.equalTo(label1);</span><br><span class="line">            make.right.equalTo(label1);</span><br><span class="line">            make.bottom.equalTo(strongSelf.contentView.mas_bottom).with.offset(<span class="number">-10</span>); <span class="comment">// ②</span></span><br><span class="line">        &#125;];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注释①：该条约束可以注释掉，然后将 label1 设置为 <code>[label1 setNumberOfLines:0];</code> 这样 label1 就可以根据内容自动计算高度。<br>注释②：必须设置该条约束。为了确定 cell 的高度，最接近 cell bottom 的控件需要设置一个距离 cell bottom 的约束。</p>
<p>布局结果大概是这样的效果：<img src="http://image.gonghonglou.com/CellHeight/cell_label_layout.png" alt="自动布局结果"></p>
<ul>
<li>优点：代码书写简单，页面布局快捷。在 cell 的 <code>initWithStyle:</code> 方法里就已经新建各个控件并将位置设置好，并且不需要单独计算 cell 的高度。</li>
<li>缺点：效率低，稍微复杂些的页面就能感觉到 tableView 滑动时的掉帧。</li>
</ul>
<h2 id="代理计算行高"><a href="#代理计算行高" class="headerlink" title="代理计算行高"></a>代理计算行高</h2><p>首先来执行一波伪代码，用打印来观察各个代理方法的执行顺序：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#pragma mark - UITableViewDataSource</span></span><br><span class="line">- (<span class="built_in">NSInteger</span>)tableView:(<span class="built_in">UITableView</span> *)tableView numberOfRowsInSection:(<span class="built_in">NSInteger</span>)section &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"---方法 : numberOfRowsInSection: ---section : %ld"</span>, (<span class="keyword">long</span>)section);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">UITableViewCell</span> *)tableView:(<span class="built_in">UITableView</span> *)tableView cellForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"---方法 : cellForRowAtIndexPath: ---row : %ld"</span>, (<span class="keyword">long</span>)indexPath.row);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UITableViewCell</span> *cell = [tableView dequeueReusableCellWithIdentifier:<span class="string">@"cell"</span>];</span><br><span class="line">    <span class="keyword">return</span> cell;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - UITableViewDelegate</span></span><br><span class="line">- (<span class="built_in">CGFloat</span>)tableView:(<span class="built_in">UITableView</span> *)tableView heightForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"---方法 : heightForRowAtIndexPath: ---row : %ld"</span>, (<span class="keyword">long</span>)indexPath.row);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> cellHight;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>控制台打印结果如下：<img src="http://image.gonghonglou.com/CellHeight/cell_delegate.png" alt="代码执行顺序"></p>
<p>①：首先执行 <code>numberOfRowsInSection:</code> 方法，返回 cell 个数为 10。<br>②：其次执行的就是 <code>heightForRowAtIndexPath:</code> 方法，如上图，此时执行该方法会将所有 cell 的高度全部返回。<br>③④⑤：这时候就开始执行 <code>cellForRowAtIndexPath:</code> 方法，因为当前页面只能布局 3 条 cell，所以该方法会被执行三次。并且，执行一次 <code>cellForRowAtIndexPath:</code> 方法紧接着就会执行一次 <code>heightForRowAtIndexPath:</code> 方法返回 cell 高度。</p>
<p>因此，当我们从网络或者本地缓存中获取到所需数据（ <code>array</code> ）后，可以直接执行代码：</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[self.tableView reloadData]</span><span class="comment">;</span></span><br></pre></td></tr></table></figure>
<p>然后就会调用 <code>cellForRowAtIndexPath:</code> 方法和 <code>heightForRowAtIndexPath:</code> 方法。</p>
<p>cell 的 <code>initWithStyle:</code> 方法：<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">- (instancetype)initWithStyle:(<span class="built_in">UITableViewCellStyle</span>)style reuseIdentifier:(<span class="built_in">NSString</span> *)reuseIdentifier &#123;</span><br><span class="line">    <span class="keyword">self</span> = [<span class="keyword">super</span> initWithStyle:style reuseIdentifier:reuseIdentifier];</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>) &#123;        </span><br><span class="line">        <span class="built_in">UILabel</span> *label1 = [<span class="built_in">UILabel</span> new];</span><br><span class="line">        [<span class="keyword">self</span>.contentView addSubview:label1];</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">UILabel</span> *label2 = [<span class="built_in">UILabel</span> new];</span><br><span class="line">        [label2 setNumberOfLines:<span class="number">0</span>];</span><br><span class="line">        [<span class="keyword">self</span>.contentView addSubview:label2];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>我们可以在 <code>cellForRowAtIndexPath:</code> 方法进行 cell 布局，如：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">UITableViewCell</span> *)tableView:(<span class="built_in">UITableView</span> *)tableView cellForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath &#123;</span><br><span class="line">    <span class="built_in">UITableViewCell</span> *cell = [tableView dequeueReusableCellWithIdentifier:<span class="string">@"cell"</span>];</span><br><span class="line">    <span class="keyword">if</span> (!cell) &#123;</span><br><span class="line">        cell = [[<span class="built_in">UITableViewCell</span> alloc] initWithStyle:<span class="built_in">UITableViewCellStyleDefault</span> reuseIdentifier:<span class="string">@"cell"</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 内容</span></span><br><span class="line">    cell.label1.text = <span class="string">@"..."</span>;</span><br><span class="line">    cell.label2.text = <span class="string">@"..."</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 布局</span></span><br><span class="line">    <span class="built_in">CGFloat</span> viewWidth = [<span class="built_in">UIScreen</span> mainScreen].bounds.size.width;</span><br><span class="line">    cell.label1.fream = <span class="built_in">CGRectMake</span>(<span class="number">10</span>, <span class="number">10</span>, viewWidth<span class="number">-20</span>, <span class="number">22</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">CGFloat</span> label2Height = [text boundingRectWithSize:<span class="built_in">CGSizeMake</span>(viewWidth<span class="number">-20</span>, MAXFLOAT) options:<span class="built_in">NSStringDrawingUsesLineFragmentOrigin</span> attributes:@&#123;<span class="built_in">NSFontAttributeName</span>:font&#125; context:<span class="literal">nil</span>].size.height;</span><br><span class="line">    cell.label2.fream = <span class="built_in">CGRectMake</span>(<span class="number">10</span>, <span class="number">10</span>, viewWidth<span class="number">-20</span>, label2Height);</span><br><span class="line">    <span class="keyword">return</span> cell;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>布局结果大概是这样的效果：<img src="http://image.gonghonglou.com/CellHeight/cell_label_fream.png" alt="手动布局结果"></p>
<p>然后在 <code>heightForRowAtIndexPath:</code> 方法里根据 array 数据计算 cell 的高度，如：<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">CGFloat</span>)tableView:(<span class="built_in">UITableView</span> *)tableView heightForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath &#123;</span><br><span class="line">    <span class="built_in">CGFloat</span> viewWidth = [<span class="built_in">UIScreen</span> mainScreen].bounds.size.width;</span><br><span class="line">    <span class="built_in">CGFloat</span> label2Height = [text boundingRectWithSize:<span class="built_in">CGSizeMake</span>(viewWidth<span class="number">-20</span>, MAXFLOAT) options:<span class="built_in">NSStringDrawingUsesLineFragmentOrigin</span> attributes:@&#123;<span class="built_in">NSFontAttributeName</span>:font&#125; context:<span class="literal">nil</span>].size.height;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">10</span> + <span class="number">22</span> + <span class="number">10</span> + label2Height + <span class="number">10</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<ul>
<li>优点：通过 feram 的方式能够提高布局效率</li>
<li>缺点：因为每次 cell 将要出现时都去执行一次 <code>heightForRowAtIndexPath:</code> 所以效率还是不够高，而且行高没有得到缓存，造成大量不必要的计算上的浪费。所以就有了下边这种方法。</li>
</ul>
<h2 id="提前计算行高"><a href="#提前计算行高" class="headerlink" title="提前计算行高"></a>提前计算行高</h2><p>这种方式是出自 MVVM 的产物，因为最近都在使用 MVVM 框架，所有的计算都放到了 viewModel 里，所以在 viewModel 从网络或者本地缓存拿到数据后接着就会处理，将原始数据处理封装成 cell 的 VO（view object） 类对象，该 VO 类里包含着 cell 所需要的展示内容和尺寸，如：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">TableViewCellVO</span> : <span class="title">NSObject</span></span></span><br><span class="line"><span class="comment">// 数据</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">copy</span>) <span class="built_in">NSString</span> *label1Text;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">copy</span>) <span class="built_in">NSString</span> *label2Text;</span><br><span class="line"><span class="comment">// 尺寸</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="built_in">CGRect</span> label1Fream;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="built_in">CGRect</span> label2Fream;</span><br><span class="line"><span class="comment">// 行高</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="built_in">CGFloat</span> cellHeight;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>然后将处理好的 cellVOArray 传给 UITableView 的数据源和代理，在 <code>cellForRowAtIndexPath:</code> 方法直接赋值：</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath &#123;</span><br><span class="line">    UITableViewCell *<span class="keyword">cell</span> = [tableView dequeueReusableCellWithIdentifier:@<span class="string">"cell"</span>];</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">cell</span>) &#123;</span><br><span class="line">        <span class="keyword">cell</span> = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:@<span class="string">"cell"</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    TableViewCellVO *cellVO = cellVOArray[indexPath<span class="variable">.row</span>];</span><br><span class="line">    <span class="comment">// 数据</span></span><br><span class="line">    <span class="keyword">cell</span><span class="variable">.label1</span><span class="variable">.text</span> = cellVO<span class="variable">.label1Text</span>;</span><br><span class="line">    <span class="keyword">cell</span><span class="variable">.label2</span><span class="variable">.text</span> = cellVO<span class="variable">.label2Text</span>;</span><br><span class="line">    <span class="comment">// 布局</span></span><br><span class="line">    <span class="keyword">cell</span><span class="variable">.label1</span><span class="variable">.fream</span> = cellVO<span class="variable">.label1Fream</span>;</span><br><span class="line">    <span class="keyword">cell</span><span class="variable">.label2</span><span class="variable">.fream</span> = cellVO<span class="variable">.label2Fream</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">cell</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在 <code>heightForRowAtIndexPath:</code> 方法里直接返回行高：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">CGFloat</span>)tableView:(<span class="built_in">UITableView</span> *)tableView heightForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath &#123;</span><br><span class="line">    TableViewCellVO *cellVO = cellVOArray[indexPath.row];</span><br><span class="line">    <span class="keyword">return</span> cellVO.cellHeight</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>优点：行高与 cell 内的各控件尺寸都提前计算好，在执行 <code>cellForRowAtIndexPath:</code> 方法和 <code>heightForRowAtIndexPath:</code> 方法时比较快，且行高得到缓存，避免了冗余的计算。</li>
<li>缺点：在从网络或者本地缓存拿到数据之后，执行 <code>[self.tableView reloadData];</code> 之前需要花费时间处理数据及计算 fream。这里需要谨慎处理数据，可以采用多线程等技术缩短数据处理的时间。</li>
</ul>
<p>因为在数据处理上所花费的时间要远小于页面滚动时所消耗的时间。凡是涉及页面的操作都是相当耗费时间的，相比而言对于 cpu 在处理数据上的时间就可以忽略不计了，毕竟我们所要处理的数据都不会太大，如果数据过多的话可以做分次获取处理（下拉刷新操作），所以这里的缺点相对于上一种方法还是可以忍受的。</p>
<h1 id="XIB-方式处理-UITableViewCell-的行高问题"><a href="#XIB-方式处理-UITableViewCell-的行高问题" class="headerlink" title="XIB 方式处理 UITableViewCell 的行高问题"></a>XIB 方式处理 UITableViewCell 的行高问题</h1><p>对于纯 Code 和 SB 方式的页面布局问题业界已经相爱相杀了很久，各有各的道理。我的观点是：哪种布局方式适合自己就好了，看个人喜好。相比于 SB 的“所见即所得”，快速布局等，我个人更喜欢纯 Code 的方式，对代码的可控性更强（亦不排除我个人是比较喜欢 Coding 的因素）。<br>不过，如果你是偏好 SB 的布局方式，采用 XIB 方式处理 UITableViewCell，那么你可以看看<a href="http://blog.sunnyxx.com/" target="_blank" rel="external">sunnyxx</a> 的 <a href="https://github.com/forkingdog/UITableView-FDTemplateLayoutCell" target="_blank" rel="external">UITableView-FDTemplateLayoutCell</a>（点击可查看<a href="https://github.com/forkingdog/UITableView-FDTemplateLayoutCell" target="_blank" rel="external">GitHub</a>）这种解决方案。<br>而且，本文的前一部分也参考了 <a href="http://blog.sunnyxx.com/" target="_blank" rel="external">sunnyxx</a> 的这篇博客 <a href="http://blog.sunnyxx.com/2015/05/17/cell-height-calculation/" target="_blank" rel="external">优化UITableViewCell高度计算的那些事
</a>，推荐阅读。</p>
<h1 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h1><ul>
<li><p>小白出手，请多指教。如言有误，还望斧正！</p>
</li>
<li><p>转载请保留原文地址：<a href="http://gonghonglou.com/2017/07/03/cell-height">http://gonghonglou.com/2017/07/03/cell-height</a></p>
</li>
</ul>

      
    </div>

    <div>
      
        
      
    </div>

    <footer class="post-footer">
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/12/26/saybye2016/" rel="next" title="Say Bye 2016">
                <i class="fa fa-chevron-left"></i> Say Bye 2016
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/07/10/ss-vps/" rel="prev" title="一小时轻松实现科学上网">
                一小时轻松实现科学上网 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.png"
               alt="与佳期" />
          <p class="site-author-name" itemprop="name">与佳期</p>
          <p class="site-description motion-element" itemprop="description">登白薠兮骋望，与佳期兮夕张。</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">14</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">4</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/gonghonglou" target="_blank">
                  
                    <i class="fa fa-weibo"></i> weibo
                  
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://github.com/gonghonglou" target="_blank">
                  
                    <i class="fa fa-github"></i> github
                  
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/gonghonglou" target="_blank">
                  
                    <i class="fa fa-twitter"></i> twitter
                  
                </a>
              </span>
            
          
        </div>

        
        

        
        <div class="links-of-blogroll motion-element">
          
        </div>

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator">
            <i class="fa fa-angle-double-up"></i>
          </div>
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#固定行高"><span class="nav-number">1.</span> <span class="nav-text">固定行高</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#统一设定"><span class="nav-number">1.1.</span> <span class="nav-text">统一设定</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#通过代理设定"><span class="nav-number">1.2.</span> <span class="nav-text">通过代理设定</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#不定行高"><span class="nav-number">2.</span> <span class="nav-text">不定行高</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#估算行高"><span class="nav-number">2.1.</span> <span class="nav-text">估算行高</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#代理计算行高"><span class="nav-number">2.2.</span> <span class="nav-text">代理计算行高</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#提前计算行高"><span class="nav-number">2.3.</span> <span class="nav-text">提前计算行高</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#XIB-方式处理-UITableViewCell-的行高问题"><span class="nav-number">3.</span> <span class="nav-text">XIB 方式处理 UITableViewCell 的行高问题</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#后记"><span class="nav-number">4.</span> <span class="nav-text">后记</span></a></li></ol></div>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator">
            <i class="fa fa-angle-double-down"></i>
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">与佳期</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>



      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  


  




<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  <script type="text/javascript" src="/lib/velocity/velocity.min.js"></script>

  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=0.5.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=0.5.0"></script>



  
  

  
  
<script type="text/javascript" src="/js/src/scrollspy.js?v=0.5.0"></script>

<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.motion.complete', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      var $indicator = $(indicator);
      var opacity = action === 'show' ? 1 : 0;
      $indicator.velocity ?
        $indicator.velocity('stop').velocity({
          opacity: opacity
        }, { duration: 100 }) :
        $indicator.stop().animate({
          opacity: opacity
        }, 100);
    }

  });
</script>

<script type="text/javascript" id="sidebar.nav">
  $(document).ready(function () {
    var html = $('html');
    var TAB_ANIMATE_DURATION = 200;
    var hasVelocity = $.isFunction(html.velocity);

    $('.sidebar-nav li').on('click', function () {
      var item = $(this);
      var activeTabClassName = 'sidebar-nav-active';
      var activePanelClassName = 'sidebar-panel-active';
      if (item.hasClass(activeTabClassName)) {
        return;
      }

      var currentTarget = $('.' + activePanelClassName);
      var target = $('.' + item.data('target'));

      hasVelocity ?
        currentTarget.velocity('transition.slideUpOut', TAB_ANIMATE_DURATION, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', TAB_ANIMATE_DURATION)
            .addClass(activePanelClassName);
        }) :
        currentTarget.animate({ opacity: 0 }, TAB_ANIMATE_DURATION, function () {
          currentTarget.hide();
          target
            .stop()
            .css({'opacity': 0, 'display': 'block'})
            .animate({ opacity: 1 }, TAB_ANIMATE_DURATION, function () {
              currentTarget.removeClass(activePanelClassName);
              target.addClass(activePanelClassName);
            });
        });

      item.siblings().removeClass(activeTabClassName);
      item.addClass(activeTabClassName);
    });

    $('.post-toc a').on('click', function (e) {
      e.preventDefault();
      var targetSelector = NexT.utils.escapeSelector(this.getAttribute('href'));
      var offset = $(targetSelector).offset().top;
      hasVelocity ?
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        }) :
        $('html, body').stop().animate({
          scrollTop: offset
        }, 500);
    });

    // Expand sidebar on post detail page by default, when post has a toc.
    NexT.motion.middleWares.sidebar = function () {
      var $tocContent = $('.post-toc-content');

      if (CONFIG.sidebar.display === 'post' || CONFIG.sidebar.display === 'always') {
        if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
          NexT.utils.displaySidebar();
        }
      }
    };
  });
</script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=0.5.0"></script>



  



  



  
  
  

  

  

</body>
</html>
